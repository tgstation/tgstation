<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/turf/open - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="turf/open.html#var">Var Details</a> - <a href="turf/open.html#proc">Proc Details</a></header><main><h1>open <aside>/<a href="turf.html">turf</a>/<a href="turf/open.html">open</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/turfs/open/_open.dm#L1"><img src="git.png" width="16" height="16" title="code/game/turfs/open/_open.dm 1"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="turf/open.html#var/active_hotspot">active_hotspot</a></th><td>If there is an active hotspot on us store a reference to it here</td></tr><tr><th><a href="turf/open.html#var/air">air</a></th><td>Our gas mix</td></tr><tr><th><a href="turf/open.html#var/atmos_overlay_types">atmos_overlay_types</a></th><td>gas IDs of current active gas overlays</td></tr><tr><th><a href="turf/open.html#var/damaged_dmi">damaged_dmi</a></th><td>Determines the type of damage overlay that will be used for the tile</td></tr><tr><th><a href="turf/open.html#var/destination_x">destination_x</a></th><td>Custom destination for mirages</td></tr><tr><th><a href="turf/open.html#var/destination_y">destination_y</a></th><td>Custom destination for mirages</td></tr><tr><th><a href="turf/open.html#var/destination_z">destination_z</a></th><td>Custom destination for mirages</td></tr><tr><th><a href="turf/open.html#var/excited">excited</a></th><td>Are we active?</td></tr><tr><th><a href="turf/open.html#var/excited_group">excited_group</a></th><td>Excited group we are part of</td></tr><tr><th><a href="turf/open.html#var/fire_puff_cooldown">fire_puff_cooldown</a></th><td>the cooldown on playing a fire starting sound each time a tile is ignited</td></tr><tr><th><a href="turf/open.html#var/planetary_atmos">planetary_atmos</a></th><td>air will slowly revert to initial_gas_mix</td></tr><tr><th><a href="turf/open.html#var/pressure_difference">pressure_difference</a></th><td>Pressure difference between two turfs</td></tr><tr><th><a href="turf/open.html#var/pressure_direction">pressure_direction</a></th><td>Where the difference come from (from higher pressure to lower pressure)</td></tr><tr><th><a href="turf/open.html#var/run_later">run_later</a></th><td>once our paired turfs are finished with all other shares, do one 100% share
exists so things like space can ask to take 100% of a tile's gas</td></tr><tr><th><a href="turf/open.html#var/slowdown">slowdown</a></th><td>negative for faster, positive for slower</td></tr><tr><th><a href="turf/open.html#var/smooth_broken">smooth_broken</a></th><td>Are broken overlays smoothed? if they are we have to change a little bit about how we render them</td></tr><tr><th><a href="turf/open.html#var/smooth_burnt">smooth_burnt</a></th><td>Are burnt overlays smoothed? if they are we have to change a little bit about how we render them</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="turf/open.html#proc/Assimilate_Air">Assimilate_Air</a></th><td>Assimilate Air</td></tr><tr><th><a href="turf/open.html#proc/broken_states">broken_states</a></th><td>Returns a list of every turf state considered &quot;broken&quot;.
Will be randomly chosen if a turf breaks at runtime.</td></tr><tr><th><a href="turf/open.html#proc/build_with_floor_tiles">build_with_floor_tiles</a></th><td>Very similar to build_with_rods, this exists to allow consistent behavior between different types in terms of how
Building floors works</td></tr><tr><th><a href="turf/open.html#proc/build_with_rods">build_with_rods</a></th><td>Builds with rods. This doesn't exist to be overridden, just to remove duplicate logic for turfs that want
To support floor tile creation
I'd make it a component, but one of these things is space. So no.</td></tr><tr><th><a href="turf/open.html#proc/build_with_titanium">build_with_titanium</a></th><td>Very similar to build_with_rods, this exists to allow building transport/tram girders on openspace</td></tr><tr><th><a href="turf/open.html#proc/build_with_transport_tiles">build_with_transport_tiles</a></th><td>Very similar to build_with_rods, this exists to allow consistent behavior between different types in terms of how
Building floors works</td></tr><tr><th><a href="turf/open.html#proc/burnt_states">burnt_states</a></th><td>Returns a list of every turf state considered &quot;burnt&quot;.
Will be randomly chosen if a turf is burnt at runtime.</td></tr><tr><th><a href="turf/open.html#proc/can_atmos_pass">can_atmos_pass</a></th><td>Do NOT use this to see if 2 turfs are connected, it mutates state, and we cache that info anyhow.
Use TURFS_CAN_SHARE or TURF_SHARES depending on your usecase</td></tr><tr><th><a href="turf/open.html#proc/conductivity_directions">conductivity_directions</a></th><td>Returns a set of directions that we should be conducting in, NOTE, atmos_supeconductivity is ACTUALLY inversed, don't worrry about it</td></tr><tr><th><a href="turf/open.html#proc/consider_pressure_difference">consider_pressure_difference</a></th><td>SPACEWIND</td></tr><tr><th><a href="turf/open.html#proc/hotspot_expose">hotspot_expose</a></th><td>Handles the creation of hotspots and initial activation of turfs.
Setting the conditions for the reaction to actually happen for gasmixtures
is handled by the hotspot itself, specifically perform_exposure().</td></tr><tr><th><a href="turf/open.html#proc/quake_gateway">quake_gateway</a></th><td>Bespoke proc that happens when a proteon orb is activated, creating a gateway.
If activated by a non-cultist, they get an unusual game over.</td></tr><tr><th><a href="turf/open.html#proc/replace_floor">replace_floor</a></th><td>Replace an open turf with another open turf while avoiding the pitfall of replacing plating with a floor tile, leaving a hole underneath.
This replaces the current turf if it is plating and is passed plating, is tile and is passed tile.
It places the new turf on top of itself if it is plating and is passed a tile.
It also replaces the turf if it is tile and is passed plating, essentially destroying the over turf.
Flags argument is passed directly to ChangeTurf or PlaceOnTop</td></tr><tr><th><a href="turf/open.html#proc/update_visuals">update_visuals</a></th><td>GAS OVERLAYS</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/active_hotspot"><aside class="declaration">var </aside>active_hotspot <aside>– /<a href="obj.html">obj</a>/<a href="obj/effect/hotspot.html">effect/hotspot</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/atmospherics/environmental/LINDA_turf_tile.dm#L43"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/environmental/LINDA_turf_tile.dm 43"></a></h3><p>If there is an active hotspot on us store a reference to it here</p><h3 id="var/air"><aside class="declaration">var </aside>air <aside>– /<a href="datum.html">datum</a>/<a href="datum/gas_mixture.html">gas_mixture</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/atmospherics/environmental/LINDA_turf_tile.dm#L40"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/environmental/LINDA_turf_tile.dm 40"></a></h3><p>Our gas mix</p><h3 id="var/atmos_overlay_types"><aside class="declaration">var </aside>atmos_overlay_types <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/atmospherics/environmental/LINDA_turf_tile.dm#L51"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/environmental/LINDA_turf_tile.dm 51"></a></h3><p>gas IDs of current active gas overlays</p><h3 id="var/damaged_dmi"><aside class="declaration">var </aside>damaged_dmi <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/turfs/open/_open.dm#L14"><img src="git.png" width="16" height="16" title="code/game/turfs/open/_open.dm 14"></a></h3><p>Determines the type of damage overlay that will be used for the tile</p><h3 id="var/destination_x"><aside class="declaration">var </aside>destination_x <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/turfs/open/_open.dm#L25"><img src="git.png" width="16" height="16" title="code/game/turfs/open/_open.dm 25"></a></h3><p>Custom destination for mirages</p><h3 id="var/destination_y"><aside class="declaration">var </aside>destination_y <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/turfs/open/_open.dm#L27"><img src="git.png" width="16" height="16" title="code/game/turfs/open/_open.dm 27"></a></h3><p>Custom destination for mirages</p><h3 id="var/destination_z"><aside class="declaration">var </aside>destination_z <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/turfs/open/_open.dm#L23"><img src="git.png" width="16" height="16" title="code/game/turfs/open/_open.dm 23"></a></h3><p>Custom destination for mirages</p><h3 id="var/excited"><aside class="declaration">var </aside>excited <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/atmospherics/environmental/LINDA_turf_tile.dm#L38"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/environmental/LINDA_turf_tile.dm 38"></a></h3><p>Are we active?</p><h3 id="var/excited_group"><aside class="declaration">var </aside>excited_group <aside>– /<a href="datum.html">datum</a>/<a href="datum/excited_group.html">excited_group</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/atmospherics/environmental/LINDA_turf_tile.dm#L36"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/environmental/LINDA_turf_tile.dm 36"></a></h3><p>Excited group we are part of</p><h3 id="var/fire_puff_cooldown"><aside class="declaration">var </aside>fire_puff_cooldown <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/atmospherics/environmental/LINDA_turf_tile.dm#L54"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/environmental/LINDA_turf_tile.dm 54"></a></h3><p>the cooldown on playing a fire starting sound each time a tile is ignited</p><h3 id="var/planetary_atmos"><aside class="declaration">var </aside>planetary_atmos <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/atmospherics/environmental/LINDA_turf_tile.dm#L45"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/environmental/LINDA_turf_tile.dm 45"></a></h3><p>air will slowly revert to initial_gas_mix</p><h3 id="var/pressure_difference"><aside class="declaration">var </aside>pressure_difference <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/atmospherics/environmental/LINDA_turf_tile.dm#L31"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/environmental/LINDA_turf_tile.dm 31"></a></h3><p>Pressure difference between two turfs</p><h3 id="var/pressure_direction"><aside class="declaration">var </aside>pressure_direction <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/atmospherics/environmental/LINDA_turf_tile.dm#L33"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/environmental/LINDA_turf_tile.dm 33"></a></h3><p>Where the difference come from (from higher pressure to lower pressure)</p><h3 id="var/run_later"><aside class="declaration">var </aside>run_later <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/atmospherics/environmental/LINDA_turf_tile.dm#L48"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/environmental/LINDA_turf_tile.dm 48"></a></h3><p>once our paired turfs are finished with all other shares, do one 100% share
exists so things like space can ask to take 100% of a tile's gas</p><h3 id="var/slowdown"><aside class="declaration">var </aside>slowdown <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/turfs/open/_open.dm#L6"><img src="git.png" width="16" height="16" title="code/game/turfs/open/_open.dm 6"></a></h3><p>negative for faster, positive for slower</p><h3 id="var/smooth_broken"><aside class="declaration">var </aside>smooth_broken <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/turfs/open/_open.dm#L17"><img src="git.png" width="16" height="16" title="code/game/turfs/open/_open.dm 17"></a></h3><p>Are broken overlays smoothed? if they are we have to change a little bit about how we render them</p><h3 id="var/smooth_burnt"><aside class="declaration">var </aside>smooth_burnt <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/turfs/open/_open.dm#L20"><img src="git.png" width="16" height="16" title="code/game/turfs/open/_open.dm 20"></a></h3><p>Are burnt overlays smoothed? if they are we have to change a little bit about how we render them</p><h2 id="proc">Proc Details</h2><h3 id="proc/Assimilate_Air"><aside class="declaration">proc </aside>Assimilate_Air<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/turfs/change_turf.dm#L259"><img src="git.png" width="16" height="16" title="code/game/turfs/change_turf.dm 259"></a></aside></h3><p>Assimilate Air</p><h3 id="proc/broken_states"><aside class="declaration">proc </aside>broken_states<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/turfs/open/_open.dm#L31"><img src="git.png" width="16" height="16" title="code/game/turfs/open/_open.dm 31"></a></aside></h3><p>Returns a list of every turf state considered &quot;broken&quot;.
Will be randomly chosen if a turf breaks at runtime.</p><h3 id="proc/build_with_floor_tiles"><aside class="declaration">proc </aside>build_with_floor_tiles<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/stack.html">stack</a>/<a href="obj/item/stack/tile.html">tile</a>/iron/used_tiles, user)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/turfs/open/_open.dm#L534"><img src="git.png" width="16" height="16" title="code/game/turfs/open/_open.dm 534"></a></aside></h3><p>Very similar to build_with_rods, this exists to allow consistent behavior between different types in terms of how
Building floors works</p><h3 id="proc/build_with_rods"><aside class="declaration">proc </aside>build_with_rods<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/stack.html">stack</a>/rods/used_rods, /<a href="mob.html">mob</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/turfs/open/_open.dm#L507"><img src="git.png" width="16" height="16" title="code/game/turfs/open/_open.dm 507"></a></aside></h3><p>Builds with rods. This doesn't exist to be overridden, just to remove duplicate logic for turfs that want
To support floor tile creation
I'd make it a component, but one of these things is space. So no.</p><h3 id="proc/build_with_titanium"><aside class="declaration">proc </aside>build_with_titanium<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/stack.html">stack</a>/<a href="obj/item/stack/sheet.html">sheet</a>/mineral/titanium/used_stack, user)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/turfs/open/_open.dm#L582"><img src="git.png" width="16" height="16" title="code/game/turfs/open/_open.dm 582"></a></aside></h3><p>Very similar to build_with_rods, this exists to allow building transport/tram girders on openspace</p><h3 id="proc/build_with_transport_tiles"><aside class="declaration">proc </aside>build_with_transport_tiles<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/stack.html">stack</a>/thermoplastic/used_tiles, user)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/turfs/open/_open.dm#L560"><img src="git.png" width="16" height="16" title="code/game/turfs/open/_open.dm 560"></a></aside></h3><p>Very similar to build_with_rods, this exists to allow consistent behavior between different types in terms of how
Building floors works</p><h3 id="proc/burnt_states"><aside class="declaration">proc </aside>burnt_states<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/turfs/open/_open.dm#L36"><img src="git.png" width="16" height="16" title="code/game/turfs/open/_open.dm 36"></a></aside></h3><p>Returns a list of every turf state considered &quot;burnt&quot;.
Will be randomly chosen if a turf is burnt at runtime.</p><h3 id="proc/can_atmos_pass">can_atmos_pass<aside>(/<a href="turf.html">turf</a>/target_turf, vertical)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/atmospherics/environmental/LINDA_system.dm#L22"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/environmental/LINDA_system.dm 22"></a></aside></h3><p>Do NOT use this to see if 2 turfs are connected, it mutates state, and we cache that info anyhow.
Use TURFS_CAN_SHARE or TURF_SHARES depending on your usecase</p><h3 id="proc/conductivity_directions"><aside class="parent"><a title="/turf" href="turf.html#proc/conductivity_directions">↑</a></aside>conductivity_directions<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/atmospherics/environmental/LINDA_turf_tile.dm#L594"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/environmental/LINDA_turf_tile.dm 594"></a></aside></h3><p>Returns a set of directions that we should be conducting in, NOTE, atmos_supeconductivity is ACTUALLY inversed, don't worrry about it</p><h3 id="proc/consider_pressure_difference"><aside class="declaration">proc </aside>consider_pressure_difference<aside>(/<a href="turf.html">turf</a>/target_turf, difference)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/atmospherics/environmental/LINDA_turf_tile.dm#L378"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/environmental/LINDA_turf_tile.dm 378"></a></aside></h3><p>SPACEWIND</p><h3 id="proc/hotspot_expose">hotspot_expose<aside>(exposed_temperature, exposed_volume, soh)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/atmospherics/environmental/LINDA_fire.dm#L23"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/environmental/LINDA_fire.dm 23"></a></aside></h3><p>Handles the creation of hotspots and initial activation of turfs.
Setting the conditions for the reaction to actually happen for gasmixtures
is handled by the hotspot itself, specifically perform_exposure().</p><h3 id="proc/quake_gateway"><aside class="declaration">proc </aside>quake_gateway<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/antagonists/cult/cult_items.dm#L720"><img src="git.png" width="16" height="16" title="code/modules/antagonists/cult/cult_items.dm 720"></a></aside></h3><p>Bespoke proc that happens when a proteon orb is activated, creating a gateway.
If activated by a non-cultist, they get an unusual game over.</p><h3 id="proc/replace_floor"><aside class="declaration">proc </aside>replace_floor<aside>(/<a href="turf.html">turf</a>/<a href="turf/open.html">open</a>/new_floor_path, flags)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/turfs/open/_open.dm#L176"><img src="git.png" width="16" height="16" title="code/game/turfs/open/_open.dm 176"></a></aside></h3><p>Replace an open turf with another open turf while avoiding the pitfall of replacing plating with a floor tile, leaving a hole underneath.
This replaces the current turf if it is plating and is passed plating, is tile and is passed tile.
It places the new turf on top of itself if it is plating and is passed a tile.
It also replaces the turf if it is tile and is passed plating, essentially destroying the over turf.
Flags argument is passed directly to ChangeTurf or PlaceOnTop</p><h3 id="proc/update_visuals"><aside class="declaration">proc </aside>update_visuals<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/atmospherics/environmental/LINDA_turf_tile.dm#L166"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/environmental/LINDA_turf_tile.dm 166"></a></aside></h3><p>GAS OVERLAYS</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/c41b333c9bc46606d2c5d5b517f7836d5953fbfd">c41b333</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>