<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/turf/open/water - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="turf/open/water.html#var">Var Details</a> - <a href="turf/open/water.html#proc">Proc Details</a></header><main><h1>water <aside>/<a href="turf.html">turf</a>/<a href="turf/open.html">open</a>/<a href="turf/open/water.html">water</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/open/water.dm#L1"><img src="git.png" width="16" height="16" title="code/game/turfs/open/water.dm 1"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="turf/open/water.html#var/fishing_datum">fishing_datum</a></th><td>Fishing element for this specific water tile</td></tr><tr><th><a href="turf/open/water.html#var/immerse_added">immerse_added</a></th><td>Whether the immerse element has been added yet or not</td></tr><tr><th><a href="turf/open/water.html#var/immerse_overlay">immerse_overlay</a></th><td>Icon state to use for the immersion mask</td></tr><tr><th><a href="turf/open/water.html#var/immerse_overlay_alpha">immerse_overlay_alpha</a></th><td>The transparency of the immerse element's overlay</td></tr><tr><th><a href="turf/open/water.html#var/is_swimming_tile">is_swimming_tile</a></th><td>Variables used for the swimming tile element. If TRUE, we pass these values to the element.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="turf/open/water.html#proc/Entered">Entered</a></th><td>turf/Initialize() calls Entered on its contents too, however
we need to wait for movables that still need to be initialized
before we add the immerse element.</td></tr><tr><th><a href="turf/open/water.html#proc/make_immersed">make_immersed</a></th><td>Makes this turf immersable, return true if we actually did anything so child procs don't have to repeat our checks</td></tr><tr><th><a href="turf/open/water.html#proc/on_atom_inited">on_atom_inited</a></th><td>We lazily add the immerse element when something is spawned or crosses this turf and not before.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/fishing_datum"><aside class="declaration">var </aside>fishing_datum <aside>– /<a href="datum.html">datum</a>/<a href="datum/fish_source.html">fish_source</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/open/water.dm#L24"><img src="git.png" width="16" height="16" title="code/game/turfs/open/water.dm 24"></a></h3><p>Fishing element for this specific water tile</p><h3 id="var/immerse_added"><aside class="declaration">var </aside>immerse_added <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/open/water.dm#L27"><img src="git.png" width="16" height="16" title="code/game/turfs/open/water.dm 27"></a></h3><p>Whether the immerse element has been added yet or not</p><h3 id="var/immerse_overlay"><aside class="declaration">var </aside>immerse_overlay <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/open/water.dm#L21"><img src="git.png" width="16" height="16" title="code/game/turfs/open/water.dm 21"></a></h3><p>Icon state to use for the immersion mask</p><h3 id="var/immerse_overlay_alpha"><aside class="declaration">var </aside>immerse_overlay_alpha <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/open/water.dm#L19"><img src="git.png" width="16" height="16" title="code/game/turfs/open/water.dm 19"></a></h3><p>The transparency of the immerse element's overlay</p><h3 id="var/is_swimming_tile"><aside class="declaration">var </aside>is_swimming_tile <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/open/water.dm#L37"><img src="git.png" width="16" height="16" title="code/game/turfs/open/water.dm 37"></a></h3><p>Variables used for the swimming tile element. If TRUE, we pass these values to the element.</p>
<ul>
<li>is_swimming_tile: Whether or not we add the element to this tile.</li>
<li>stamina_entry_cost: how much stamina it costs to enter the swimming tile, and for each move into a tile</li>
<li>ticking_stamina_cost: How much stamina is lost for staying in the water.</li>
<li>ticking_oxy_damage: How much oxygen is lost per tick when drowning in water. Also determines how many breathes are lost.</li>
<li>exhaust_swimmer_prob: The likelihood that someone suffers stamina damage when entering a swimming tile.</li>
</ul><h2 id="proc">Proc Details</h2><h3 id="proc/Entered"><aside class="parent"><a title="/atom" href="atom.html#proc/Entered">↑</a></aside>Entered<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/arrived)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/open/water.dm#L66"><img src="git.png" width="16" height="16" title="code/game/turfs/open/water.dm 66"></a></aside></h3><p>turf/Initialize() calls Entered on its contents too, however
we need to wait for movables that still need to be initialized
before we add the immerse element.</p><h3 id="proc/make_immersed"><aside class="declaration">proc </aside>make_immersed<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/triggering_atom)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/open/water.dm#L71"><img src="git.png" width="16" height="16" title="code/game/turfs/open/water.dm 71"></a></aside></h3><p>Makes this turf immersable, return true if we actually did anything so child procs don't have to repeat our checks</p><h3 id="proc/on_atom_inited"><aside class="declaration">proc </aside>on_atom_inited<aside>(/<a href="datum.html">datum</a>/source, /<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/movable)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/open/water.dm#L56"><img src="git.png" width="16" height="16" title="code/game/turfs/open/water.dm 56"></a></aside></h3><p>We lazily add the immerse element when something is spawned or crosses this turf and not before.</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>