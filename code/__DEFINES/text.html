<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>code/__DEFINES/text.dm - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> â€” <a href="code/__DEFINES/text.html#define">Define Details</a></header><main><h1>code/__DEFINES/text.dm <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__DEFINES/text.dm"><img src="git.png" width="16" height="16" title="code/__DEFINES/text.dm"></a></h1><table class="summary" cellspacing="0"><tr><th><a href="code/__DEFINES/text.html#define/FOURSPACES">FOURSPACES</a></th><td>Does 4 spaces. Used as a makeshift tabulator.</td></tr><tr><th><a href="code/__DEFINES/text.html#define/MAPTEXT">MAPTEXT</a></th><td>Standard maptext
Prepares a text to be used for maptext. Use this so it doesn't look hideous.</td></tr><tr><th><a href="code/__DEFINES/text.html#define/MAPTEXT_PIXELLARI">MAPTEXT_PIXELLARI</a></th><td>Pixel-perfect scaled fonts for use in the MAP element as defined in skin.dmf</td></tr><tr><th><a href="code/__DEFINES/text.html#define/MAPTEXT_GRAND9K">MAPTEXT_GRAND9K</a></th><td>Standard size (ie: normal runechat) - Size options: 6pt 12pt 18pt.</td></tr><tr><th><a href="code/__DEFINES/text.html#define/MAPTEXT_TINY_UNICODE">MAPTEXT_TINY_UNICODE</a></th><td>Small size. (ie: context subtooltips, spell delays) - Size options: 12pt 24pt.</td></tr><tr><th><a href="code/__DEFINES/text.html#define/MAPTEXT_SPESSFONT">MAPTEXT_SPESSFONT</a></th><td>Smallest size. (ie: whisper runechat) - Size options: 6pt 12pt 18pt.</td></tr><tr><th><a href="code/__DEFINES/text.html#define/MAPTEXT_VCR_OSD_MONO">MAPTEXT_VCR_OSD_MONO</a></th><td>Prepares a text to be used for maptext, using a variable size font.</td></tr><tr><th><a href="code/__DEFINES/text.html#define/WXH_TO_HEIGHT">WXH_TO_HEIGHT</a></th><td>Macro from Lummox used to get height from a MeasureText proc.
resolves the MeasureText() return value once, then resolves the height, then sets return_var to that.</td></tr><tr><th><a href="code/__DEFINES/text.html#define/SANITIZE_FILENAME">SANITIZE_FILENAME</a></th><td>Removes characters incompatible with file names.</td></tr><tr><th><a href="code/__DEFINES/text.html#define/STRIP_HTML_SIMPLE">STRIP_HTML_SIMPLE</a></th><td>Simply removes the &lt; and &gt; characters, and limits the length of the message.</td></tr><tr><th><a href="code/__DEFINES/text.html#define/STRIP_HTML_FULL">STRIP_HTML_FULL</a></th><td>Removes everything enclose in &lt; and &gt; inclusive of the bracket, and limits the length of the message.</td></tr><tr><th><a href="code/__DEFINES/text.html#define/PREVENT_CHARACTER_TRIM_LOSS">PREVENT_CHARACTER_TRIM_LOSS</a></th><td>stuff like <code>copytext(input, length(input))</code> will trim the last character of the input,
because DM does it so it copies until the char BEFORE the <code>end</code> arg, so we need to bump <code>end</code> by 1 in these cases.</td></tr><tr><th><a href="code/__DEFINES/text.html#define/LOWER_TEXT">LOWER_TEXT</a></th><td>BYOND's string procs don't support being used on datum references (as in it doesn't look for a name for stringification)
We just use this macro to ensure that we will only pass strings to this BYOND-level function without developers needing to really worry about it.</td></tr><tr><th><a href="code/__DEFINES/text.html#define/STRING_DIRECTORY">STRING_DIRECTORY</a></th><td>Folder directory for strings</td></tr><tr><th><a href="code/__DEFINES/text.html#define/BRAIN_DAMAGE_FILE">BRAIN_DAMAGE_FILE</a></th><td>File location for brain damage traumas</td></tr><tr><th><a href="code/__DEFINES/text.html#define/ION_FILE">ION_FILE</a></th><td>File location for AI ion laws</td></tr><tr><th><a href="code/__DEFINES/text.html#define/PIRATE_NAMES_FILE">PIRATE_NAMES_FILE</a></th><td>File location for pirate names</td></tr><tr><th><a href="code/__DEFINES/text.html#define/REDPILL_FILE">REDPILL_FILE</a></th><td>File location for redpill questions</td></tr><tr><th><a href="code/__DEFINES/text.html#define/ARCADE_FILE">ARCADE_FILE</a></th><td>File location for arcade names</td></tr><tr><th><a href="code/__DEFINES/text.html#define/BOOMER_FILE">BOOMER_FILE</a></th><td>File location for boomer meme catchphrases</td></tr><tr><th><a href="code/__DEFINES/text.html#define/LOCATIONS_FILE">LOCATIONS_FILE</a></th><td>File location for locations on the station</td></tr><tr><th><a href="code/__DEFINES/text.html#define/WANTED_FILE">WANTED_FILE</a></th><td>File location for wanted posters messages</td></tr><tr><th><a href="code/__DEFINES/text.html#define/VISTA_FILE">VISTA_FILE</a></th><td>File location for really dumb suggestions memes</td></tr><tr><th><a href="code/__DEFINES/text.html#define/FLESH_SCAR_FILE">FLESH_SCAR_FILE</a></th><td>File location for flesh wound descriptions</td></tr><tr><th><a href="code/__DEFINES/text.html#define/BONE_SCAR_FILE">BONE_SCAR_FILE</a></th><td>File location for bone wound descriptions</td></tr><tr><th><a href="code/__DEFINES/text.html#define/SCAR_LOC_FILE">SCAR_LOC_FILE</a></th><td>File location for scar wound descriptions</td></tr><tr><th><a href="code/__DEFINES/text.html#define/EXODRONE_FILE">EXODRONE_FILE</a></th><td>File location for exodrone descriptions</td></tr><tr><th><a href="code/__DEFINES/text.html#define/CLOWN_NONSENSE_FILE">CLOWN_NONSENSE_FILE</a></th><td>File location for clown honk descriptions</td></tr><tr><th><a href="code/__DEFINES/text.html#define/CULT_SHUTTLE_CURSE">CULT_SHUTTLE_CURSE</a></th><td>File location for cult shuttle curse descriptions</td></tr><tr><th><a href="code/__DEFINES/text.html#define/EIGENSTASIUM_FILE">EIGENSTASIUM_FILE</a></th><td>File location for eigenstasium lines</td></tr><tr><th><a href="code/__DEFINES/text.html#define/HALLUCINATION_FILE">HALLUCINATION_FILE</a></th><td>File location for hallucination lines</td></tr><tr><th><a href="code/__DEFINES/text.html#define/NINJA_FILE">NINJA_FILE</a></th><td>File location for ninja lines</td></tr><tr><th><a href="code/__DEFINES/text.html#define/SPLASH_FILE">SPLASH_FILE</a></th><td>File loation for title splashes</td></tr><tr><th><a href="code/__DEFINES/text.html#define/MOTHER_FILE">MOTHER_FILE</a></th><td>File location for mother hallucination lines</td></tr></table><h2 id="define">Define Details</h2><h3 id="define/ARCADE_FILE"><aside class="declaration">#define </aside>ARCADE_FILE <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__DEFINES/text.dm#L84"><img src="git.png" width="16" height="16" title="code/__DEFINES/text.dm 84"></a></h3><p>File location for arcade names</p><h3 id="define/BONE_SCAR_FILE"><aside class="declaration">#define </aside>BONE_SCAR_FILE <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__DEFINES/text.dm#L96"><img src="git.png" width="16" height="16" title="code/__DEFINES/text.dm 96"></a></h3><p>File location for bone wound descriptions</p><h3 id="define/BOOMER_FILE"><aside class="declaration">#define </aside>BOOMER_FILE <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__DEFINES/text.dm#L86"><img src="git.png" width="16" height="16" title="code/__DEFINES/text.dm 86"></a></h3><p>File location for boomer meme catchphrases</p><h3 id="define/BRAIN_DAMAGE_FILE"><aside class="declaration">#define </aside>BRAIN_DAMAGE_FILE <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__DEFINES/text.dm#L76"><img src="git.png" width="16" height="16" title="code/__DEFINES/text.dm 76"></a></h3><p>File location for brain damage traumas</p><h3 id="define/CLOWN_NONSENSE_FILE"><aside class="declaration">#define </aside>CLOWN_NONSENSE_FILE <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__DEFINES/text.dm#L102"><img src="git.png" width="16" height="16" title="code/__DEFINES/text.dm 102"></a></h3><p>File location for clown honk descriptions</p><h3 id="define/CULT_SHUTTLE_CURSE"><aside class="declaration">#define </aside>CULT_SHUTTLE_CURSE <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__DEFINES/text.dm#L104"><img src="git.png" width="16" height="16" title="code/__DEFINES/text.dm 104"></a></h3><p>File location for cult shuttle curse descriptions</p><h3 id="define/EIGENSTASIUM_FILE"><aside class="declaration">#define </aside>EIGENSTASIUM_FILE <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__DEFINES/text.dm#L106"><img src="git.png" width="16" height="16" title="code/__DEFINES/text.dm 106"></a></h3><p>File location for eigenstasium lines</p><h3 id="define/EXODRONE_FILE"><aside class="declaration">#define </aside>EXODRONE_FILE <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__DEFINES/text.dm#L100"><img src="git.png" width="16" height="16" title="code/__DEFINES/text.dm 100"></a></h3><p>File location for exodrone descriptions</p><h3 id="define/FLESH_SCAR_FILE"><aside class="declaration">#define </aside>FLESH_SCAR_FILE <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__DEFINES/text.dm#L94"><img src="git.png" width="16" height="16" title="code/__DEFINES/text.dm 94"></a></h3><p>File location for flesh wound descriptions</p><h3 id="define/FOURSPACES"><aside class="declaration">#define </aside>FOURSPACES <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__DEFINES/text.dm#L2"><img src="git.png" width="16" height="16" title="code/__DEFINES/text.dm 2"></a></h3><p>Does 4 spaces. Used as a makeshift tabulator.</p><h3 id="define/HALLUCINATION_FILE"><aside class="declaration">#define </aside>HALLUCINATION_FILE <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__DEFINES/text.dm#L108"><img src="git.png" width="16" height="16" title="code/__DEFINES/text.dm 108"></a></h3><p>File location for hallucination lines</p><h3 id="define/ION_FILE"><aside class="declaration">#define </aside>ION_FILE <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__DEFINES/text.dm#L78"><img src="git.png" width="16" height="16" title="code/__DEFINES/text.dm 78"></a></h3><p>File location for AI ion laws</p><h3 id="define/LOCATIONS_FILE"><aside class="declaration">#define </aside>LOCATIONS_FILE <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__DEFINES/text.dm#L88"><img src="git.png" width="16" height="16" title="code/__DEFINES/text.dm 88"></a></h3><p>File location for locations on the station</p><h3 id="define/LOWER_TEXT"><aside class="declaration">#define </aside>LOWER_TEXT<aside>(thing)</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__DEFINES/text.dm#L69"><img src="git.png" width="16" height="16" title="code/__DEFINES/text.dm 69"></a></h3><p>BYOND's string procs don't support being used on datum references (as in it doesn't look for a name for stringification)
We just use this macro to ensure that we will only pass strings to this BYOND-level function without developers needing to really worry about it.</p><h3 id="define/MAPTEXT"><aside class="declaration">#define </aside>MAPTEXT<aside>(text)</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__DEFINES/text.dm#L6"><img src="git.png" width="16" height="16" title="code/__DEFINES/text.dm 6"></a></h3><p>Standard maptext
Prepares a text to be used for maptext. Use this so it doesn't look hideous.</p><h3 id="define/MAPTEXT_GRAND9K"><aside class="declaration">#define </aside>MAPTEXT_GRAND9K<aside>(text)</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__DEFINES/text.dm#L23"><img src="git.png" width="16" height="16" title="code/__DEFINES/text.dm 23"></a></h3><p>Standard size (ie: normal runechat) - Size options: 6pt 12pt 18pt.</p><h3 id="define/MAPTEXT_PIXELLARI"><aside class="declaration">#define </aside>MAPTEXT_PIXELLARI<aside>(text)</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__DEFINES/text.dm#L20"><img src="git.png" width="16" height="16" title="code/__DEFINES/text.dm 20"></a></h3><p>Pixel-perfect scaled fonts for use in the MAP element as defined in skin.dmf</p>
<p>Four sizes to choose from, use the sizes as mentioned below.
Between the variations and a step there should be an option that fits your use case.
BYOND uses pt sizing, different than px used in TGUI. Using px will make it look blurry due to poor antialiasing.</p>
<p>Default sizes are prefilled in the macro for ease of use and a consistent visual look.
To use a step other than the default in the macro, specify it in a span style.
For example: MAPTEXT_PIXELLARI(&quot;<span style='font-size: 24pt'>Some large maptext here</span>&quot;)
Large size (ie: context tooltips) - Size options: 12pt 24pt.</p><h3 id="define/MAPTEXT_SPESSFONT"><aside class="declaration">#define </aside>MAPTEXT_SPESSFONT<aside>(text)</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__DEFINES/text.dm#L29"><img src="git.png" width="16" height="16" title="code/__DEFINES/text.dm 29"></a></h3><p>Smallest size. (ie: whisper runechat) - Size options: 6pt 12pt 18pt.</p><h3 id="define/MAPTEXT_TINY_UNICODE"><aside class="declaration">#define </aside>MAPTEXT_TINY_UNICODE<aside>(text)</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__DEFINES/text.dm#L26"><img src="git.png" width="16" height="16" title="code/__DEFINES/text.dm 26"></a></h3><p>Small size. (ie: context subtooltips, spell delays) - Size options: 12pt 24pt.</p><h3 id="define/MAPTEXT_VCR_OSD_MONO"><aside class="declaration">#define </aside>MAPTEXT_VCR_OSD_MONO<aside>(text)</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__DEFINES/text.dm#L42"><img src="git.png" width="16" height="16" title="code/__DEFINES/text.dm 42"></a></h3><p>Prepares a text to be used for maptext, using a variable size font.</p>
<p>More flexible but doesn't scale pixel perfect to BYOND icon resolutions.
(May be blurry.) Can use any size in pt or px.</p>
<p>You MUST Specify the size when using the macro
For example: MAPTEXT_VCR_OSD_MONO(&quot;<span style='font-size: 24pt'>Some large maptext here</span>&quot;)
Prepares a text to be used for maptext, using a variable size font.
Variable size font. More flexible but doesn't scale pixel perfect to BYOND icon resolutions. (May be blurry.) Can use any size in pt or px.</p><h3 id="define/MOTHER_FILE"><aside class="declaration">#define </aside>MOTHER_FILE <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__DEFINES/text.dm#L114"><img src="git.png" width="16" height="16" title="code/__DEFINES/text.dm 114"></a></h3><p>File location for mother hallucination lines</p><h3 id="define/NINJA_FILE"><aside class="declaration">#define </aside>NINJA_FILE <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__DEFINES/text.dm#L110"><img src="git.png" width="16" height="16" title="code/__DEFINES/text.dm 110"></a></h3><p>File location for ninja lines</p><h3 id="define/PIRATE_NAMES_FILE"><aside class="declaration">#define </aside>PIRATE_NAMES_FILE <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__DEFINES/text.dm#L80"><img src="git.png" width="16" height="16" title="code/__DEFINES/text.dm 80"></a></h3><p>File location for pirate names</p><h3 id="define/PREVENT_CHARACTER_TRIM_LOSS"><aside class="declaration">#define </aside>PREVENT_CHARACTER_TRIM_LOSS<aside>(integer)</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__DEFINES/text.dm#L65"><img src="git.png" width="16" height="16" title="code/__DEFINES/text.dm 65"></a></h3><p>stuff like <code>copytext(input, length(input))</code> will trim the last character of the input,
because DM does it so it copies until the char BEFORE the <code>end</code> arg, so we need to bump <code>end</code> by 1 in these cases.</p><h3 id="define/REDPILL_FILE"><aside class="declaration">#define </aside>REDPILL_FILE <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__DEFINES/text.dm#L82"><img src="git.png" width="16" height="16" title="code/__DEFINES/text.dm 82"></a></h3><p>File location for redpill questions</p><h3 id="define/SANITIZE_FILENAME"><aside class="declaration">#define </aside>SANITIZE_FILENAME<aside>(text)</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__DEFINES/text.dm#L53"><img src="git.png" width="16" height="16" title="code/__DEFINES/text.dm 53"></a></h3><p>Removes characters incompatible with file names.</p><h3 id="define/SCAR_LOC_FILE"><aside class="declaration">#define </aside>SCAR_LOC_FILE <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__DEFINES/text.dm#L98"><img src="git.png" width="16" height="16" title="code/__DEFINES/text.dm 98"></a></h3><p>File location for scar wound descriptions</p><h3 id="define/SPLASH_FILE"><aside class="declaration">#define </aside>SPLASH_FILE <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__DEFINES/text.dm#L112"><img src="git.png" width="16" height="16" title="code/__DEFINES/text.dm 112"></a></h3><p>File loation for title splashes</p><h3 id="define/STRING_DIRECTORY"><aside class="declaration">#define </aside>STRING_DIRECTORY <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__DEFINES/text.dm#L72"><img src="git.png" width="16" height="16" title="code/__DEFINES/text.dm 72"></a></h3><p>Folder directory for strings</p><h3 id="define/STRIP_HTML_FULL"><aside class="declaration">#define </aside>STRIP_HTML_FULL<aside>(text, limit)</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__DEFINES/text.dm#L59"><img src="git.png" width="16" height="16" title="code/__DEFINES/text.dm 59"></a></h3><p>Removes everything enclose in &lt; and &gt; inclusive of the bracket, and limits the length of the message.</p><h3 id="define/STRIP_HTML_SIMPLE"><aside class="declaration">#define </aside>STRIP_HTML_SIMPLE<aside>(text, limit)</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__DEFINES/text.dm#L56"><img src="git.png" width="16" height="16" title="code/__DEFINES/text.dm 56"></a></h3><p>Simply removes the &lt; and &gt; characters, and limits the length of the message.</p><h3 id="define/VISTA_FILE"><aside class="declaration">#define </aside>VISTA_FILE <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__DEFINES/text.dm#L92"><img src="git.png" width="16" height="16" title="code/__DEFINES/text.dm 92"></a></h3><p>File location for really dumb suggestions memes</p><h3 id="define/WANTED_FILE"><aside class="declaration">#define </aside>WANTED_FILE <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__DEFINES/text.dm#L90"><img src="git.png" width="16" height="16" title="code/__DEFINES/text.dm 90"></a></h3><p>File location for wanted posters messages</p><h3 id="define/WXH_TO_HEIGHT"><aside class="declaration">#define </aside>WXH_TO_HEIGHT<aside>(measurement, return_var)</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__DEFINES/text.dm#L46"><img src="git.png" width="16" height="16" title="code/__DEFINES/text.dm 46"></a></h3><p>Macro from Lummox used to get height from a MeasureText proc.
resolves the MeasureText() return value once, then resolves the height, then sets return_var to that.</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/c41b333c9bc46606d2c5d5b517f7836d5953fbfd">c41b333</a> (master) â€” <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>