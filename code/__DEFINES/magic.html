<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>code/__DEFINES/magic.dm - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="code/__DEFINES/magic.html#define">Define Details</a></header><main><h1>code/__DEFINES/magic.dm <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__DEFINES/magic.dm"><img src="git.png" width="16" height="16" title="code/__DEFINES/magic.dm"></a></h1><table class="summary" cellspacing="0"><tr><th><a href="code/__DEFINES/magic.html#define/SCHOOL_UNSET">SCHOOL_UNSET</a></th><td>Unset / default / &quot;not actually magic&quot; school.</td></tr><tr><th><a href="code/__DEFINES/magic.html#define/SCHOOL_HOLY">SCHOOL_HOLY</a></th><td>Holy school (chaplain magic)</td></tr><tr><th><a href="code/__DEFINES/magic.html#define/SCHOOL_PSYCHIC">SCHOOL_PSYCHIC</a></th><td>Psychic school. Not true magic, but psychic spells only benefit themselves.</td></tr><tr><th><a href="code/__DEFINES/magic.html#define/SCHOOL_MIME">SCHOOL_MIME</a></th><td>Mime... school? Mime magic. It counts</td></tr><tr><th><a href="code/__DEFINES/magic.html#define/SCHOOL_RESTORATION">SCHOOL_RESTORATION</a></th><td>Restoration school, which is mostly healing stuff</td></tr><tr><th><a href="code/__DEFINES/magic.html#define/SCHOOL_EVOCATION">SCHOOL_EVOCATION</a></th><td>Evocation school, usually involves killing or destroy stuff, usually out of thin air</td></tr><tr><th><a href="code/__DEFINES/magic.html#define/SCHOOL_TRANSMUTATION">SCHOOL_TRANSMUTATION</a></th><td>School of transforming stuff into other stuff</td></tr><tr><th><a href="code/__DEFINES/magic.html#define/SCHOOL_TRANSLOCATION">SCHOOL_TRANSLOCATION</a></th><td>School of transolcation, usually movement spells</td></tr><tr><th><a href="code/__DEFINES/magic.html#define/SCHOOL_CONJURATION">SCHOOL_CONJURATION</a></th><td>Conjuration spells summon items / mobs / etc somehow</td></tr><tr><th><a href="code/__DEFINES/magic.html#define/SCHOOL_NECROMANCY">SCHOOL_NECROMANCY</a></th><td>Necromancy spells, usually involves soul / evil / bad stuff</td></tr><tr><th><a href="code/__DEFINES/magic.html#define/SCHOOL_FORBIDDEN">SCHOOL_FORBIDDEN</a></th><td>Other forbidden magics, such as heretic spells</td></tr><tr><th><a href="code/__DEFINES/magic.html#define/SCHOOL_SANGUINE">SCHOOL_SANGUINE</a></th><td>Blood magic, involves vampirism, draining blood, etc.</td></tr><tr><th><a href="code/__DEFINES/magic.html#define/INVOCATION_NONE">INVOCATION_NONE</a></th><td>Allows being able to cast the spell without saying or doing anything.</td></tr><tr><th><a href="code/__DEFINES/magic.html#define/INVOCATION_SHOUT">INVOCATION_SHOUT</a></th><td>Forces the wizard to shout the invocation to cast the spell.</td></tr><tr><th><a href="code/__DEFINES/magic.html#define/INVOCATION_WHISPER">INVOCATION_WHISPER</a></th><td>Forces the wizard to whisper the invocation to cast the spell.</td></tr><tr><th><a href="code/__DEFINES/magic.html#define/INVOCATION_EMOTE">INVOCATION_EMOTE</a></th><td>Forces the wizard to emote to cast the spell.</td></tr><tr><th><a href="code/__DEFINES/magic.html#define/SPELL_REQUIRES_WIZARD_GARB">SPELL_REQUIRES_WIZARD_GARB</a></th><td>Whether the spell requires wizard clothes to cast.</td></tr><tr><th><a href="code/__DEFINES/magic.html#define/SPELL_REQUIRES_HUMAN">SPELL_REQUIRES_HUMAN</a></th><td>Whether the spell can only be cast by humans (mob type, not species).
SPELL_REQUIRES_WIZARD_GARB comes with this flag implied, as carbons and below can't wear clothes.</td></tr><tr><th><a href="code/__DEFINES/magic.html#define/SPELL_CASTABLE_AS_BRAIN">SPELL_CASTABLE_AS_BRAIN</a></th><td>Whether the spell can be cast by mobs who are brains / mmis.
When applying, bear in mind most spells will not function for brains out of the box.</td></tr><tr><th><a href="code/__DEFINES/magic.html#define/SPELL_REQUIRES_NO_ANTIMAGIC">SPELL_REQUIRES_NO_ANTIMAGIC</a></th><td>Whether the spell can be cast while the user has antimagic on them that corresponds to the spell's own antimagic flags.</td></tr><tr><th><a href="code/__DEFINES/magic.html#define/SPELL_REQUIRES_STATION">SPELL_REQUIRES_STATION</a></th><td>Whether the spell requires being on the station z-level to be cast.</td></tr><tr><th><a href="code/__DEFINES/magic.html#define/SPELL_REQUIRES_MIND">SPELL_REQUIRES_MIND</a></th><td>Whether the spell must be cast by someone with a mind datum.</td></tr><tr><th><a href="code/__DEFINES/magic.html#define/SPELL_REQUIRES_MIME_VOW">SPELL_REQUIRES_MIME_VOW</a></th><td>Whether the spell requires the caster have a mime vow (mindless mobs will succeed this check regardless).</td></tr><tr><th><a href="code/__DEFINES/magic.html#define/SPELL_CASTABLE_WITHOUT_INVOCATION">SPELL_CASTABLE_WITHOUT_INVOCATION</a></th><td>Whether the spell can be cast, even if the caster is unable to speak the invocation
(effectively making the invocation flavor, instead of required).</td></tr><tr><th><a href="code/__DEFINES/magic.html#define/TELEPORT_SPELL_SKIP_SPACE">TELEPORT_SPELL_SKIP_SPACE</a></th><td>Whether the teleport spell skips over space turfs</td></tr><tr><th><a href="code/__DEFINES/magic.html#define/TELEPORT_SPELL_SKIP_DENSE">TELEPORT_SPELL_SKIP_DENSE</a></th><td>Whether the teleport spell skips over dense turfs</td></tr><tr><th><a href="code/__DEFINES/magic.html#define/TELEPORT_SPELL_SKIP_BLOCKED">TELEPORT_SPELL_SKIP_BLOCKED</a></th><td>Whether the teleport spell skips over blocked turfs</td></tr><tr><th><a href="code/__DEFINES/magic.html#define/MAGIC_RESISTANCE">MAGIC_RESISTANCE</a></th><td>Default magic resistance that blocks normal magic (wizard, spells, magical staff projectiles)</td></tr><tr><th><a href="code/__DEFINES/magic.html#define/MAGIC_RESISTANCE_MIND">MAGIC_RESISTANCE_MIND</a></th><td>Tinfoil hat magic resistance that blocks mental magic (telepathy / mind links, mind curses, abductors)</td></tr><tr><th><a href="code/__DEFINES/magic.html#define/MAGIC_RESISTANCE_HOLY">MAGIC_RESISTANCE_HOLY</a></th><td>Holy magic resistance that blocks unholy magic (revenant, vampire, voice of god)</td></tr><tr><th><a href="code/__DEFINES/magic.html#define/is_jaunting">is_jaunting</a></th><td>Checks if our mob is jaunting actively (within a phased mob object)
Used in jaunting spells specifically to determine whether they should be entering or exiting jaunt</td></tr></table><h2 id="define">Define Details</h2><h3 id="define/INVOCATION_EMOTE"><aside class="declaration">#define </aside>INVOCATION_EMOTE <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__DEFINES/magic.dm#L42"><img src="git.png" width="16" height="16" title="code/__DEFINES/magic.dm 42"></a></h3><p>Forces the wizard to emote to cast the spell.</p><h3 id="define/INVOCATION_NONE"><aside class="declaration">#define </aside>INVOCATION_NONE <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__DEFINES/magic.dm#L36"><img src="git.png" width="16" height="16" title="code/__DEFINES/magic.dm 36"></a></h3><p>Allows being able to cast the spell without saying or doing anything.</p><h3 id="define/INVOCATION_SHOUT"><aside class="declaration">#define </aside>INVOCATION_SHOUT <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__DEFINES/magic.dm#L38"><img src="git.png" width="16" height="16" title="code/__DEFINES/magic.dm 38"></a></h3><p>Forces the wizard to shout the invocation to cast the spell.</p><h3 id="define/INVOCATION_WHISPER"><aside class="declaration">#define </aside>INVOCATION_WHISPER <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__DEFINES/magic.dm#L40"><img src="git.png" width="16" height="16" title="code/__DEFINES/magic.dm 40"></a></h3><p>Forces the wizard to whisper the invocation to cast the spell.</p><h3 id="define/MAGIC_RESISTANCE"><aside class="declaration">#define </aside>MAGIC_RESISTANCE <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__DEFINES/magic.dm#L87"><img src="git.png" width="16" height="16" title="code/__DEFINES/magic.dm 87"></a></h3><p>Default magic resistance that blocks normal magic (wizard, spells, magical staff projectiles)</p><h3 id="define/MAGIC_RESISTANCE_HOLY"><aside class="declaration">#define </aside>MAGIC_RESISTANCE_HOLY <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__DEFINES/magic.dm#L91"><img src="git.png" width="16" height="16" title="code/__DEFINES/magic.dm 91"></a></h3><p>Holy magic resistance that blocks unholy magic (revenant, vampire, voice of god)</p><h3 id="define/MAGIC_RESISTANCE_MIND"><aside class="declaration">#define </aside>MAGIC_RESISTANCE_MIND <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__DEFINES/magic.dm#L89"><img src="git.png" width="16" height="16" title="code/__DEFINES/magic.dm 89"></a></h3><p>Tinfoil hat magic resistance that blocks mental magic (telepathy / mind links, mind curses, abductors)</p><h3 id="define/SCHOOL_CONJURATION"><aside class="declaration">#define </aside>SCHOOL_CONJURATION <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__DEFINES/magic.dm#L24"><img src="git.png" width="16" height="16" title="code/__DEFINES/magic.dm 24"></a></h3><p>Conjuration spells summon items / mobs / etc somehow</p><h3 id="define/SCHOOL_EVOCATION"><aside class="declaration">#define </aside>SCHOOL_EVOCATION <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__DEFINES/magic.dm#L18"><img src="git.png" width="16" height="16" title="code/__DEFINES/magic.dm 18"></a></h3><p>Evocation school, usually involves killing or destroy stuff, usually out of thin air</p><h3 id="define/SCHOOL_FORBIDDEN"><aside class="declaration">#define </aside>SCHOOL_FORBIDDEN <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__DEFINES/magic.dm#L30"><img src="git.png" width="16" height="16" title="code/__DEFINES/magic.dm 30"></a></h3><p>Other forbidden magics, such as heretic spells</p><h3 id="define/SCHOOL_HOLY"><aside class="declaration">#define </aside>SCHOOL_HOLY <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__DEFINES/magic.dm#L8"><img src="git.png" width="16" height="16" title="code/__DEFINES/magic.dm 8"></a></h3><p>Holy school (chaplain magic)</p><h3 id="define/SCHOOL_MIME"><aside class="declaration">#define </aside>SCHOOL_MIME <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__DEFINES/magic.dm#L12"><img src="git.png" width="16" height="16" title="code/__DEFINES/magic.dm 12"></a></h3><p>Mime... school? Mime magic. It counts</p><h3 id="define/SCHOOL_NECROMANCY"><aside class="declaration">#define </aside>SCHOOL_NECROMANCY <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__DEFINES/magic.dm#L28"><img src="git.png" width="16" height="16" title="code/__DEFINES/magic.dm 28"></a></h3><p>Necromancy spells, usually involves soul / evil / bad stuff</p><h3 id="define/SCHOOL_PSYCHIC"><aside class="declaration">#define </aside>SCHOOL_PSYCHIC <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__DEFINES/magic.dm#L10"><img src="git.png" width="16" height="16" title="code/__DEFINES/magic.dm 10"></a></h3><p>Psychic school. Not true magic, but psychic spells only benefit themselves.</p><h3 id="define/SCHOOL_RESTORATION"><aside class="declaration">#define </aside>SCHOOL_RESTORATION <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__DEFINES/magic.dm#L14"><img src="git.png" width="16" height="16" title="code/__DEFINES/magic.dm 14"></a></h3><p>Restoration school, which is mostly healing stuff</p><h3 id="define/SCHOOL_SANGUINE"><aside class="declaration">#define </aside>SCHOOL_SANGUINE <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__DEFINES/magic.dm#L32"><img src="git.png" width="16" height="16" title="code/__DEFINES/magic.dm 32"></a></h3><p>Blood magic, involves vampirism, draining blood, etc.</p><h3 id="define/SCHOOL_TRANSLOCATION"><aside class="declaration">#define </aside>SCHOOL_TRANSLOCATION <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__DEFINES/magic.dm#L22"><img src="git.png" width="16" height="16" title="code/__DEFINES/magic.dm 22"></a></h3><p>School of transolcation, usually movement spells</p><h3 id="define/SCHOOL_TRANSMUTATION"><aside class="declaration">#define </aside>SCHOOL_TRANSMUTATION <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__DEFINES/magic.dm#L20"><img src="git.png" width="16" height="16" title="code/__DEFINES/magic.dm 20"></a></h3><p>School of transforming stuff into other stuff</p><h3 id="define/SCHOOL_UNSET"><aside class="declaration">#define </aside>SCHOOL_UNSET <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__DEFINES/magic.dm#L4"><img src="git.png" width="16" height="16" title="code/__DEFINES/magic.dm 4"></a></h3><p>Unset / default / &quot;not actually magic&quot; school.</p><h3 id="define/SPELL_CASTABLE_AS_BRAIN"><aside class="declaration">#define </aside>SPELL_CASTABLE_AS_BRAIN <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__DEFINES/magic.dm#L52"><img src="git.png" width="16" height="16" title="code/__DEFINES/magic.dm 52"></a></h3><p>Whether the spell can be cast by mobs who are brains / mmis.
When applying, bear in mind most spells will not function for brains out of the box.</p><h3 id="define/SPELL_CASTABLE_WITHOUT_INVOCATION"><aside class="declaration">#define </aside>SPELL_CASTABLE_WITHOUT_INVOCATION <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__DEFINES/magic.dm#L64"><img src="git.png" width="16" height="16" title="code/__DEFINES/magic.dm 64"></a></h3><p>Whether the spell can be cast, even if the caster is unable to speak the invocation
(effectively making the invocation flavor, instead of required).</p><h3 id="define/SPELL_REQUIRES_HUMAN"><aside class="declaration">#define </aside>SPELL_REQUIRES_HUMAN <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__DEFINES/magic.dm#L49"><img src="git.png" width="16" height="16" title="code/__DEFINES/magic.dm 49"></a></h3><p>Whether the spell can only be cast by humans (mob type, not species).
SPELL_REQUIRES_WIZARD_GARB comes with this flag implied, as carbons and below can't wear clothes.</p><h3 id="define/SPELL_REQUIRES_MIME_VOW"><aside class="declaration">#define </aside>SPELL_REQUIRES_MIME_VOW <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__DEFINES/magic.dm#L61"><img src="git.png" width="16" height="16" title="code/__DEFINES/magic.dm 61"></a></h3><p>Whether the spell requires the caster have a mime vow (mindless mobs will succeed this check regardless).</p><h3 id="define/SPELL_REQUIRES_MIND"><aside class="declaration">#define </aside>SPELL_REQUIRES_MIND <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__DEFINES/magic.dm#L59"><img src="git.png" width="16" height="16" title="code/__DEFINES/magic.dm 59"></a></h3><p>Whether the spell must be cast by someone with a mind datum.</p><h3 id="define/SPELL_REQUIRES_NO_ANTIMAGIC"><aside class="declaration">#define </aside>SPELL_REQUIRES_NO_ANTIMAGIC <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__DEFINES/magic.dm#L55"><img src="git.png" width="16" height="16" title="code/__DEFINES/magic.dm 55"></a></h3><p>Whether the spell can be cast while the user has antimagic on them that corresponds to the spell's own antimagic flags.</p><h3 id="define/SPELL_REQUIRES_STATION"><aside class="declaration">#define </aside>SPELL_REQUIRES_STATION <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__DEFINES/magic.dm#L57"><img src="git.png" width="16" height="16" title="code/__DEFINES/magic.dm 57"></a></h3><p>Whether the spell requires being on the station z-level to be cast.</p><h3 id="define/SPELL_REQUIRES_WIZARD_GARB"><aside class="declaration">#define </aside>SPELL_REQUIRES_WIZARD_GARB <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__DEFINES/magic.dm#L46"><img src="git.png" width="16" height="16" title="code/__DEFINES/magic.dm 46"></a></h3><p>Whether the spell requires wizard clothes to cast.</p><h3 id="define/TELEPORT_SPELL_SKIP_BLOCKED"><aside class="declaration">#define </aside>TELEPORT_SPELL_SKIP_BLOCKED <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__DEFINES/magic.dm#L83"><img src="git.png" width="16" height="16" title="code/__DEFINES/magic.dm 83"></a></h3><p>Whether the teleport spell skips over blocked turfs</p><h3 id="define/TELEPORT_SPELL_SKIP_DENSE"><aside class="declaration">#define </aside>TELEPORT_SPELL_SKIP_DENSE <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__DEFINES/magic.dm#L81"><img src="git.png" width="16" height="16" title="code/__DEFINES/magic.dm 81"></a></h3><p>Whether the teleport spell skips over dense turfs</p><h3 id="define/TELEPORT_SPELL_SKIP_SPACE"><aside class="declaration">#define </aside>TELEPORT_SPELL_SKIP_SPACE <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__DEFINES/magic.dm#L79"><img src="git.png" width="16" height="16" title="code/__DEFINES/magic.dm 79"></a></h3><p>Whether the teleport spell skips over space turfs</p><h3 id="define/is_jaunting"><aside class="declaration">#define </aside>is_jaunting<aside>(atom)</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__DEFINES/magic.dm#L109"><img src="git.png" width="16" height="16" title="code/__DEFINES/magic.dm 109"></a></h3><p>Checks if our mob is jaunting actively (within a phased mob object)
Used in jaunting spells specifically to determine whether they should be entering or exiting jaunt</p>
<p>If you want to use this in non-jaunt related code, it is preferable
to instead check for trait <a href="code/__DEFINES/traits/declarations.html#define/TRAIT_MAGICALLY_PHASED" title="TRAIT_MAGICALLY_PHASED">TRAIT_MAGICALLY_PHASED</a> instead of using this
as it encompasses more states in which a mob may be &quot;incorporeal from magic&quot;</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>