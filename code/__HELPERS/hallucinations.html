<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>code/__HELPERS/hallucinations.dm - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="code/__HELPERS/hallucinations.html#define">Define Details</a></header><main><h1>code/__HELPERS/hallucinations.dm <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__HELPERS/hallucinations.dm"><img src="git.png" width="16" height="16" title="code/__HELPERS/hallucinations.dm"></a></h1><table class="summary" cellspacing="0"><tr><th><a href="code/__HELPERS/hallucinations.html#define/HALLUCINATION_TIER_COMMON">HALLUCINATION_TIER_COMMON</a></th><td>Very common hallucinations, minor stuff that'll make you double-take but is otherwise very subtle.</td></tr><tr><th><a href="code/__HELPERS/hallucinations.html#define/HALLUCINATION_TIER_UNCOMMON">HALLUCINATION_TIER_UNCOMMON</a></th><td>Uncommon hallucinations, more noticeable and potentially more impactful (causing temporary stuns or stamina damage).</td></tr><tr><th><a href="code/__HELPERS/hallucinations.html#define/HALLUCINATION_TIER_RARE">HALLUCINATION_TIER_RARE</a></th><td>Rarer hallucinations which are usually pretty obvious, but also pretty impactful.</td></tr><tr><th><a href="code/__HELPERS/hallucinations.html#define/HALLUCINATION_TIER_VERYSPECIAL">HALLUCINATION_TIER_VERYSPECIAL</a></th><td>Hallucinations which are generally just for laughs and are obviously fake</td></tr><tr><th><a href="code/__HELPERS/hallucinations.html#define/HALLUCINATION_TIER_NEVER">HALLUCINATION_TIER_NEVER</a></th><td>Hallucinations which are never picked, only forced</td></tr><tr><th><a href="code/__HELPERS/hallucinations.html#define/HALLUCINATION_ARG_TYPE">HALLUCINATION_ARG_TYPE</a></th><td>What typepath of the hallucination</td></tr><tr><th><a href="code/__HELPERS/hallucinations.html#define/HALLUCINATION_ARG_SOURCE">HALLUCINATION_ARG_SOURCE</a></th><td>Where the hallucination came from, for logging</td></tr><tr><th><a href="code/__HELPERS/hallucinations.html#define/HALLUCINATION_ARGLIST">HALLUCINATION_ARGLIST</a></th><td>Onwards from this index, it's the arglist that gets passed into the hallucination created.</td></tr><tr><th><a href="code/__HELPERS/hallucinations.html#define/NO_HALLUCINATION_BIOTYPES">NO_HALLUCINATION_BIOTYPES</a></th><td>Biotypes which cannot hallucinate for balance and logic reasons (not code)</td></tr><tr><th><a href="code/__HELPERS/hallucinations.html#define/cause_hallucination">cause_hallucination</a></th><td>Causes a hallucination of a certain type to the mob.</td></tr><tr><th>/proc/<a href="global.html#proc/visible_hallucination_pulse">visible_hallucination_pulse</a></th><td>Emits a hallucinating pulse around the passed atom.
Affects everyone in the passed radius who can view the center,
except for those with TRAIT_MADNESS_IMMUNE, or those who are blind.</td></tr><tr><th>/proc/<a href="global.html#proc/hallucination_pulse">hallucination_pulse</a></th><td>Emits a hallucinating pulse around the passed atom.
Affects everyone in the passed radius except for those with TRAIT_MADNESS_IMMUNE. This affects blind players.</td></tr><tr><th>/proc/<a href="global.html#proc/generate_hallucination_weighted_list">generate_hallucination_weighted_list</a></th><td>Generates the global weighted list of random hallucinations.</td></tr><tr><th>/proc/<a href="global.html#proc/get_random_hallucination">get_random_hallucination</a></th><td>Select a random hallucination from the hallucination pool</td></tr><tr><th>/proc/<a href="global.html#proc/debug_hallucination_weighted_list">debug_hallucination_weighted_list</a></th><td>Debug proc for getting the total weight of the random_hallucination_weighted_list</td></tr><tr><th>/proc/<a href="global.html#proc/get_random_valid_hallucination_subtype">get_random_valid_hallucination_subtype</a></th><td>Gets a random subtype of the passed hallucination type that has a random_hallucination_weight &gt; 0.
If no subtype is passed, it will get any random hallucination subtype that is not abstract and has weight &gt; 0.
This can be used instead of picking from the global weighted list to just get a random valid hallucination.</td></tr><tr><th>/proc/<a href="global.html#proc/select_hallucination_type">select_hallucination_type</a></th><td>Helper to give the passed mob the ability to select a hallucination from the list of all hallucination subtypes.</td></tr><tr><th>/proc/<a href="global.html#proc/create_delusion">create_delusion</a></th><td>Helper to give the passed mob the ability to create a delusion hallucination (even a custom one).
Returns a list of arguments - pass these to _cause_hallucination to cause the desired hallucination</td></tr><tr><th><a href="code/__HELPERS/hallucinations.html#define/BUBBLEGUM_HALLUCINATION_LINES">BUBBLEGUM_HALLUCINATION_LINES</a></th><td>Lines the bubblegum hallucinatoin uses when it pops up</td></tr></table><h2 id="define">Define Details</h2><h3 id="define/BUBBLEGUM_HALLUCINATION_LINES"><aside class="declaration">#define </aside>BUBBLEGUM_HALLUCINATION_LINES <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__HELPERS/hallucinations.dm#L295"><img src="git.png" width="16" height="16" title="code/__HELPERS/hallucinations.dm 295"></a></h3><p>Lines the bubblegum hallucinatoin uses when it pops up</p><h3 id="define/HALLUCINATION_ARGLIST"><aside class="declaration">#define </aside>HALLUCINATION_ARGLIST <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__HELPERS/hallucinations.dm#L22"><img src="git.png" width="16" height="16" title="code/__HELPERS/hallucinations.dm 22"></a></h3><p>Onwards from this index, it's the arglist that gets passed into the hallucination created.</p><h3 id="define/HALLUCINATION_ARG_SOURCE"><aside class="declaration">#define </aside>HALLUCINATION_ARG_SOURCE <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__HELPERS/hallucinations.dm#L19"><img src="git.png" width="16" height="16" title="code/__HELPERS/hallucinations.dm 19"></a></h3><p>Where the hallucination came from, for logging</p><h3 id="define/HALLUCINATION_ARG_TYPE"><aside class="declaration">#define </aside>HALLUCINATION_ARG_TYPE <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__HELPERS/hallucinations.dm#L17"><img src="git.png" width="16" height="16" title="code/__HELPERS/hallucinations.dm 17"></a></h3><p>What typepath of the hallucination</p><h3 id="define/HALLUCINATION_TIER_COMMON"><aside class="declaration">#define </aside>HALLUCINATION_TIER_COMMON <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__HELPERS/hallucinations.dm#L6"><img src="git.png" width="16" height="16" title="code/__HELPERS/hallucinations.dm 6"></a></h3><p>Very common hallucinations, minor stuff that'll make you double-take but is otherwise very subtle.</p><h3 id="define/HALLUCINATION_TIER_NEVER"><aside class="declaration">#define </aside>HALLUCINATION_TIER_NEVER <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__HELPERS/hallucinations.dm#L14"><img src="git.png" width="16" height="16" title="code/__HELPERS/hallucinations.dm 14"></a></h3><p>Hallucinations which are never picked, only forced</p><h3 id="define/HALLUCINATION_TIER_RARE"><aside class="declaration">#define </aside>HALLUCINATION_TIER_RARE <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__HELPERS/hallucinations.dm#L10"><img src="git.png" width="16" height="16" title="code/__HELPERS/hallucinations.dm 10"></a></h3><p>Rarer hallucinations which are usually pretty obvious, but also pretty impactful.</p><h3 id="define/HALLUCINATION_TIER_UNCOMMON"><aside class="declaration">#define </aside>HALLUCINATION_TIER_UNCOMMON <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__HELPERS/hallucinations.dm#L8"><img src="git.png" width="16" height="16" title="code/__HELPERS/hallucinations.dm 8"></a></h3><p>Uncommon hallucinations, more noticeable and potentially more impactful (causing temporary stuns or stamina damage).</p><h3 id="define/HALLUCINATION_TIER_VERYSPECIAL"><aside class="declaration">#define </aside>HALLUCINATION_TIER_VERYSPECIAL <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__HELPERS/hallucinations.dm#L12"><img src="git.png" width="16" height="16" title="code/__HELPERS/hallucinations.dm 12"></a></h3><p>Hallucinations which are generally just for laughs and are obviously fake</p><h3 id="define/NO_HALLUCINATION_BIOTYPES"><aside class="declaration">#define </aside>NO_HALLUCINATION_BIOTYPES <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__HELPERS/hallucinations.dm#L25"><img src="git.png" width="16" height="16" title="code/__HELPERS/hallucinations.dm 25"></a></h3><p>Biotypes which cannot hallucinate for balance and logic reasons (not code)</p><h3 id="define/cause_hallucination"><aside class="declaration">#define </aside>cause_hallucination<aside>(arguments ...)</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__HELPERS/hallucinations.dm#L36"><img src="git.png" width="16" height="16" title="code/__HELPERS/hallucinations.dm 36"></a></h3><p>Causes a hallucination of a certain type to the mob.</p>
<p>First argument is always the type of halllucination, a /datum/hallucination, required.
second argument is always the key source of the hallucination, used for admin logging, required.</p>
<p>Additionally, named arguments are supported for passing them forward to the created hallucination's new().</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>