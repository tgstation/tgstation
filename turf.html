<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><link rel="stylesheet" href="dmdoc.css"><title>/turf - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="turf.html#var">Var Details</a> - <a href="turf.html#proc">Proc Details</a></header><main><h1>turf <aside>/<a href="turf.html">turf</a></aside><aside> inherits /<a href="atom.html">atom</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L4"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 4"></a></h1><p>Any floor or wall. What makes up the station and the rest of the map.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="turf.html#var/archived_cycle">archived_cycle</a></th><td>used to determine whether we should archive</td></tr><tr><th><a href="turf.html#var/assigned_oranges_ear">assigned_oranges_ear</a></th><td>what /mob/oranges_ear instance is already assigned to us as there should only ever be one.
used for guaranteeing there is only one oranges_ear per turf when assigned, speeds up view() iteration</td></tr><tr><th><a href="turf.html#var/atmos_adjacent_turfs">atmos_adjacent_turfs</a></th><td>list of turfs adjacent to us that air can flow onto</td></tr><tr><th><a href="turf.html#var/atmos_supeconductivity">atmos_supeconductivity</a></th><td>bitfield of dirs in which we are superconducitng</td></tr><tr><th><a href="turf.html#var/directional_opacity">directional_opacity</a></th><td>Which directions does this turf block the vision of, taking into account both the turf's opacity and the movable opacity_sources.</td></tr><tr><th><a href="turf.html#var/dynamic_lumcount">dynamic_lumcount</a></th><td>Lumcount added by sources other than lighting datum objects, such as the overlay lighting component.</td></tr><tr><th><a href="turf.html#var/fish_source">fish_source</a></th><td>The typepath we use for lazy fishing on turfs, to save on world init time.</td></tr><tr><th><a href="turf.html#var/fixed_underlay">fixed_underlay</a></th><td>Icon-smoothing variable to map a diagonal wall corner with a fixed underlay.</td></tr><tr><th><a href="turf.html#var/force_no_gravity">force_no_gravity</a></th><td>whether or not this turf forces movables on it to have no gravity (unless they themselves have forced gravity)</td></tr><tr><th><a href="turf.html#var/heat_capacity">heat_capacity</a></th><td>Amount of heat necessary to activate some atmos processes (there is a weird usage of this var because is compared directly to the temperature instead of heat energy)</td></tr><tr><th><a href="turf.html#var/holodeck_compatible">holodeck_compatible</a></th><td>the holodeck can load onto this turf if TRUE</td></tr><tr><th><a href="turf.html#var/in_contents_of">in_contents_of</a></th><td>For the area_contents list unit test
Allows us to know our area without needing to preassign it
Sorry for the mess</td></tr><tr><th><a href="turf.html#var/inherent_explosive_resistance">inherent_explosive_resistance</a></th><td>How much explosive resistance this turf is providing to itself
Defaults to -1, interpreted as initial(explosive_resistance)
This is an optimization to prevent turfs from needing to set these on init
This would either be expensive, or impossible to manage. Let's just avoid it yes?
Never directly access this, use get_explosive_block() instead</td></tr><tr><th><a href="turf.html#var/initial_gas_mix">initial_gas_mix</a></th><td>used for mapping and for breathing while in walls (because that's a thing that needs to be accounted for...)
string parsed by /datum/gas/proc/copy_from_turf
approximation of MOLES_O2STANDARD and MOLES_N2STANDARD pending byond allowing constant expressions to be embedded in constant strings
If someone will place 0 of some gas there, SHIT WILL BREAK. Do not do that.</td></tr><tr><th><a href="turf.html#var/lattice_underneath">lattice_underneath</a></th><td>If there is a lattice underneat this turf. Used for the attempt_lattice_replacement proc to determine if it should place lattice.</td></tr><tr><th><a href="turf.html#var/lighting_corner_NE">lighting_corner_NE</a></th><td>Lighting Corner datums.</td></tr><tr><th><a href="turf.html#var/lighting_object">lighting_object</a></th><td>Our lighting object.</td></tr><tr><th><a href="turf.html#var/max_fire_temperature_sustained">max_fire_temperature_sustained</a></th><td>The max temperature of the fire which it was subjected to, determines the melting point of turf</td></tr><tr><th><a href="turf.html#var/opacity_sources">opacity_sources</a></th><td>Lazylist of movable atoms providing opacity sources.</td></tr><tr><th><a href="turf.html#var/overfloor_placed">overfloor_placed</a></th><td>If there's a tile over a basic floor that can be ripped out</td></tr><tr><th><a href="turf.html#var/pathing_pass_method">pathing_pass_method</a></th><td>How pathing algorithm will check if this turf is passable by itself (not including content checks). By default it's just density check.
WARNING: Currently to use a density shortcircuiting this does not support dense turfs with special allow through function</td></tr><tr><th><a href="turf.html#var/rcd_memory">rcd_memory</a></th><td>If this turf contained an RCD'able object (or IS one, for walls)
but is now destroyed, this will preserve the value.
See _<em>DEFINES/construction.dm for RCD_MEMORY</em>*.</td></tr><tr><th><a href="turf.html#var/rust_resistance">rust_resistance</a></th><td>This turf's resistance to getting rusted</td></tr><tr><th><a href="turf.html#var/space_lit">space_lit</a></th><td>Bool, whether this turf will always be illuminated no matter what area it is in
Makes it look blue, be warned</td></tr><tr><th><a href="turf.html#var/temperature_archived">temperature_archived</a></th><td>Archived version of the temperature on a turf</td></tr><tr><th><a href="turf.html#var/thermal_conductivities">thermal_conductivities</a></th><td>All currently stored conductivities changes</td></tr><tr><th><a href="turf.html#var/thermal_conductivity">thermal_conductivity</a></th><td>used for temperature calculations in superconduction</td></tr><tr><th><a href="turf.html#var/to_be_destroyed">to_be_destroyed</a></th><td>Used for fire, if a melting temperature was reached, it will be destroyed</td></tr><tr><th><a href="turf.html#var/turf_flags">turf_flags</a></th><td>Turf bitflags, see code/__DEFINES/flags.dm</td></tr><tr><th><a href="turf.html#var/underfloor_accessibility">underfloor_accessibility</a></th><td>How accessible underfloor pieces such as wires, pipes, etc are on this turf. Can be HIDDEN, VISIBLE, or INTERACTABLE.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="turf.html#proc/Initalize_Atmos">Initalize_Atmos</a></th><td>Initializes our adjacent turfs. If you want to avoid this, do not override it, instead set init_air to FALSE</td></tr><tr><th><a href="turf.html#proc/Initialize">Initialize</a></th><td>Turf Initialize</td></tr><tr><th><a href="turf.html#proc/LinkBlockedWithAccess">LinkBlockedWithAccess</a></th><td>For seeing if we can actually move between 2 given turfs while accounting for our access and the requester's pass_flags</td></tr><tr><th><a href="turf.html#proc/ScrapeAway">ScrapeAway</a></th><td>Take off the top layer turf and replace it with the next baseturf down</td></tr><tr><th><a href="turf.html#proc/_clear_signal_refs">_clear_signal_refs</a></th><td>WARNING WARNING
Turfs DO NOT lose their signals when they get replaced, REMEMBER THIS
It's possible because turfs are fucked, and if you have one in a list and it's replaced with another one, the list ref points to the new turf
We do it because moving signals over was needlessly expensive, and bloated a very commonly used bit of code</td></tr><tr><th><a href="turf.html#proc/add_lazy_fishing">add_lazy_fishing</a></th><td>the following are some fishing-related optimizations to shave off as much
time we spend implementing the fishing as possible, even if that means
hackier code, because we've hundreds of turfs like lava, water etc every round,</td></tr><tr><th><a href="turf.html#proc/add_opacity_source">add_opacity_source</a></th><td>Proc to add movable sources of opacity on the turf and let it handle lighting code.</td></tr><tr><th><a href="turf.html#proc/air_update_turf">air_update_turf</a></th><td>A helper proc for dealing with atmos changes</td></tr><tr><th><a href="turf.html#proc/attempt_lattice_replacement">attempt_lattice_replacement</a></th><td>Attempts to replace a tile with lattice. Amount is the amount of tiles to scrape away.</td></tr><tr><th><a href="turf.html#proc/baseturf_at_depth">baseturf_at_depth</a></th><td>Returns the baseturf at the given depth.
For example, baseturf_at_depth(1) will give the baseturf that would show up when scraping once.</td></tr><tr><th><a href="turf.html#proc/can_cross_safely">can_cross_safely</a></th><td>Returns whether it is safe for an atom to move across this turf</td></tr><tr><th><a href="turf.html#proc/can_propagate_explosion">can_propagate_explosion</a></th><td>Called when propagating an explosion through contents,.
Return FALSE to prevent the passed object from being exploded.</td></tr><tr><th><a href="turf.html#proc/change_area">change_area</a></th><td>Call to move a turf from its current area to a new one</td></tr><tr><th><a href="turf.html#proc/conductivity_directions">conductivity_directions</a></th><td>SUPERCONDUCTIVITY
ALLLLLLLLLLLLLLLLLLLLRIGHT HERE WE GOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO</td></tr><tr><th><a href="turf.html#proc/consider_superconductivity">consider_superconductivity</a></th><td>Should we attempt to superconduct?</td></tr><tr><th><a href="turf.html#proc/count_baseturfs">count_baseturfs</a></th><td>Returns the total number of baseturfs</td></tr><tr><th><a href="turf.html#proc/create_gas_mixture">create_gas_mixture</a></th><td>//////////////GAS MIXTURE PROCS///////////////////
Copies all gas info from the turf into a new gas_mixture, along with our temperature
Returns the created gas_mixture</td></tr><tr><th><a href="turf.html#proc/depth_to_find_baseturf">depth_to_find_baseturf</a></th><td>Tries to find the given type in baseturfs.
If found, returns how deep it is for use in other baseturf procs, or null if it cannot be found.
For example, this number can be passed into ScrapeAway to scrape everything until that point.</td></tr><tr><th><a href="turf.html#proc/expose_reagents">expose_reagents</a></th><td>Handles exposing a turf to reagents.</td></tr><tr><th><a href="turf.html#proc/fromShuttleMove">fromShuttleMove</a></th><td>Base procs</td></tr><tr><th><a href="turf.html#proc/get_atmos_adjacent_turfs">get_atmos_adjacent_turfs</a></th><td>returns a list of adjacent turfs that can share air with this one.
alldir includes adjacent diagonal tiles that can share
air with both of the related adjacent cardinal tiles</td></tr><tr><th><a href="turf.html#proc/get_baseturfs_to_depth">get_baseturfs_to_depth</a></th><td>Gets a copy of the baseturfs up to the specified depth</td></tr><tr><th><a href="turf.html#proc/get_explosive_block">get_explosive_block</a></th><td>Wrapper around inherent_explosive_resistance
We assume this proc is cold, so we can move the &quot;what is our block&quot; into it</td></tr><tr><th><a href="turf.html#proc/init_immediate_calculate_adjacent_turfs">init_immediate_calculate_adjacent_turfs</a></th><td>This proc is a more deeply optimized version of immediate_calculate_adjacent_turfs
It contains dumbshit, and also stuff I just can't do at runtime
If you're not editing behavior, just read that proc. It's less bad</td></tr><tr><th><a href="turf.html#proc/insert_baseturf">insert_baseturf</a></th><td>Inserts a baseturf at the given level.
&quot;Level&quot; here doesn't mean depth.
For example, <code>insert_baseturf(2, /turf/open/floor/plating)</code> will make it so
the 2nd to last turf in the list is plating.
This is different from <em>depth</em>, since depth is the level from the top.</td></tr><tr><th><a href="turf.html#proc/is_blocked_turf">is_blocked_turf</a></th><td>Check whether the specified turf is blocked by something dense inside it with respect to a specific atom.</td></tr><tr><th><a href="turf.html#proc/is_blocked_turf_ignore_climbable">is_blocked_turf_ignore_climbable</a></th><td>Checks whether the specified turf is blocked by something dense inside it, but ignores anything with the climbable trait</td></tr><tr><th><a href="turf.html#proc/is_explosion_shielded">is_explosion_shielded</a></th><td>Checks if this turf is protected from an explosion by something
Return TRUE to stop the explosion from affecting this turf</td></tr><tr><th><a href="turf.html#proc/is_nearby_planetary_atmos">is_nearby_planetary_atmos</a></th><td>Runs through all adjacent open turfs and checks if any are planetary_atmos returns true if even one passes.</td></tr><tr><th><a href="turf.html#proc/level_to_find_baseturf">level_to_find_baseturf</a></th><td>Similar to depth_to_find_baseturf, but directly returns the index of the found baseturf.
This number can be passed into insert_baseturf to insert a baseturf before the found baseturf.</td></tr><tr><th><a href="turf.html#proc/load_on_top">load_on_top</a></th><td>Places a turf on top - for map loading</td></tr><tr><th><a href="turf.html#proc/neighbor_conduct_with_src">neighbor_conduct_with_src</a></th><td>These two procs are a bit of a web, I belive in you</td></tr><tr><th><a href="turf.html#proc/on_change_area">on_change_area</a></th><td>Allows for reactions to an area change without inherently requiring change_area() be called (I hate maploading)</td></tr><tr><th><a href="turf.html#proc/place_on_bottom">place_on_bottom</a></th><td>Places the given turf on the bottom of the turf stack.</td></tr><tr><th><a href="turf.html#proc/place_on_top">place_on_top</a></th><td>Places a turf at the top of the stack</td></tr><tr><th><a href="turf.html#proc/radiate_to_spess">radiate_to_spess</a></th><td>Radiate excess tile heat to space.</td></tr><tr><th><a href="turf.html#proc/reachableAdjacentTurfs">reachableAdjacentTurfs</a></th><td>Returns adjacent turfs to this turf that are reachable, in all cardinal directions</td></tr><tr><th><a href="turf.html#proc/recalculate_directional_opacity">recalculate_directional_opacity</a></th><td>Calculate on which directions this turfs block view.</td></tr><tr><th><a href="turf.html#proc/remove_baseturfs_from_typecache">remove_baseturfs_from_typecache</a></th><td>Removes all baseturfs that are found in the given typecache.</td></tr><tr><th><a href="turf.html#proc/remove_opacity_source">remove_opacity_source</a></th><td>Proc to remove movable sources of opacity on the turf and let it handle lighting code.</td></tr><tr><th><a href="turf.html#proc/replace_baseturf">replace_baseturf</a></th><td>Replaces all instances of needle_type in baseturfs with replacement_type</td></tr><tr><th><a href="turf.html#proc/return_turf_delta_p">return_turf_delta_p</a></th><td>Returns the diffrence in pressure between a turf from surrounding turfs</td></tr><tr><th><a href="turf.html#proc/rust_heretic_act">rust_heretic_act</a></th><td>Check if the heretic is strong enough to rust this turf, and if so, rusts the turf with an added visual effect.</td></tr><tr><th><a href="turf.html#proc/rust_turf">rust_turf</a></th><td>Override this to change behaviour when being rusted</td></tr><tr><th><a href="turf.html#proc/spawn_unique_cleanable">spawn_unique_cleanable</a></th><td>Creates a cleanable decal on a turf
Use this if your decal is one of one, and thus we should not spawn it if it's there already
Returns either the existing cleanable, the one we created, or null if we can't spawn on that turf</td></tr><tr><th><a href="turf.html#proc/stack_below_baseturf">stack_below_baseturf</a></th><td>Places a baseturf below a searched for baseturf.</td></tr><tr><th><a href="turf.html#proc/stack_ontop_of_baseturf">stack_ontop_of_baseturf</a></th><td>Places a baseturf ontop of a searched for baseturf.</td></tr><tr><th><a href="turf.html#proc/transfer_area_lighting">transfer_area_lighting</a></th><td>Transfer the lighting of one area to another</td></tr><tr><th><a href="turf.html#proc/zFall">zFall</a></th><td>Precipitates a movable (plus whatever buckled to it) to lower z levels if possible and then calls zImpact()</td></tr><tr><th><a href="turf.html#proc/zImpact">zImpact</a></th><td>Called each time the target falls down a z level possibly making their trajectory come to a halt. see __DEFINES/movement.dm.</td></tr><tr><th><a href="turf.html#proc/zPassIn">zPassIn</a></th><td>If we'd allow anything to travel into us</td></tr><tr><th><a href="turf.html#proc/zPassOut">zPassOut</a></th><td>If we'd allow anything to travel out of us</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/archived_cycle"><aside class="declaration">var </aside>archived_cycle <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/environmental/LINDA_turf_tile.dm#L17"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/environmental/LINDA_turf_tile.dm 17"></a></h3><p>used to determine whether we should archive</p><h3 id="var/assigned_oranges_ear"><aside class="declaration">var </aside>assigned_oranges_ear <aside>– /<a href="mob.html">mob</a>/<a href="mob/oranges_ear.html">oranges_ear</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L14"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 14"></a></h3><p>what /mob/oranges_ear instance is already assigned to us as there should only ever be one.
used for guaranteeing there is only one oranges_ear per turf when assigned, speeds up view() iteration</p><h3 id="var/atmos_adjacent_turfs"><aside class="declaration">var </aside>atmos_adjacent_turfs <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/environmental/LINDA_turf_tile.dm#L12"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/environmental/LINDA_turf_tile.dm 12"></a></h3><p>list of turfs adjacent to us that air can flow onto</p><h3 id="var/atmos_supeconductivity"><aside class="declaration">var </aside>atmos_supeconductivity <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/environmental/LINDA_turf_tile.dm#L14"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/environmental/LINDA_turf_tile.dm 14"></a></h3><p>bitfield of dirs in which we are superconducitng</p><h3 id="var/directional_opacity"><aside class="declaration">var </aside>directional_opacity <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L79"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 79"></a></h3><p>Which directions does this turf block the vision of, taking into account both the turf's opacity and the movable opacity_sources.</p><h3 id="var/dynamic_lumcount"><aside class="declaration">var </aside>dynamic_lumcount <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L61"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 61"></a></h3><p>Lumcount added by sources other than lighting datum objects, such as the overlay lighting component.</p><h3 id="var/fish_source"><aside class="declaration">var </aside>fish_source <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L114"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 114"></a></h3><p>The typepath we use for lazy fishing on turfs, to save on world init time.</p><h3 id="var/fixed_underlay"><aside class="declaration">var </aside>fixed_underlay <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L58"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 58"></a></h3><p>Icon-smoothing variable to map a diagonal wall corner with a fixed underlay.</p><h3 id="var/force_no_gravity"><aside class="declaration">var </aside>force_no_gravity <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L91"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 91"></a></h3><p>whether or not this turf forces movables on it to have no gravity (unless they themselves have forced gravity)</p><h3 id="var/heat_capacity"><aside class="declaration">var </aside>heat_capacity <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/environmental/LINDA_turf_tile.dm#L5"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/environmental/LINDA_turf_tile.dm 5"></a></h3><p>Amount of heat necessary to activate some atmos processes (there is a weird usage of this var because is compared directly to the temperature instead of heat energy)</p><h3 id="var/holodeck_compatible"><aside class="declaration">var </aside>holodeck_compatible <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L84"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 84"></a></h3><p>the holodeck can load onto this turf if TRUE</p><h3 id="var/in_contents_of"><aside class="declaration">var </aside>in_contents_of <aside>– /<a href="area.html">area</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L104"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 104"></a></h3><p>For the area_contents list unit test
Allows us to know our area without needing to preassign it
Sorry for the mess</p><h3 id="var/inherent_explosive_resistance"><aside class="declaration">var </aside>inherent_explosive_resistance <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L111"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 111"></a></h3><p>How much explosive resistance this turf is providing to itself
Defaults to -1, interpreted as initial(explosive_resistance)
This is an optimization to prevent turfs from needing to set these on init
This would either be expensive, or impossible to manage. Let's just avoid it yes?
Never directly access this, use get_explosive_block() instead</p><h3 id="var/initial_gas_mix"><aside class="declaration">var </aside>initial_gas_mix <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/environmental/LINDA_turf_tile.dm#L26"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/environmental/LINDA_turf_tile.dm 26"></a></h3><p>used for mapping and for breathing while in walls (because that's a thing that needs to be accounted for...)
string parsed by /datum/gas/proc/copy_from_turf
approximation of MOLES_O2STANDARD and MOLES_N2STANDARD pending byond allowing constant expressions to be embedded in constant strings
If someone will place 0 of some gas there, SHIT WILL BREAK. Do not do that.</p><h3 id="var/lattice_underneath"><aside class="declaration">var </aside>lattice_underneath <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L24"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 24"></a></h3><p>If there is a lattice underneat this turf. Used for the attempt_lattice_replacement proc to determine if it should place lattice.</p><h3 id="var/lighting_corner_NE"><aside class="declaration">var </aside>lighting_corner_NE <aside>– /tmp/<a href="datum.html">datum</a>/<a href="datum/lighting_corner.html">lighting_corner</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L72"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 72"></a></h3><p>Lighting Corner datums.</p><h3 id="var/lighting_object"><aside class="declaration">var </aside>lighting_object <aside>– /tmp/<a href="datum.html">datum</a>/<a href="datum/lighting_object.html">lighting_object</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L70"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 70"></a></h3><p>Our lighting object.</p><h3 id="var/max_fire_temperature_sustained"><aside class="declaration">var </aside>max_fire_temperature_sustained <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L37"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 37"></a></h3><p>The max temperature of the fire which it was subjected to, determines the melting point of turf</p><h3 id="var/opacity_sources"><aside class="declaration">var </aside>opacity_sources <aside>– /list/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L81"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 81"></a></h3><p>Lazylist of movable atoms providing opacity sources.</p><h3 id="var/overfloor_placed"><aside class="declaration">var </aside>overfloor_placed <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L20"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 20"></a></h3><p>If there's a tile over a basic floor that can be ripped out</p><h3 id="var/pathing_pass_method"><aside class="declaration">var </aside>pathing_pass_method <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L98"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 98"></a></h3><p>How pathing algorithm will check if this turf is passable by itself (not including content checks). By default it's just density check.
WARNING: Currently to use a density shortcircuiting this does not support dense turfs with special allow through function</p><h3 id="var/rcd_memory"><aside class="declaration">var </aside>rcd_memory <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L89"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 89"></a></h3><p>If this turf contained an RCD'able object (or IS one, for walls)
but is now destroyed, this will preserve the value.
See _<em>DEFINES/construction.dm for RCD_MEMORY</em>*.</p><h3 id="var/rust_resistance"><aside class="declaration">var </aside>rust_resistance <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L94"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 94"></a></h3><p>This turf's resistance to getting rusted</p><h3 id="var/space_lit"><aside class="declaration">var </aside>space_lit <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L65"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 65"></a></h3><p>Bool, whether this turf will always be illuminated no matter what area it is in
Makes it look blue, be warned</p><h3 id="var/temperature_archived"><aside class="declaration">var </aside>temperature_archived <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/environmental/LINDA_turf_tile.dm#L7"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/environmental/LINDA_turf_tile.dm 7"></a></h3><p>Archived version of the temperature on a turf</p><h3 id="var/thermal_conductivities"><aside class="declaration">var </aside>thermal_conductivities <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/environmental/LINDA_turf_tile.dm#L9"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/environmental/LINDA_turf_tile.dm 9"></a></h3><p>All currently stored conductivities changes</p><h3 id="var/thermal_conductivity"><aside class="declaration">var </aside>thermal_conductivity <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/environmental/LINDA_turf_tile.dm#L3"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/environmental/LINDA_turf_tile.dm 3"></a></h3><p>used for temperature calculations in superconduction</p><h3 id="var/to_be_destroyed"><aside class="declaration">var </aside>to_be_destroyed <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L35"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 35"></a></h3><p>Used for fire, if a melting temperature was reached, it will be destroyed</p><h3 id="var/turf_flags"><aside class="declaration">var </aside>turf_flags <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L17"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 17"></a></h3><p>Turf bitflags, see code/__DEFINES/flags.dm</p><h3 id="var/underfloor_accessibility"><aside class="declaration">var </aside>underfloor_accessibility <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L22"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 22"></a></h3><p>How accessible underfloor pieces such as wires, pipes, etc are on this turf. Can be HIDDEN, VISIBLE, or INTERACTABLE.</p><h2 id="proc">Proc Details</h2><h3 id="proc/Initalize_Atmos"><aside class="declaration">proc </aside>Initalize_Atmos<aside>(time)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L190"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 190"></a></aside></h3><p>Initializes our adjacent turfs. If you want to avoid this, do not override it, instead set init_air to FALSE</p><h3 id="proc/Initialize"><aside class="parent"><a title="/atom" href="atom.html#proc/Initialize">↑</a></aside>Initialize<aside>(mapload)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L132"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 132"></a></aside></h3><p>Turf Initialize</p>
<p>Doesn't call parent, see <a href="atom.html#proc/Initialize" title="/atom">/atom/proc/Initialize</a>
Please note, space tiles do not run this code.
This is done because it's called so often that any extra code just slows things down too much
If you add something relevant here add it there too
<a href="turf/open/space.html#proc/Initialize" title="/turf/open/space">/turf/open/space/Initialize</a></p><h3 id="proc/LinkBlockedWithAccess"><aside class="declaration">proc </aside>LinkBlockedWithAccess<aside>(/<a href="turf.html">turf</a>/destination_turf, /<a href="datum.html">datum</a>/<a href="datum/can_pass_info.html">can_pass_info</a>/pass_info)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__HELPERS/paths/path.dm#L215"><img src="git.png" width="16" height="16" title="code/__HELPERS/paths/path.dm 215"></a></aside></h3><p>For seeing if we can actually move between 2 given turfs while accounting for our access and the requester's pass_flags</p>
<p>Assumes destinantion turf is non-dense - check and shortcircuit in code invoking this proc to avoid overhead.
Makes some other assumptions, such as assuming that unless declared, non dense objects will not block movement.
It's fragile, but this is VERY much the most expensive part of pathing, so it'd better be fast</p>
<p>Arguments:</p>
<ul>
<li>destination_turf - Where are we going from where we are?</li>
<li>pass_info - Holds all the info about what this path attempt can go through</li>
</ul><h3 id="proc/ScrapeAway"><aside class="declaration">proc </aside>ScrapeAway<aside>(amount, flags)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/baseturfs.dm#L2"><img src="git.png" width="16" height="16" title="code/game/turfs/baseturfs.dm 2"></a></aside></h3><p>Take off the top layer turf and replace it with the next baseturf down</p><h3 id="proc/_clear_signal_refs"><aside class="parent"><a title="/datum" href="datum.html#proc/_clear_signal_refs">↑</a></aside>_clear_signal_refs<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L227"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 227"></a></aside></h3><p>WARNING WARNING
Turfs DO NOT lose their signals when they get replaced, REMEMBER THIS
It's possible because turfs are fucked, and if you have one in a list and it's replaced with another one, the list ref points to the new turf
We do it because moving signals over was needlessly expensive, and bloated a very commonly used bit of code</p><h3 id="proc/add_lazy_fishing"><aside class="declaration">proc </aside>add_lazy_fishing<aside>(fish_source_path)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L815"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 815"></a></aside></h3><p>the following are some fishing-related optimizations to shave off as much
time we spend implementing the fishing as possible, even if that means
hackier code, because we've hundreds of turfs like lava, water etc every round,</p><h3 id="proc/add_opacity_source"><aside class="declaration">proc </aside>add_opacity_source<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/new_source)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/lighting/lighting_turf.dm#L60"><img src="git.png" width="16" height="16" title="code/modules/lighting/lighting_turf.dm 60"></a></aside></h3><p>Proc to add movable sources of opacity on the turf and let it handle lighting code.</p><h3 id="proc/air_update_turf">air_update_turf<aside>(update, remove)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/environmental/LINDA_system.dm#L191"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/environmental/LINDA_system.dm 191"></a></aside></h3><p>A helper proc for dealing with atmos changes</p>
<p>Ok so this thing is pretty much used as a catch all for all the situations someone might wanna change something
About a turfs atmos. It's real clunky, and someone needs to clean it up, but not today.
Arguments:</p>
<ul>
<li>update - Has the state of the structures in the world changed? If so, update our adjacent atmos turf list, if not, don't.</li>
<li>remove - Are you removing an active turf (Read wall), or adding one</li>
</ul><h3 id="proc/attempt_lattice_replacement"><aside class="declaration">proc </aside>attempt_lattice_replacement<aside>(amount)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/change_turf.dm#L296"><img src="git.png" width="16" height="16" title="code/game/turfs/change_turf.dm 296"></a></aside></h3><p>Attempts to replace a tile with lattice. Amount is the amount of tiles to scrape away.</p><h3 id="proc/baseturf_at_depth"><aside class="declaration">proc </aside>baseturf_at_depth<aside>(index)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/baseturfs.dm#L112"><img src="git.png" width="16" height="16" title="code/game/turfs/baseturfs.dm 112"></a></aside></h3><p>Returns the baseturf at the given depth.
For example, baseturf_at_depth(1) will give the baseturf that would show up when scraping once.</p><h3 id="proc/can_cross_safely"><aside class="declaration">proc </aside>can_cross_safely<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/crossing)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L807"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 807"></a></aside></h3><p>Returns whether it is safe for an atom to move across this turf</p><h3 id="proc/can_propagate_explosion"><aside class="declaration">proc </aside>can_propagate_explosion<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/some_thing, severity)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L581"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 581"></a></aside></h3><p>Called when propagating an explosion through contents,.
Return FALSE to prevent the passed object from being exploded.</p><h3 id="proc/change_area"><aside class="declaration">proc </aside>change_area<aside>(/<a href="area.html">area</a>/old_area, /<a href="area.html">area</a>/new_area)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L237"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 237"></a></aside></h3><p>Call to move a turf from its current area to a new one</p><h3 id="proc/conductivity_directions"><aside class="declaration">proc </aside>conductivity_directions<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/environmental/LINDA_turf_tile.dm#L588"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/environmental/LINDA_turf_tile.dm 588"></a></aside></h3><p>SUPERCONDUCTIVITY
ALLLLLLLLLLLLLLLLLLLLRIGHT HERE WE GOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO</p>
<p>Read the code for more details, but first, a brief concept discussion/area</p>
<p>Our goal here is to &quot;model&quot; heat moving through solid objects, so walls, windows, and sometimes doors.
We do this by heating up the floor itself with the heat of the gasmix ontop of it, this is what the coeffs are for here, they slow that movement
Then we go through the process below.</p>
<p>If an active turf is fitting, we add it to processing, conduct with any covered tiles, (read windows and sometimes walls)
Then we space some of our heat, and think about if we should stop conducting.</p><h3 id="proc/consider_superconductivity"><aside class="declaration">proc </aside>consider_superconductivity<aside>(starting)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/environmental/LINDA_turf_tile.dm#L657"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/environmental/LINDA_turf_tile.dm 657"></a></aside></h3><p>Should we attempt to superconduct?</p><h3 id="proc/count_baseturfs"><aside class="declaration">proc </aside>count_baseturfs<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/baseturfs.dm#L156"><img src="git.png" width="16" height="16" title="code/game/turfs/baseturfs.dm 156"></a></aside></h3><p>Returns the total number of baseturfs</p><h3 id="proc/create_gas_mixture"><aside class="declaration">proc </aside>create_gas_mixture<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/environmental/LINDA_turf_tile.dm#L81"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/environmental/LINDA_turf_tile.dm 81"></a></aside></h3><p>//////////////GAS MIXTURE PROCS///////////////////
Copies all gas info from the turf into a new gas_mixture, along with our temperature
Returns the created gas_mixture</p><h3 id="proc/depth_to_find_baseturf"><aside class="declaration">proc </aside>depth_to_find_baseturf<aside>(baseturf_type)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/baseturfs.dm#L95"><img src="git.png" width="16" height="16" title="code/game/turfs/baseturfs.dm 95"></a></aside></h3><p>Tries to find the given type in baseturfs.
If found, returns how deep it is for use in other baseturf procs, or null if it cannot be found.
For example, this number can be passed into ScrapeAway to scrape everything until that point.</p><h3 id="proc/expose_reagents"><aside class="parent"><a title="/atom" href="atom.html#proc/expose_reagents">↑</a></aside>expose_reagents<aside>(/list/reagents, /<a href="datum.html">datum</a>/<a href="datum/reagents.html">reagents</a>/source, methods, volume_modifier, show_message)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L713"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 713"></a></aside></h3><p>Handles exposing a turf to reagents.</p><h3 id="proc/fromShuttleMove"><aside class="declaration">proc </aside>fromShuttleMove<aside>(/<a href="turf.html">turf</a>/newT, move_mode)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/shuttle/mobile_port/shuttle_move_callbacks.dm#L9"><img src="git.png" width="16" height="16" title="code/modules/shuttle/mobile_port/shuttle_move_callbacks.dm 9"></a></aside></h3><p>Base procs</p><h3 id="proc/get_atmos_adjacent_turfs"><aside class="declaration">proc </aside>get_atmos_adjacent_turfs<aside>(alldir)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/environmental/LINDA_system.dm#L142"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/environmental/LINDA_system.dm 142"></a></aside></h3><p>returns a list of adjacent turfs that can share air with this one.
alldir includes adjacent diagonal tiles that can share
air with both of the related adjacent cardinal tiles</p><h3 id="proc/get_baseturfs_to_depth"><aside class="declaration">proc </aside>get_baseturfs_to_depth<aside>(depth)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/baseturfs.dm#L193"><img src="git.png" width="16" height="16" title="code/game/turfs/baseturfs.dm 193"></a></aside></h3><p>Gets a copy of the baseturfs up to the specified depth</p><h3 id="proc/get_explosive_block"><aside class="declaration">proc </aside>get_explosive_block<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L745"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 745"></a></aside></h3><p>Wrapper around inherent_explosive_resistance
We assume this proc is cold, so we can move the &quot;what is our block&quot; into it</p><h3 id="proc/init_immediate_calculate_adjacent_turfs"><aside class="declaration">proc </aside>init_immediate_calculate_adjacent_turfs<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/environmental/LINDA_system.dm#L59"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/environmental/LINDA_system.dm 59"></a></aside></h3><p>This proc is a more deeply optimized version of immediate_calculate_adjacent_turfs
It contains dumbshit, and also stuff I just can't do at runtime
If you're not editing behavior, just read that proc. It's less bad</p><h3 id="proc/insert_baseturf"><aside class="declaration">proc </aside>insert_baseturf<aside>(level, turf_type)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/baseturfs.dm#L164"><img src="git.png" width="16" height="16" title="code/game/turfs/baseturfs.dm 164"></a></aside></h3><p>Inserts a baseturf at the given level.
&quot;Level&quot; here doesn't mean depth.
For example, <code>insert_baseturf(2, /turf/open/floor/plating)</code> will make it so
the 2nd to last turf in the list is plating.
This is different from <em>depth</em>, since depth is the level from the top.</p><h3 id="proc/is_blocked_turf"><aside class="declaration">proc </aside>is_blocked_turf<aside>(exclude_mobs, source_atom, /list/ignore_atoms, type_list)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L279"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 279"></a></aside></h3><p>Check whether the specified turf is blocked by something dense inside it with respect to a specific atom.</p>
<p>Returns truthy value TURF_BLOCKED_TURF_DENSE if the turf is blocked because the turf itself is dense.
Returns truthy value TURF_BLOCKED_CONTENT_DENSE if one of the turf's contents is dense and would block
a source atom's movement.
Returns falsey value TURF_NOT_BLOCKED if the turf is not blocked.</p>
<p>Arguments:</p>
<ul>
<li>exclude_mobs - If TRUE, ignores dense mobs on the turf.</li>
<li>source_atom - If this is not null, will check whether any contents on the turf can block this atom specifically. Also ignores itself on the turf.</li>
<li>ignore_atoms - Check will ignore any atoms in this list. Useful to prevent an atom from blocking itself on the turf.</li>
<li>type_list - are we checking for types of atoms to ignore and not physical atoms</li>
</ul><h3 id="proc/is_blocked_turf_ignore_climbable"><aside class="declaration">proc </aside>is_blocked_turf_ignore_climbable<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L307"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 307"></a></aside></h3><p>Checks whether the specified turf is blocked by something dense inside it, but ignores anything with the climbable trait</p>
<p>Works similar to is_blocked_turf(), but ignores climbables and has less options. Primarily added for jaunting checks</p><h3 id="proc/is_explosion_shielded"><aside class="declaration">proc </aside>is_explosion_shielded<aside>(severity)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L564"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 564"></a></aside></h3><p>Checks if this turf is protected from an explosion by something
Return TRUE to stop the explosion from affecting this turf</p><h3 id="proc/is_nearby_planetary_atmos"><aside class="declaration">proc </aside>is_nearby_planetary_atmos<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__HELPERS/turfs.dm#L549"><img src="git.png" width="16" height="16" title="code/__HELPERS/turfs.dm 549"></a></aside></h3><p>Runs through all adjacent open turfs and checks if any are planetary_atmos returns true if even one passes.</p><h3 id="proc/level_to_find_baseturf"><aside class="declaration">proc </aside>level_to_find_baseturf<aside>(baseturf_type)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/baseturfs.dm#L105"><img src="git.png" width="16" height="16" title="code/game/turfs/baseturfs.dm 105"></a></aside></h3><p>Similar to depth_to_find_baseturf, but directly returns the index of the found baseturf.
This number can be passed into insert_baseturf to insert a baseturf before the found baseturf.</p><h3 id="proc/load_on_top"><aside class="declaration">proc </aside>load_on_top<aside>(/<a href="turf.html">turf</a>/added_layer, flags)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/baseturfs.dm#L43"><img src="git.png" width="16" height="16" title="code/game/turfs/baseturfs.dm 43"></a></aside></h3><p>Places a turf on top - for map loading</p><h3 id="proc/neighbor_conduct_with_src"><aside class="declaration">proc </aside>neighbor_conduct_with_src<aside>(/<a href="turf.html">turf</a>/<a href="turf/open.html">open</a>/other)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/environmental/LINDA_turf_tile.dm#L603"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/environmental/LINDA_turf_tile.dm 603"></a></aside></h3><p>These two procs are a bit of a web, I belive in you</p><h3 id="proc/on_change_area"><aside class="declaration">proc </aside>on_change_area<aside>(/<a href="area.html">area</a>/old_area, /<a href="area.html">area</a>/new_area)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L256"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 256"></a></aside></h3><p>Allows for reactions to an area change without inherently requiring change_area() be called (I hate maploading)</p><h3 id="proc/place_on_bottom"><aside class="declaration">proc </aside>place_on_bottom<aside>(/<a href="turf.html">turf</a>/bottom_turf)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/baseturfs.dm#L24"><img src="git.png" width="16" height="16" title="code/game/turfs/baseturfs.dm 24"></a></aside></h3><p>Places the given turf on the bottom of the turf stack.</p><h3 id="proc/place_on_top"><aside class="declaration">proc </aside>place_on_top<aside>(/<a href="turf.html">turf</a>/added_layer, flags)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/baseturfs.dm#L31"><img src="git.png" width="16" height="16" title="code/game/turfs/baseturfs.dm 31"></a></aside></h3><p>Places a turf at the top of the stack</p><h3 id="proc/radiate_to_spess"><aside class="declaration">proc </aside>radiate_to_spess<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/environmental/LINDA_turf_tile.dm#L677"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/environmental/LINDA_turf_tile.dm 677"></a></aside></h3><p>Radiate excess tile heat to space.</p><h3 id="proc/reachableAdjacentTurfs"><aside class="declaration">proc </aside>reachableAdjacentTurfs<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/requester, /list/access, simulated_only, no_id)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L761"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 761"></a></aside></h3><p>Returns adjacent turfs to this turf that are reachable, in all cardinal directions</p>
<p>Arguments:</p>
<ul>
<li>requester: The movable, if one exists, being used for mobility checks to see what tiles it can reach</li>
<li>access: A list that decides if we can gain access to doors that would otherwise block a turf</li>
<li>simulated_only: Do we only worry about turfs with simulated atmos, most notably things that aren't space?</li>
<li>no_id: When true, doors with public access will count as impassible</li>
</ul><h3 id="proc/recalculate_directional_opacity"><aside class="declaration">proc </aside>recalculate_directional_opacity<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/lighting/lighting_turf.dm#L76"><img src="git.png" width="16" height="16" title="code/modules/lighting/lighting_turf.dm 76"></a></aside></h3><p>Calculate on which directions this turfs block view.</p><h3 id="proc/remove_baseturfs_from_typecache"><aside class="declaration">proc </aside>remove_baseturfs_from_typecache<aside>(/list/typecache)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/baseturfs.dm#L139"><img src="git.png" width="16" height="16" title="code/game/turfs/baseturfs.dm 139"></a></aside></h3><p>Removes all baseturfs that are found in the given typecache.</p><h3 id="proc/remove_opacity_source"><aside class="declaration">proc </aside>remove_opacity_source<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/old_source)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/lighting/lighting_turf.dm#L68"><img src="git.png" width="16" height="16" title="code/modules/lighting/lighting_turf.dm 68"></a></aside></h3><p>Proc to remove movable sources of opacity on the turf and let it handle lighting code.</p><h3 id="proc/replace_baseturf"><aside class="declaration">proc </aside>replace_baseturf<aside>(needle_type, replacement_type)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/baseturfs.dm#L122"><img src="git.png" width="16" height="16" title="code/game/turfs/baseturfs.dm 122"></a></aside></h3><p>Replaces all instances of needle_type in baseturfs with replacement_type</p><h3 id="proc/return_turf_delta_p"><aside class="declaration">proc </aside>return_turf_delta_p<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/__HELPERS/turfs.dm#L539"><img src="git.png" width="16" height="16" title="code/__HELPERS/turfs.dm 539"></a></aside></h3><p>Returns the diffrence in pressure between a turf from surrounding turfs</p><h3 id="proc/rust_heretic_act"><aside class="parent"><a title="/atom" href="atom.html#proc/rust_heretic_act">↑</a></aside>rust_heretic_act<aside>(rust_strength)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L633"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 633"></a></aside></h3><p>Check if the heretic is strong enough to rust this turf, and if so, rusts the turf with an added visual effect.</p><h3 id="proc/rust_turf"><aside class="declaration">proc </aside>rust_turf<aside>(magic)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L641"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 641"></a></aside></h3><p>Override this to change behaviour when being rusted</p><h3 id="proc/spawn_unique_cleanable"><aside class="declaration">proc </aside>spawn_unique_cleanable<aside>(/<a href="obj.html">obj</a>/<a href="obj/effect/decal.html">effect/decal</a>/<a href="obj/effect/decal/cleanable.html">cleanable</a>/cleanable_type)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/effects/decals/cleanable.dm#L125"><img src="git.png" width="16" height="16" title="code/game/objects/effects/decals/cleanable.dm 125"></a></aside></h3><p>Creates a cleanable decal on a turf
Use this if your decal is one of one, and thus we should not spawn it if it's there already
Returns either the existing cleanable, the one we created, or null if we can't spawn on that turf</p><h3 id="proc/stack_below_baseturf"><aside class="declaration">proc </aside>stack_below_baseturf<aside>(search_type, stack_type)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/baseturfs.dm#L183"><img src="git.png" width="16" height="16" title="code/game/turfs/baseturfs.dm 183"></a></aside></h3><p>Places a baseturf below a searched for baseturf.</p><h3 id="proc/stack_ontop_of_baseturf"><aside class="declaration">proc </aside>stack_ontop_of_baseturf<aside>(floor, roof)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/baseturfs.dm#L175"><img src="git.png" width="16" height="16" title="code/game/turfs/baseturfs.dm 175"></a></aside></h3><p>Places a baseturf ontop of a searched for baseturf.</p><h3 id="proc/transfer_area_lighting"><aside class="declaration">proc </aside>transfer_area_lighting<aside>(/<a href="area.html">area</a>/old_area, /<a href="area.html">area</a>/new_area)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/lighting/lighting_turf.dm#L98"><img src="git.png" width="16" height="16" title="code/modules/lighting/lighting_turf.dm 98"></a></aside></h3><p>Transfer the lighting of one area to another</p><h3 id="proc/zFall"><aside class="declaration">proc </aside>zFall<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/falling, levels, force, falling_from_move)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L335"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 335"></a></aside></h3><p>Precipitates a movable (plus whatever buckled to it) to lower z levels if possible and then calls zImpact()</p><h3 id="proc/zImpact"><aside class="declaration">proc </aside>zImpact<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/falling, levels, /<a href="turf.html">turf</a>/prev_turf, flags)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L364"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 364"></a></aside></h3><p>Called each time the target falls down a z level possibly making their trajectory come to a halt. see __DEFINES/movement.dm.</p><h3 id="proc/zPassIn"><aside class="declaration">proc </aside>zPassIn<aside>(direction)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L319"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 319"></a></aside></h3><p>If we'd allow anything to travel into us</p><h3 id="proc/zPassOut"><aside class="declaration">proc </aside>zPassOut<aside>(direction)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/turfs/turf.dm#L323"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 323"></a></aside></h3><p>If we'd allow anything to travel out of us</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>