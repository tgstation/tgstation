<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/orbit_menu - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/orbit_menu.html#var">Var Details</a> - <a href="datum/orbit_menu.html#proc">Proc Details</a></header><main><h1>orbit_menu <aside>/<a href="datum.html">datum</a>/<a href="datum/orbit_menu.html">orbit_menu</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/mob/dead/observer/orbit.dm#L3"><img src="git.png" width="16" height="16" title="code/modules/mob/dead/observer/orbit.dm 3"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/orbit_menu.html#var/mob_allowed_typecache">mob_allowed_typecache</a></th><td>mobs worth orbiting. Because spaghetti, all mobs have the point of interest, but only some are allowed to actually show up.
this obviously should be changed in the future, so we only add mobs as POI if they actually are interesting, and we don't use
a typecache.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/orbit_menu.html#proc/get_antag_data">get_antag_data</a></th><td>Helper function to get threat type, group, overrides for job and icon</td></tr><tr><th><a href="datum/orbit_menu.html#proc/get_currently_orbiting">get_currently_orbiting</a></th><td>Helper to get the current thing we're orbiting (if any)</td></tr><tr><th><a href="datum/orbit_menu.html#proc/get_living_data">get_living_data</a></th><td>Helper function to get job / icon / health data for a living mob</td></tr><tr><th><a href="datum/orbit_menu.html#proc/get_misc_data">get_misc_data</a></th><td>Gets a list: Misc data and whether it's critical. Handles all snowflakey type cases</td></tr><tr><th><a href="datum/orbit_menu.html#proc/show">show</a></th><td>Shows the UI to the specified user.</td></tr><tr><th><a href="datum/orbit_menu.html#proc/validate_mob_poi">validate_mob_poi</a></th><td>Helper POI validation function passed as a callback to various SSpoints_of_interest procs.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/mob_allowed_typecache"><aside class="declaration">var </aside>mob_allowed_typecache <aside>– /static/list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/mob/dead/observer/orbit.dm#L7"><img src="git.png" width="16" height="16" title="code/modules/mob/dead/observer/orbit.dm 7"></a></h3><p>mobs worth orbiting. Because spaghetti, all mobs have the point of interest, but only some are allowed to actually show up.
this obviously should be changed in the future, so we only add mobs as POI if they actually are interesting, and we don't use
a typecache.</p><h2 id="proc">Proc Details</h2><h3 id="proc/get_antag_data"><aside class="declaration">proc </aside>get_antag_data<aside>(/<a href="datum.html">datum</a>/<a href="datum/mind.html">mind</a>/poi_mind, is_admin) <span class="as"> as </span>/list <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/mob/dead/observer/orbit.dm#L160"><img src="git.png" width="16" height="16" title="code/modules/mob/dead/observer/orbit.dm 160"></a></aside></h3><p>Helper function to get threat type, group, overrides for job and icon</p><h3 id="proc/get_currently_orbiting"><aside class="declaration">proc </aside>get_currently_orbiting<aside>(/<a href="mob.html">mob</a>/<a href="mob/dead.html">dead</a>/<a href="mob/dead/observer.html">observer</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/mob/dead/observer/orbit.dm#L175"><img src="git.png" width="16" height="16" title="code/modules/mob/dead/observer/orbit.dm 175"></a></aside></h3><p>Helper to get the current thing we're orbiting (if any)</p><h3 id="proc/get_living_data"><aside class="declaration">proc </aside>get_living_data<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/player) <span class="as"> as </span>/list <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/mob/dead/observer/orbit.dm#L212"><img src="git.png" width="16" height="16" title="code/modules/mob/dead/observer/orbit.dm 212"></a></aside></h3><p>Helper function to get job / icon / health data for a living mob</p><h3 id="proc/get_misc_data"><aside class="declaration">proc </aside>get_misc_data<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/atom_poi) <span class="as"> as </span>/list <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/mob/dead/observer/orbit.dm#L240"><img src="git.png" width="16" height="16" title="code/modules/mob/dead/observer/orbit.dm 240"></a></aside></h3><p>Gets a list: Misc data and whether it's critical. Handles all snowflakey type cases</p><h3 id="proc/show"><aside class="declaration">proc </aside>show<aside>(/<a href="mob.html">mob</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/mob/dead/observer/orbit.dm#L155"><img src="git.png" width="16" height="16" title="code/modules/mob/dead/observer/orbit.dm 155"></a></aside></h3><p>Shows the UI to the specified user.</p><h3 id="proc/validate_mob_poi"><aside class="declaration">proc </aside>validate_mob_poi<aside>(/<a href="datum.html">datum</a>/<a href="datum/point_of_interest.html">point_of_interest</a>/<a href="datum/point_of_interest/mob_poi.html">mob_poi</a>/potential_poi)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/mob/dead/observer/orbit.dm#L297"><img src="git.png" width="16" height="16" title="code/modules/mob/dead/observer/orbit.dm 297"></a></aside></h3><p>Helper POI validation function passed as a callback to various SSpoints_of_interest procs.</p>
<p>Provides extended validation above and beyond standard, limiting mob POIs without minds or ckeys
unless they're mobs, eye mobs or megafauna. Also allows exceptions for mobs that are deadchat controlled.</p>
<p>If they satisfy that requirement, falls back to default validation for the POI.</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>