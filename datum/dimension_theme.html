<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/dimension_theme - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/dimension_theme.html#var">Var Details</a> - <a href="datum/dimension_theme.html#proc">Proc Details</a></header><main><h1>dimension_theme <aside>/<a href="datum.html">datum</a>/<a href="datum/dimension_theme.html">dimension_theme</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm#L4"><img src="git.png" width="16" height="16" title="code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm 4"></a></h1><p>Datum which describes a theme and replaces turfs and objects in specified locations to match that theme</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/dimension_theme.html#var/icon">icon</a></th><td>An icon to display to represent the theme</td></tr><tr><th><a href="datum/dimension_theme.html#var/icon_state">icon_state</a></th><td>Icon state to use to represent the theme</td></tr><tr><th><a href="datum/dimension_theme.html#var/material">material</a></th><td>Typepath of custom material to use for objects.</td></tr><tr><th><a href="datum/dimension_theme.html#var/name">name</a></th><td>Human readable name of the theme</td></tr><tr><th><a href="datum/dimension_theme.html#var/random_spawn_chance">random_spawn_chance</a></th><td>Prob of placing a random spawn in a completely open turf</td></tr><tr><th><a href="datum/dimension_theme.html#var/random_spawns">random_spawns</a></th><td>List of random spawns to place in completely open turfs</td></tr><tr><th><a href="datum/dimension_theme.html#var/replace_floors">replace_floors</a></th><td>Weighted list of turfs to replace the floor with.</td></tr><tr><th><a href="datum/dimension_theme.html#var/replace_objs">replace_objs</a></th><td>List of weighted lists for object replacement. Key is an original typepath, value is a weighted list of typepaths to replace it with.</td></tr><tr><th><a href="datum/dimension_theme.html#var/replace_walls">replace_walls</a></th><td>Typepath of turf to replace walls with.</td></tr><tr><th><a href="datum/dimension_theme.html#var/replace_window">replace_window</a></th><td>Typepath of full-size windows which will replace existing ones
These need to be separate from replace_objs because we don't want to replace dir windows with full ones and they share typepath</td></tr><tr><th><a href="datum/dimension_theme.html#var/sound">sound</a></th><td>Sound to play when transforming a tile</td></tr><tr><th><a href="datum/dimension_theme.html#var/window_colour">window_colour</a></th><td>Colour to recolour windows with, replaced by material colour if material was specified.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/dimension_theme.html#proc/apply_materials">apply_materials</a></th><td>Applies a new custom material to the contents of a provided turf.</td></tr><tr><th><a href="datum/dimension_theme.html#proc/apply_theme">apply_theme</a></th><td>Applies themed transformation to the provided turf.</td></tr><tr><th><a href="datum/dimension_theme.html#proc/apply_theme_to_list_of_turfs">apply_theme_to_list_of_turfs</a></th><td>Applies the transformation to a list of turfs, ensuring a sound is only played every few turfs to reduce noice spam</td></tr><tr><th><a href="datum/dimension_theme.html#proc/can_convert">can_convert</a></th><td>Returns true if you actually can transform the provided turf.</td></tr><tr><th><a href="datum/dimension_theme.html#proc/get_replacement_object_typepath">get_replacement_object_typepath</a></th><td>Returns the typepath of an object to replace the provided object.</td></tr><tr><th><a href="datum/dimension_theme.html#proc/permit_replace_material">permit_replace_material</a></th><td>Returns true if the provided object can have its material modified.</td></tr><tr><th><a href="datum/dimension_theme.html#proc/replace_object">replace_object</a></th><td>Replaces the provided object with a different one.</td></tr><tr><th><a href="datum/dimension_theme.html#proc/replace_turf">replace_turf</a></th><td>Replaces the provided turf with a different one.</td></tr><tr><th><a href="datum/dimension_theme.html#proc/transform_floor">transform_floor</a></th><td>Replaces the provided floor turf with a different one.</td></tr><tr><th><a href="datum/dimension_theme.html#proc/transform_window">transform_window</a></th><td>Replaces a window with a different window and recolours it.
This needs its own function because we only want to replace full tile windows.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/icon"><aside class="declaration">var </aside>icon <aside>– /icon</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm#L8"><img src="git.png" width="16" height="16" title="code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm 8"></a></h3><p>An icon to display to represent the theme</p><h3 id="var/icon_state"><aside class="declaration">var </aside>icon_state <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm#L10"><img src="git.png" width="16" height="16" title="code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm 10"></a></h3><p>Icon state to use to represent the theme</p><h3 id="var/material"><aside class="declaration">var </aside>material <aside>– /<a href="datum.html">datum</a>/<a href="datum/material.html">material</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm#L12"><img src="git.png" width="16" height="16" title="code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm 12"></a></h3><p>Typepath of custom material to use for objects.</p><h3 id="var/name"><aside class="declaration">var </aside>name <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm#L6"><img src="git.png" width="16" height="16" title="code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm 6"></a></h3><p>Human readable name of the theme</p><h3 id="var/random_spawn_chance"><aside class="declaration">var </aside>random_spawn_chance <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm#L30"><img src="git.png" width="16" height="16" title="code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm 30"></a></h3><p>Prob of placing a random spawn in a completely open turf</p><h3 id="var/random_spawns"><aside class="declaration">var </aside>random_spawns <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm#L28"><img src="git.png" width="16" height="16" title="code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm 28"></a></h3><p>List of random spawns to place in completely open turfs</p><h3 id="var/replace_floors"><aside class="declaration">var </aside>replace_floors <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm#L16"><img src="git.png" width="16" height="16" title="code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm 16"></a></h3><p>Weighted list of turfs to replace the floor with.</p><h3 id="var/replace_objs"><aside class="declaration">var </aside>replace_objs <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm#L20"><img src="git.png" width="16" height="16" title="code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm 20"></a></h3><p>List of weighted lists for object replacement. Key is an original typepath, value is a weighted list of typepaths to replace it with.</p><h3 id="var/replace_walls"><aside class="declaration">var </aside>replace_walls <aside>– /<a href="turf.html">turf</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm#L18"><img src="git.png" width="16" height="16" title="code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm 18"></a></h3><p>Typepath of turf to replace walls with.</p><h3 id="var/replace_window"><aside class="declaration">var </aside>replace_window <aside>– /<a href="obj.html">obj</a>/<a href="obj/structure.html">structure</a>/<a href="obj/structure/window.html">window</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm#L33"><img src="git.png" width="16" height="16" title="code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm 33"></a></h3><p>Typepath of full-size windows which will replace existing ones
These need to be separate from replace_objs because we don't want to replace dir windows with full ones and they share typepath</p><h3 id="var/sound"><aside class="declaration">var </aside>sound <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm#L14"><img src="git.png" width="16" height="16" title="code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm 14"></a></h3><p>Sound to play when transforming a tile</p><h3 id="var/window_colour"><aside class="declaration">var </aside>window_colour <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm#L35"><img src="git.png" width="16" height="16" title="code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm 35"></a></h3><p>Colour to recolour windows with, replaced by material colour if material was specified.</p><h2 id="proc">Proc Details</h2><h3 id="proc/apply_materials"><aside class="declaration">proc </aside>apply_materials<aside>(/<a href="turf.html">turf</a>/affected_turf)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm#L230"><img src="git.png" width="16" height="16" title="code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm 230"></a></aside></h3><p>Applies a new custom material to the contents of a provided turf.</p>
<p>Arguments</p>
<ul>
<li>affected_turf - Turf to transform.</li>
</ul><h3 id="proc/apply_theme"><aside class="declaration">proc </aside>apply_theme<aside>(/<a href="turf.html">turf</a>/affected_turf, skip_sound, show_effect)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm#L50"><img src="git.png" width="16" height="16" title="code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm 50"></a></aside></h3><p>Applies themed transformation to the provided turf.</p>
<p>Arguments</p>
<ul>
<li>affected_turf - Turf to transform.</li>
<li>skip_sound - If the sound shouldn't be played.</li>
<li>show_effect - if the temp visual effect should be shown.</li>
</ul><h3 id="proc/apply_theme_to_list_of_turfs"><aside class="declaration">proc </aside>apply_theme_to_list_of_turfs<aside>(/list/<a href="turf.html">turf</a>/all_turfs)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm#L71"><img src="git.png" width="16" height="16" title="code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm 71"></a></aside></h3><p>Applies the transformation to a list of turfs, ensuring a sound is only played every few turfs to reduce noice spam</p>
<p>Arguments</p>
<ul>
<li>list/turf/all_turfs - List of turfs to transform.</li>
</ul><h3 id="proc/can_convert"><aside class="declaration">proc </aside>can_convert<aside>(/<a href="turf.html">turf</a>/affected_turf)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm#L85"><img src="git.png" width="16" height="16" title="code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm 85"></a></aside></h3><p>Returns true if you actually can transform the provided turf.</p>
<p>Arguments</p>
<ul>
<li>affected_turf - Turf to transform.</li>
</ul><h3 id="proc/get_replacement_object_typepath"><aside class="declaration">proc </aside>get_replacement_object_typepath<aside>(/<a href="obj.html">obj</a>/object)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm#L175"><img src="git.png" width="16" height="16" title="code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm 175"></a></aside></h3><p>Returns the typepath of an object to replace the provided object.</p>
<p>Arguments</p>
<ul>
<li>object - Object to transform.</li>
</ul><h3 id="proc/permit_replace_material"><aside class="declaration">proc </aside>permit_replace_material<aside>(/<a href="obj.html">obj</a>/object)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm#L218"><img src="git.png" width="16" height="16" title="code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm 218"></a></aside></h3><p>Returns true if the provided object can have its material modified.</p>
<p>Arguments</p>
<ul>
<li>object - Object to transform.</li>
</ul><h3 id="proc/replace_object"><aside class="declaration">proc </aside>replace_object<aside>(/<a href="obj.html">obj</a>/object)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm#L143"><img src="git.png" width="16" height="16" title="code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm 143"></a></aside></h3><p>Replaces the provided object with a different one.</p>
<p>Arguments</p>
<ul>
<li>object - Object to replace.</li>
</ul><h3 id="proc/replace_turf"><aside class="declaration">proc </aside>replace_turf<aside>(/<a href="turf.html">turf</a>/affected_turf)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm#L106"><img src="git.png" width="16" height="16" title="code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm 106"></a></aside></h3><p>Replaces the provided turf with a different one.</p>
<p>Arguments</p>
<ul>
<li>affected_turf - Turf to transform.</li>
</ul><h3 id="proc/transform_floor"><aside class="declaration">proc </aside>transform_floor<aside>(/<a href="turf.html">turf</a>/<a href="turf/open.html">open</a>/<a href="turf/open/floor.html">floor</a>/affected_floor)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm#L129"><img src="git.png" width="16" height="16" title="code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm 129"></a></aside></h3><p>Replaces the provided floor turf with a different one.</p>
<p>Arguments</p>
<ul>
<li>affected_floor - Floor turf to transform.</li>
</ul><h3 id="proc/transform_window"><aside class="declaration">proc </aside>transform_window<aside>(/<a href="obj.html">obj</a>/<a href="obj/structure.html">structure</a>/<a href="obj/structure/window.html">window</a>/window)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm#L189"><img src="git.png" width="16" height="16" title="code/game/objects/effects/anomalies/anomalies_dimensional_themes.dm 189"></a></aside></h3><p>Replaces a window with a different window and recolours it.
This needs its own function because we only want to replace full tile windows.</p>
<p>Arguments</p>
<ul>
<li>object - Object to transform.</li>
</ul></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>