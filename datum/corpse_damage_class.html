<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/corpse_damage_class - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/corpse_damage_class.html#var">Var Details</a> - <a href="datum/corpse_damage_class.html#proc">Proc Details</a></header><main><h1>corpse_damage_class <aside>/<a href="datum.html">datum</a>/<a href="datum/corpse_damage_class.html">corpse_damage_class</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/lost_crew/damages/_damages.dm#L7"><img src="git.png" width="16" height="16" title="code/modules/lost_crew/damages/_damages.dm 7"></a></h1><p>The main style controller for new dead bodies! Determines the character, lore, possible causes of death, decay and every other modifier!</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/corpse_damage_class.html#var/area_lore">area_lore</a></th><td>Lore we give on revival, this is the first line</td></tr><tr><th><a href="datum/corpse_damage_class.html#var/death_lore">death_lore</a></th><td>Message sent to the recovered crew, constructed from the different death lores</td></tr><tr><th><a href="datum/corpse_damage_class.html#var/decays">decays</a></th><td>A random decay we apply. Defined here so we can vary it (i.e. a spaced body has less decay than one in a warm jungle)</td></tr><tr><th><a href="datum/corpse_damage_class.html#var/lore_death_time_max">lore_death_time_max</a></th><td>When healthscanned, this is the maximum time that shows</td></tr><tr><th><a href="datum/corpse_damage_class.html#var/lore_death_time_min">lore_death_time_min</a></th><td>When healthscanned, this is the minimum time that shows</td></tr><tr><th><a href="datum/corpse_damage_class.html#var/possible_causes_of_death">possible_causes_of_death</a></th><td>Whatever killed us</td></tr><tr><th><a href="datum/corpse_damage_class.html#var/possible_character_assignments">possible_character_assignments</a></th><td>Assignments that can be given to the corpse</td></tr><tr><th><a href="datum/corpse_damage_class.html#var/possible_character_types">possible_character_types</a></th><td>Different character archetypes we can spawn</td></tr><tr><th><a href="datum/corpse_damage_class.html#var/possible_flavor_types">possible_flavor_types</a></th><td>Possible flavors that can be applied to the corpse</td></tr><tr><th><a href="datum/corpse_damage_class.html#var/post_mortem_effects">post_mortem_effects</a></th><td>Goddamn space vultures stealing my organs</td></tr><tr><th><a href="datum/corpse_damage_class.html#var/weight">weight</a></th><td>Weight given to this class. Setting this is all that's needed for it to be rollable</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/corpse_damage_class.html#proc/apply_character">apply_character</a></th><td>Generate and apply a possible character (species etc)</td></tr><tr><th><a href="datum/corpse_damage_class.html#proc/apply_injuries">apply_injuries</a></th><td>Set up injuries</td></tr><tr><th><a href="datum/corpse_damage_class.html#proc/pick_damage_type">pick_damage_type</a></th><td>Wrapped pickweight so we can have a bit more controle over how we pick our rules</td></tr><tr><th><a href="datum/corpse_damage_class.html#proc/set_death_date">set_death_date</a></th><td>Soulfully give a date of death for health analyzers</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/area_lore"><aside class="declaration">var </aside>area_lore <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/lost_crew/damages/_damages.dm#L11"><img src="git.png" width="16" height="16" title="code/modules/lost_crew/damages/_damages.dm 11"></a></h3><p>Lore we give on revival, this is the first line</p><h3 id="var/death_lore"><aside class="declaration">var </aside>death_lore <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/lost_crew/damages/_damages.dm#L9"><img src="git.png" width="16" height="16" title="code/modules/lost_crew/damages/_damages.dm 9"></a></h3><p>Message sent to the recovered crew, constructed from the different death lores</p><h3 id="var/decays"><aside class="declaration">var </aside>decays <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/lost_crew/damages/_damages.dm#L25"><img src="git.png" width="16" height="16" title="code/modules/lost_crew/damages/_damages.dm 25"></a></h3><p>A random decay we apply. Defined here so we can vary it (i.e. a spaced body has less decay than one in a warm jungle)</p><h3 id="var/lore_death_time_max"><aside class="declaration">var </aside>lore_death_time_max <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/lost_crew/damages/_damages.dm#L29"><img src="git.png" width="16" height="16" title="code/modules/lost_crew/damages/_damages.dm 29"></a></h3><p>When healthscanned, this is the maximum time that shows</p><h3 id="var/lore_death_time_min"><aside class="declaration">var </aside>lore_death_time_min <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/lost_crew/damages/_damages.dm#L27"><img src="git.png" width="16" height="16" title="code/modules/lost_crew/damages/_damages.dm 27"></a></h3><p>When healthscanned, this is the minimum time that shows</p><h3 id="var/possible_causes_of_death"><aside class="declaration">var </aside>possible_causes_of_death <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/lost_crew/damages/_damages.dm#L21"><img src="git.png" width="16" height="16" title="code/modules/lost_crew/damages/_damages.dm 21"></a></h3><p>Whatever killed us</p><h3 id="var/possible_character_assignments"><aside class="declaration">var </aside>possible_character_assignments <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/lost_crew/damages/_damages.dm#L17"><img src="git.png" width="16" height="16" title="code/modules/lost_crew/damages/_damages.dm 17"></a></h3><p>Assignments that can be given to the corpse</p><h3 id="var/possible_character_types"><aside class="declaration">var </aside>possible_character_types <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/lost_crew/damages/_damages.dm#L15"><img src="git.png" width="16" height="16" title="code/modules/lost_crew/damages/_damages.dm 15"></a></h3><p>Different character archetypes we can spawn</p><h3 id="var/possible_flavor_types"><aside class="declaration">var </aside>possible_flavor_types <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/lost_crew/damages/_damages.dm#L19"><img src="git.png" width="16" height="16" title="code/modules/lost_crew/damages/_damages.dm 19"></a></h3><p>Possible flavors that can be applied to the corpse</p><h3 id="var/post_mortem_effects"><aside class="declaration">var </aside>post_mortem_effects <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/lost_crew/damages/_damages.dm#L23"><img src="git.png" width="16" height="16" title="code/modules/lost_crew/damages/_damages.dm 23"></a></h3><p>Goddamn space vultures stealing my organs</p><h3 id="var/weight"><aside class="declaration">var </aside>weight <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/lost_crew/damages/_damages.dm#L13"><img src="git.png" width="16" height="16" title="code/modules/lost_crew/damages/_damages.dm 13"></a></h3><p>Weight given to this class. Setting this is all that's needed for it to be rollable</p><h2 id="proc">Proc Details</h2><h3 id="proc/apply_character"><aside class="declaration">proc </aside>apply_character<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/fashion_corpse, /list/protected_objects, /list/recovered_items, /list/<a href="datum.html">datum</a>/<a href="datum/callback.html">callback</a>/on_revive_and_player_occupancy, /list/body_data)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/lost_crew/damages/_damages.dm#L32"><img src="git.png" width="16" height="16" title="code/modules/lost_crew/damages/_damages.dm 32"></a></aside></h3><p>Generate and apply a possible character (species etc)</p><h3 id="proc/apply_injuries"><aside class="declaration">proc </aside>apply_injuries<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/victim, /list/saved_objects, /list/<a href="datum.html">datum</a>/<a href="datum/callback.html">callback</a>/on_revive_and_player_occupancy, /list/body_data)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/lost_crew/damages/_damages.dm#L54"><img src="git.png" width="16" height="16" title="code/modules/lost_crew/damages/_damages.dm 54"></a></aside></h3><p>Set up injuries</p><h3 id="proc/pick_damage_type"><aside class="declaration">proc </aside>pick_damage_type<aside>(/list/damages, /list/used_damage_types, bonus_roll_used)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/lost_crew/damages/_damages.dm#L97"><img src="git.png" width="16" height="16" title="code/modules/lost_crew/damages/_damages.dm 97"></a></aside></h3><p>Wrapped pickweight so we can have a bit more controle over how we pick our rules</p><h3 id="proc/set_death_date"><aside class="declaration">proc </aside>set_death_date<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/body)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/lost_crew/damages/_damages.dm#L116"><img src="git.png" width="16" height="16" title="code/modules/lost_crew/damages/_damages.dm 116"></a></aside></h3><p>Soulfully give a date of death for health analyzers</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>