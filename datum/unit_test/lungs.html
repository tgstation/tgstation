<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/unit_test/lungs - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/unit_test/lungs.html#proc">Proc Details</a></header><main><h1>lungs <aside>/<a href="datum.html">datum</a>/<a href="datum/unit_test.html">unit_test</a>/<a href="datum/unit_test/lungs.html">lungs</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/unit_tests/lungs.dm#L8"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/lungs.dm 8"></a></h1><p>Tests the standard, plasmaman, and lavaland lungs organ to ensure breathing and suffocation behave as expected.
Performs a check on each main (can be life-sustaining) gas, and ensures gas alerts are only thrown when expected.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/unit_test/lungs.html#proc/create_gas_mix">create_gas_mix</a></th><td>Set up a 2500-Litre gas mixture with the given gases and percentages.</td></tr><tr><th><a href="datum/unit_test/lungs.html#proc/create_lavaland_mix">create_lavaland_mix</a></th><td>Set up an Lavaland gas mix which is &quot;ideal&quot; for Ashwalker life.</td></tr><tr><th><a href="datum/unit_test/lungs.html#proc/create_nitrogen_mix">create_nitrogen_mix</a></th><td>Set up a pure Nitrogen gas mix.</td></tr><tr><th><a href="datum/unit_test/lungs.html#proc/create_plasma_mix">create_plasma_mix</a></th><td>Set up an O2/N2 gas mix which is &quot;ideal&quot; for plasmamen.</td></tr><tr><th><a href="datum/unit_test/lungs.html#proc/create_standard_mix">create_standard_mix</a></th><td>Set up an O2/N2 gas mix which is &quot;ideal&quot; for organic life.</td></tr><tr><th><a href="datum/unit_test/lungs.html#proc/lungs_test_alert_max">lungs_test_alert_max</a></th><td>Tests maximum gas alerts by comparing gas pressure.</td></tr><tr><th><a href="datum/unit_test/lungs.html#proc/lungs_test_alert_min">lungs_test_alert_min</a></th><td>Tests minimum gas alerts by comparing gas pressure.</td></tr><tr><th><a href="datum/unit_test/lungs.html#proc/lungs_test_check_breath">lungs_test_check_breath</a></th><td>Comprehensive unit test for [/obj/item/organ/lungs/proc/check_breath()]
If &quot;expect_failure&quot; is set to TRUE, the test ensures the given Human suffocated.
A &quot;test_name&quot; string is required to contextualize test logs. Describe the gas you're testing.</td></tr></table><h2 id="proc">Proc Details</h2><h3 id="proc/create_gas_mix"><aside class="declaration">proc </aside>create_gas_mix<aside>(/list/gas_to_percent)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/unit_tests/lungs.dm#L172"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/lungs.dm 172"></a></aside></h3><p>Set up a 2500-Litre gas mixture with the given gases and percentages.</p><h3 id="proc/create_lavaland_mix"><aside class="declaration">proc </aside>create_lavaland_mix<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/unit_tests/lungs.dm#L193"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/lungs.dm 193"></a></aside></h3><p>Set up an Lavaland gas mix which is &quot;ideal&quot; for Ashwalker life.</p><h3 id="proc/create_nitrogen_mix"><aside class="declaration">proc </aside>create_nitrogen_mix<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/unit_tests/lungs.dm#L185"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/lungs.dm 185"></a></aside></h3><p>Set up a pure Nitrogen gas mix.</p><h3 id="proc/create_plasma_mix"><aside class="declaration">proc </aside>create_plasma_mix<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/unit_tests/lungs.dm#L189"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/lungs.dm 189"></a></aside></h3><p>Set up an O2/N2 gas mix which is &quot;ideal&quot; for plasmamen.</p><h3 id="proc/create_standard_mix"><aside class="declaration">proc </aside>create_standard_mix<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/unit_tests/lungs.dm#L181"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/lungs.dm 181"></a></aside></h3><p>Set up an O2/N2 gas mix which is &quot;ideal&quot; for organic life.</p><h3 id="proc/lungs_test_alert_max"><aside class="declaration">proc </aside>lungs_test_alert_max<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/lab_rat, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/organ.html">organ</a>/<a href="obj/item/organ/lungs.html">lungs</a>/test_lungs, alert_name, max_pressure, pressure)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/unit_tests/lungs.dm#L165"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/lungs.dm 165"></a></aside></h3><p>Tests maximum gas alerts by comparing gas pressure.</p><h3 id="proc/lungs_test_alert_min"><aside class="declaration">proc </aside>lungs_test_alert_min<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/lab_rat, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/organ.html">organ</a>/<a href="obj/item/organ/lungs.html">lungs</a>/test_lungs, alert_name, min_pressure, pressure)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/unit_tests/lungs.dm#L158"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/lungs.dm 158"></a></aside></h3><p>Tests minimum gas alerts by comparing gas pressure.</p><h3 id="proc/lungs_test_check_breath"><aside class="declaration">proc </aside>lungs_test_check_breath<aside>(test_name, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/lab_rat, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/organ.html">organ</a>/<a href="obj/item/organ/lungs.html">lungs</a>/test_lungs, /<a href="datum.html">datum</a>/<a href="datum/gas_mixture.html">gas_mixture</a>/test_mix, expect_failure)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/unit_tests/lungs.dm#L73"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/lungs.dm 73"></a></aside></h3><p>Comprehensive unit test for [/obj/item/organ/lungs/proc/check_breath()]
If &quot;expect_failure&quot; is set to TRUE, the test ensures the given Human suffocated.
A &quot;test_name&quot; string is required to contextualize test logs. Describe the gas you're testing.</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>