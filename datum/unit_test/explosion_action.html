<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/unit_test/explosion_action - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/unit_test/explosion_action.html#var">Var Details</a> - <a href="datum/unit_test/explosion_action.html#proc">Proc Details</a></header><main><h1>explosion_action <aside>/<a href="datum.html">datum</a>/<a href="datum/unit_test.html">unit_test</a>/<a href="datum/unit_test/explosion_action.html">explosion_action</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/unit_tests/explosion_action.dm#L2"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/explosion_action.dm 2"></a></h1><p>Tests the EX_ACT macro on several different types of atoms to ensure that it still works as expected.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/unit_test/explosion_action.html#var/alien_brute_loss">alien_brute_loss</a></th><td>rolling var for how much brute damage the alien has taken.</td></tr><tr><th><a href="datum/unit_test/explosion_action.html#var/alien_burn_loss">alien_burn_loss</a></th><td>rolling var for how much burn damage the alien has taken.</td></tr><tr><th><a href="datum/unit_test/explosion_action.html#var/alien_ear_damage">alien_ear_damage</a></th><td>aliens get a bit of damage done to their ears when exploded, so check that too.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/unit_test/explosion_action.html#proc/execute_mob_tests">execute_mob_tests</a></th><td>Tests the EX_ACT macro on several different types of mobs to ensure that it still works as expected.
Throughout this test, we use the &quot;abstract&quot; type of a <code>/mob/living</code> to ensure that the raw framework will still work and remain hardy against any <code>ex_act()</code> overrides
that may be done on the subtype-to-subtype basis. Any time we use an explicit subtype is to test that framework, so if you update that for some reason, you should also update this test.
Like, if you balance aliens to take more ear damage and this test fails, just update the test to reflect that. That's it.</td></tr><tr><th><a href="datum/unit_test/explosion_action.html#proc/execute_obj_tests">execute_obj_tests</a></th><td>Tests the <code>EX_ACT()</code> macro on objs to ensure some level of the underlying framework still functions.</td></tr><tr><th><a href="datum/unit_test/explosion_action.html#proc/execute_turf_tests">execute_turf_tests</a></th><td>Tests the <code>EX_ACT()</code> macro on turf subtypes to ensure some level of the underlying framework still functions.</td></tr><tr><th><a href="datum/unit_test/explosion_action.html#proc/read_alien_damages">read_alien_damages</a></th><td>Proc to lessen the amount of copypasta we do for the alien tests, simply sets the rolling vars we have.</td></tr><tr><th><a href="datum/unit_test/explosion_action.html#proc/set_up_test_dog">set_up_test_dog</a></th><td>Sets up a fully armored corgi for testing purposes. Split out into its own proc as to not clutter up the main test.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/alien_brute_loss"><aside class="declaration">var </aside>alien_brute_loss <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/unit_tests/explosion_action.dm#L4"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/explosion_action.dm 4"></a></h3><p>rolling var for how much brute damage the alien has taken.</p><h3 id="var/alien_burn_loss"><aside class="declaration">var </aside>alien_burn_loss <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/unit_tests/explosion_action.dm#L6"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/explosion_action.dm 6"></a></h3><p>rolling var for how much burn damage the alien has taken.</p><h3 id="var/alien_ear_damage"><aside class="declaration">var </aside>alien_ear_damage <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/unit_tests/explosion_action.dm#L8"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/explosion_action.dm 8"></a></h3><p>aliens get a bit of damage done to their ears when exploded, so check that too.</p><h2 id="proc">Proc Details</h2><h3 id="proc/execute_mob_tests"><aside class="declaration">proc </aside>execute_mob_tests<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/unit_tests/explosion_action.dm#L21"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/explosion_action.dm 21"></a></aside></h3><p>Tests the EX_ACT macro on several different types of mobs to ensure that it still works as expected.
Throughout this test, we use the &quot;abstract&quot; type of a <code>/mob/living</code> to ensure that the raw framework will still work and remain hardy against any <code>ex_act()</code> overrides
that may be done on the subtype-to-subtype basis. Any time we use an explicit subtype is to test that framework, so if you update that for some reason, you should also update this test.
Like, if you balance aliens to take more ear damage and this test fails, just update the test to reflect that. That's it.</p><h3 id="proc/execute_obj_tests"><aside class="declaration">proc </aside>execute_obj_tests<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/unit_tests/explosion_action.dm#L167"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/explosion_action.dm 167"></a></aside></h3><p>Tests the <code>EX_ACT()</code> macro on objs to ensure some level of the underlying framework still functions.</p><h3 id="proc/execute_turf_tests"><aside class="declaration">proc </aside>execute_turf_tests<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/unit_tests/explosion_action.dm#L116"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/explosion_action.dm 116"></a></aside></h3><p>Tests the <code>EX_ACT()</code> macro on turf subtypes to ensure some level of the underlying framework still functions.</p><h3 id="proc/read_alien_damages"><aside class="declaration">proc </aside>read_alien_damages<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/alien.html">alien</a>/subject)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/unit_tests/explosion_action.dm#L207"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/explosion_action.dm 207"></a></aside></h3><p>Proc to lessen the amount of copypasta we do for the alien tests, simply sets the rolling vars we have.</p><h3 id="proc/set_up_test_dog"><aside class="declaration">proc </aside>set_up_test_dog<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/unit_tests/explosion_action.dm#L191"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/explosion_action.dm 191"></a></aside></h3><p>Sets up a fully armored corgi for testing purposes. Split out into its own proc as to not clutter up the main test.</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>