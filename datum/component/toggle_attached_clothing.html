<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/component/toggle_attached_clothing - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/component/toggle_attached_clothing.html#var">Var Details</a> - <a href="datum/component/toggle_attached_clothing.html#proc">Proc Details</a></header><main><h1>toggle_attached_clothing <aside>/<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/<a href="datum/component/toggle_attached_clothing.html">toggle_attached_clothing</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/toggle_attached_clothing.dm#L5"><img src="git.png" width="16" height="16" title="code/datums/components/toggle_attached_clothing.dm 5"></a></h1><p>Component which allows clothing to deploy a different kind of clothing onto you.
The simplest example is hooded suits deploying hoods onto your head.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/component/toggle_attached_clothing.html#var/action_name">action_name</a></th><td>Name of toggle action</td></tr><tr><th><a href="datum/component/toggle_attached_clothing.html#var/currently_deployed">currently_deployed</a></th><td>Current state of our deployable equipment</td></tr><tr><th><a href="datum/component/toggle_attached_clothing.html#var/deployable">deployable</a></th><td>Instance of the item we're creating</td></tr><tr><th><a href="datum/component/toggle_attached_clothing.html#var/deployable_type">deployable_type</a></th><td>Typepath of what we're creating</td></tr><tr><th><a href="datum/component/toggle_attached_clothing.html#var/destroy_on_removal">destroy_on_removal</a></th><td>If true, we delete our deployable on toggle rather than putting it in nullspace</td></tr><tr><th><a href="datum/component/toggle_attached_clothing.html#var/down_overlay_state_suffix">down_overlay_state_suffix</a></th><td>Icon state for overlay to display over the parent item while deployable item is not deployed</td></tr><tr><th><a href="datum/component/toggle_attached_clothing.html#var/equipped_slot">equipped_slot</a></th><td>Which slot this item equips into</td></tr><tr><th><a href="datum/component/toggle_attached_clothing.html#var/on_created">on_created</a></th><td>Optional callback triggered when we create our deployable equipment</td></tr><tr><th><a href="datum/component/toggle_attached_clothing.html#var/on_deployed">on_deployed</a></th><td>Optional callback triggered when we have deployed our equipment</td></tr><tr><th><a href="datum/component/toggle_attached_clothing.html#var/on_removed">on_removed</a></th><td>Optional callback triggered before we hide our equipment, before as we may delete it afterwards</td></tr><tr><th><a href="datum/component/toggle_attached_clothing.html#var/parent_icon_state_suffix">parent_icon_state_suffix</a></th><td>What should be added to the end of the parent icon state when equipment is deployed? Set to &quot;&quot; for no change</td></tr><tr><th><a href="datum/component/toggle_attached_clothing.html#var/pre_creation_check">pre_creation_check</a></th><td>Optional callback triggered before deploying, return TRUE to continue or FALSE to cancel</td></tr><tr><th><a href="datum/component/toggle_attached_clothing.html#var/toggle_action">toggle_action</a></th><td>Action used to toggle deployment</td></tr><tr><th><a href="datum/component/toggle_attached_clothing.html#var/undeployed_overlay">undeployed_overlay</a></th><td>Overlay to display over the parent item while deployable item is not deployed</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/component/toggle_attached_clothing.html#proc/create_deployable">create_deployable</a></th><td>Create our gear, returns true if we actually made anything</td></tr><tr><th><a href="datum/component/toggle_attached_clothing.html#proc/on_action_slot_checked">on_action_slot_checked</a></th><td>Called when action attempts to check what slot the item is worn in</td></tr><tr><th><a href="datum/component/toggle_attached_clothing.html#proc/on_checked_overlays">on_checked_overlays</a></th><td>Apply an overlay while the item is not deployed</td></tr><tr><th><a href="datum/component/toggle_attached_clothing.html#proc/on_deployed_destroyed">on_deployed_destroyed</a></th><td>Undeploy gear if it is deleted</td></tr><tr><th><a href="datum/component/toggle_attached_clothing.html#proc/on_deployed_dropped">on_deployed_dropped</a></th><td>Undeploy gear if you drop it</td></tr><tr><th><a href="datum/component/toggle_attached_clothing.html#proc/on_deployed_equipped">on_deployed_equipped</a></th><td>Undeploy gear if it moves slots somehow</td></tr><tr><th><a href="datum/component/toggle_attached_clothing.html#proc/on_parent_equipped">on_parent_equipped</a></th><td>Undeploy gear if it moves slots somehow</td></tr><tr><th><a href="datum/component/toggle_attached_clothing.html#proc/on_parent_equipped_outfit">on_parent_equipped_outfit</a></th><td>Display deployed if worn in an outfit</td></tr><tr><th><a href="datum/component/toggle_attached_clothing.html#proc/on_toggle_pressed">on_toggle_pressed</a></th><td>Toggle deployable when the UI button is clicked</td></tr><tr><th><a href="datum/component/toggle_attached_clothing.html#proc/remove_deployable">remove_deployable</a></th><td>Removes our deployed equipment from the wearer</td></tr><tr><th><a href="datum/component/toggle_attached_clothing.html#proc/toggle_deployable">toggle_deployable</a></th><td>Deploys gear if it is hidden, hides it if it is deployed</td></tr><tr><th><a href="datum/component/toggle_attached_clothing.html#proc/unequip_deployable">unequip_deployable</a></th><td>Removes an equipped deployable atom upon its retraction or destruction</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/action_name"><aside class="declaration">var </aside>action_name <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/toggle_attached_clothing.dm#L15"><img src="git.png" width="16" height="16" title="code/datums/components/toggle_attached_clothing.dm 15"></a></h3><p>Name of toggle action</p><h3 id="var/currently_deployed"><aside class="declaration">var </aside>currently_deployed <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/toggle_attached_clothing.dm#L19"><img src="git.png" width="16" height="16" title="code/datums/components/toggle_attached_clothing.dm 19"></a></h3><p>Current state of our deployable equipment</p><h3 id="var/deployable"><aside class="declaration">var </aside>deployable <aside>– /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/toggle_attached_clothing.dm#L7"><img src="git.png" width="16" height="16" title="code/datums/components/toggle_attached_clothing.dm 7"></a></h3><p>Instance of the item we're creating</p><h3 id="var/deployable_type"><aside class="declaration">var </aside>deployable_type <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/toggle_attached_clothing.dm#L11"><img src="git.png" width="16" height="16" title="code/datums/components/toggle_attached_clothing.dm 11"></a></h3><p>Typepath of what we're creating</p><h3 id="var/destroy_on_removal"><aside class="declaration">var </aside>destroy_on_removal <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/toggle_attached_clothing.dm#L17"><img src="git.png" width="16" height="16" title="code/datums/components/toggle_attached_clothing.dm 17"></a></h3><p>If true, we delete our deployable on toggle rather than putting it in nullspace</p><h3 id="var/down_overlay_state_suffix"><aside class="declaration">var </aside>down_overlay_state_suffix <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/toggle_attached_clothing.dm#L23"><img src="git.png" width="16" height="16" title="code/datums/components/toggle_attached_clothing.dm 23"></a></h3><p>Icon state for overlay to display over the parent item while deployable item is not deployed</p><h3 id="var/equipped_slot"><aside class="declaration">var </aside>equipped_slot <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/toggle_attached_clothing.dm#L13"><img src="git.png" width="16" height="16" title="code/datums/components/toggle_attached_clothing.dm 13"></a></h3><p>Which slot this item equips into</p><h3 id="var/on_created"><aside class="declaration">var </aside>on_created <aside>– /<a href="datum.html">datum</a>/<a href="datum/callback.html">callback</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/toggle_attached_clothing.dm#L29"><img src="git.png" width="16" height="16" title="code/datums/components/toggle_attached_clothing.dm 29"></a></h3><p>Optional callback triggered when we create our deployable equipment</p><h3 id="var/on_deployed"><aside class="declaration">var </aside>on_deployed <aside>– /<a href="datum.html">datum</a>/<a href="datum/callback.html">callback</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/toggle_attached_clothing.dm#L31"><img src="git.png" width="16" height="16" title="code/datums/components/toggle_attached_clothing.dm 31"></a></h3><p>Optional callback triggered when we have deployed our equipment</p><h3 id="var/on_removed"><aside class="declaration">var </aside>on_removed <aside>– /<a href="datum.html">datum</a>/<a href="datum/callback.html">callback</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/toggle_attached_clothing.dm#L33"><img src="git.png" width="16" height="16" title="code/datums/components/toggle_attached_clothing.dm 33"></a></h3><p>Optional callback triggered before we hide our equipment, before as we may delete it afterwards</p><h3 id="var/parent_icon_state_suffix"><aside class="declaration">var </aside>parent_icon_state_suffix <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/toggle_attached_clothing.dm#L21"><img src="git.png" width="16" height="16" title="code/datums/components/toggle_attached_clothing.dm 21"></a></h3><p>What should be added to the end of the parent icon state when equipment is deployed? Set to &quot;&quot; for no change</p><h3 id="var/pre_creation_check"><aside class="declaration">var </aside>pre_creation_check <aside>– /<a href="datum.html">datum</a>/<a href="datum/callback.html">callback</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/toggle_attached_clothing.dm#L27"><img src="git.png" width="16" height="16" title="code/datums/components/toggle_attached_clothing.dm 27"></a></h3><p>Optional callback triggered before deploying, return TRUE to continue or FALSE to cancel</p><h3 id="var/toggle_action"><aside class="declaration">var </aside>toggle_action <aside>– /<a href="datum.html">datum</a>/<a href="datum/action.html">action</a>/item_action</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/toggle_attached_clothing.dm#L9"><img src="git.png" width="16" height="16" title="code/datums/components/toggle_attached_clothing.dm 9"></a></h3><p>Action used to toggle deployment</p><h3 id="var/undeployed_overlay"><aside class="declaration">var </aside>undeployed_overlay <aside>– /mutable_appearance</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/toggle_attached_clothing.dm#L25"><img src="git.png" width="16" height="16" title="code/datums/components/toggle_attached_clothing.dm 25"></a></h3><p>Overlay to display over the parent item while deployable item is not deployed</p><h2 id="proc">Proc Details</h2><h3 id="proc/create_deployable"><aside class="declaration">proc </aside>create_deployable<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/toggle_attached_clothing.dm#L159"><img src="git.png" width="16" height="16" title="code/datums/components/toggle_attached_clothing.dm 159"></a></aside></h3><p>Create our gear, returns true if we actually made anything</p><h3 id="proc/on_action_slot_checked"><aside class="declaration">proc </aside>on_action_slot_checked<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/clothing.html">clothing</a>/source, /<a href="mob.html">mob</a>/user, /<a href="datum.html">datum</a>/action, slot)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/toggle_attached_clothing.dm#L101"><img src="git.png" width="16" height="16" title="code/datums/components/toggle_attached_clothing.dm 101"></a></aside></h3><p>Called when action attempts to check what slot the item is worn in</p><h3 id="proc/on_checked_overlays"><aside class="declaration">proc </aside>on_checked_overlays<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/source, /list/overlays, /mutable_appearance/standing, isinhands, icon_file)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/toggle_attached_clothing.dm#L109"><img src="git.png" width="16" height="16" title="code/datums/components/toggle_attached_clothing.dm 109"></a></aside></h3><p>Apply an overlay while the item is not deployed</p><h3 id="proc/on_deployed_destroyed"><aside class="declaration">proc </aside>on_deployed_destroyed<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/toggle_attached_clothing.dm#L186"><img src="git.png" width="16" height="16" title="code/datums/components/toggle_attached_clothing.dm 186"></a></aside></h3><p>Undeploy gear if it is deleted</p><h3 id="proc/on_deployed_dropped"><aside class="declaration">proc </aside>on_deployed_dropped<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/toggle_attached_clothing.dm#L174"><img src="git.png" width="16" height="16" title="code/datums/components/toggle_attached_clothing.dm 174"></a></aside></h3><p>Undeploy gear if you drop it</p><h3 id="proc/on_deployed_equipped"><aside class="declaration">proc </aside>on_deployed_equipped<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/clothing.html">clothing</a>/source, /<a href="mob.html">mob</a>/equipper, slot)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/toggle_attached_clothing.dm#L179"><img src="git.png" width="16" height="16" title="code/datums/components/toggle_attached_clothing.dm 179"></a></aside></h3><p>Undeploy gear if it moves slots somehow</p><h3 id="proc/on_parent_equipped"><aside class="declaration">proc </aside>on_parent_equipped<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/clothing.html">clothing</a>/source, /<a href="mob.html">mob</a>/equipper, slot)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/toggle_attached_clothing.dm#L146"><img src="git.png" width="16" height="16" title="code/datums/components/toggle_attached_clothing.dm 146"></a></aside></h3><p>Undeploy gear if it moves slots somehow</p><h3 id="proc/on_parent_equipped_outfit"><aside class="declaration">proc </aside>on_parent_equipped_outfit<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/clothing.html">clothing</a>/source, /<a href="mob.html">mob</a>/equipper, visuals_only, slot)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/toggle_attached_clothing.dm#L153"><img src="git.png" width="16" height="16" title="code/datums/components/toggle_attached_clothing.dm 153"></a></aside></h3><p>Display deployed if worn in an outfit</p><h3 id="proc/on_toggle_pressed"><aside class="declaration">proc </aside>on_toggle_pressed<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/source, /<a href="mob.html">mob</a>/user, /<a href="datum.html">datum</a>/action)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/toggle_attached_clothing.dm#L93"><img src="git.png" width="16" height="16" title="code/datums/components/toggle_attached_clothing.dm 93"></a></aside></h3><p>Toggle deployable when the UI button is clicked</p><h3 id="proc/remove_deployable"><aside class="declaration">proc </aside>remove_deployable<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/toggle_attached_clothing.dm#L192"><img src="git.png" width="16" height="16" title="code/datums/components/toggle_attached_clothing.dm 192"></a></aside></h3><p>Removes our deployed equipment from the wearer</p><h3 id="proc/toggle_deployable"><aside class="declaration">proc </aside>toggle_deployable<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/toggle_attached_clothing.dm#L116"><img src="git.png" width="16" height="16" title="code/datums/components/toggle_attached_clothing.dm 116"></a></aside></h3><p>Deploys gear if it is hidden, hides it if it is deployed</p><h3 id="proc/unequip_deployable"><aside class="declaration">proc </aside>unequip_deployable<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/toggle_attached_clothing.dm#L210"><img src="git.png" width="16" height="16" title="code/datums/components/toggle_attached_clothing.dm 210"></a></aside></h3><p>Removes an equipped deployable atom upon its retraction or destruction</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/c41b333c9bc46606d2c5d5b517f7836d5953fbfd">c41b333</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>