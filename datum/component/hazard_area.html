<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/component/hazard_area - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/component/hazard_area.html#var">Var Details</a> - <a href="datum/component/hazard_area.html#proc">Proc Details</a></header><main><h1>hazard_area <aside>/<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/<a href="datum/component/hazard_area.html">hazard_area</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/hazard_area.dm#L7"><img src="git.png" width="16" height="16" title="code/datums/components/hazard_area.dm 7"></a></h1><p>This is a relatively simple component that attempts to deter the parent of the component away
from a specific area or areas. By default it simply applies a penalty where all movement is
four times slower than usual and any action that would affect your 'next move' has a penalty
multiplier of 4 attached.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/component/hazard_area.html#var/area_blacklist">area_blacklist</a></th><td>The blacklist of areas that the parent will be penalized for entering</td></tr><tr><th><a href="datum/component/hazard_area.html#var/area_created">area_created</a></th><td>A list of areas that have been created and are considered to not be hazardous</td></tr><tr><th><a href="datum/component/hazard_area.html#var/area_whitelist">area_whitelist</a></th><td>The whitelist of areas that the parent is allowed to be in. If set this overrides the blacklist</td></tr><tr><th><a href="datum/component/hazard_area.html#var/last_parent_area">last_parent_area</a></th><td>A variable storing the typepath of the last checked area to prevent any further logic running if it has not changed</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/component/hazard_area.html#proc/check_area_hazardous">check_area_hazardous</a></th><td>Checks if the area being checked is considered hazardous
The whitelist is checked first if it exists, otherwise it checks if it is in the blacklist</td></tr><tr><th><a href="datum/component/hazard_area.html#proc/handle_parent_area_change">handle_parent_area_change</a></th><td>This signal should be called whenever our parent moves.</td></tr><tr><th><a href="datum/component/hazard_area.html#proc/on_area_creation">on_area_creation</a></th><td>This signal handler does a few house cleaning tasks when a new area is created.
If the created area already exists in the blacklist or whitelist it simply returns,
however if it isn't we check for an overwritten area and if non-hazardous setup the area to
allow the parent.
If there aren't any overwritten area's it assumes it to be non-hazardous, abuse it and you will weep -ZephyrTFA</td></tr><tr><th><a href="datum/component/hazard_area.html#proc/reject_ladder_movement">reject_ladder_movement</a></th><td>This signal handler checks the area the target ladder is in and if hazardous prevents them from using it</td></tr><tr><th><a href="datum/component/hazard_area.html#proc/reject_vehicle">reject_vehicle</a></th><td>A simple signal handler that informs the parent they cannot ride a vehicle and ejects them</td></tr><tr><th><a href="datum/component/hazard_area.html#proc/update_parent_status_effect">update_parent_status_effect</a></th><td>This proc handles the status effect applied to the parent, most noteably applying or removing it as required</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/area_blacklist"><aside class="declaration">var </aside>area_blacklist <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/hazard_area.dm#L9"><img src="git.png" width="16" height="16" title="code/datums/components/hazard_area.dm 9"></a></h3><p>The blacklist of areas that the parent will be penalized for entering</p><h3 id="var/area_created"><aside class="declaration">var </aside>area_created <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/hazard_area.dm#L13"><img src="git.png" width="16" height="16" title="code/datums/components/hazard_area.dm 13"></a></h3><p>A list of areas that have been created and are considered to not be hazardous</p><h3 id="var/area_whitelist"><aside class="declaration">var </aside>area_whitelist <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/hazard_area.dm#L11"><img src="git.png" width="16" height="16" title="code/datums/components/hazard_area.dm 11"></a></h3><p>The whitelist of areas that the parent is allowed to be in. If set this overrides the blacklist</p><h3 id="var/last_parent_area"><aside class="declaration">var </aside>last_parent_area <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/hazard_area.dm#L15"><img src="git.png" width="16" height="16" title="code/datums/components/hazard_area.dm 15"></a></h3><p>A variable storing the typepath of the last checked area to prevent any further logic running if it has not changed</p><h2 id="proc">Proc Details</h2><h3 id="proc/check_area_hazardous"><aside class="declaration">proc </aside>check_area_hazardous<aside>(/<a href="area.html">area</a>/checking)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/hazard_area.dm#L77"><img src="git.png" width="16" height="16" title="code/datums/components/hazard_area.dm 77"></a></aside></h3><p>Checks if the area being checked is considered hazardous
The whitelist is checked first if it exists, otherwise it checks if it is in the blacklist</p>
<ul>
<li>checking - This should be the typepath of the area being checked, but there is a conversion handler if you pass in a reference instead</li>
</ul><h3 id="proc/handle_parent_area_change"><aside class="declaration">proc </aside>handle_parent_area_change<aside>(/<a href="mob.html">mob</a>/source, /<a href="area.html">area</a>/new_area)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/hazard_area.dm#L138"><img src="git.png" width="16" height="16" title="code/datums/components/hazard_area.dm 138"></a></aside></h3><p>This signal should be called whenever our parent moves.</p><h3 id="proc/on_area_creation"><aside class="declaration">proc </aside>on_area_creation<aside>(/<a href="datum.html">datum</a>/source, /<a href="area.html">area</a>/created, /list/<a href="area.html">area</a>/overwritten, /<a href="mob.html">mob</a>/creator)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/hazard_area.dm#L93"><img src="git.png" width="16" height="16" title="code/datums/components/hazard_area.dm 93"></a></aside></h3><p>This signal handler does a few house cleaning tasks when a new area is created.
If the created area already exists in the blacklist or whitelist it simply returns,
however if it isn't we check for an overwritten area and if non-hazardous setup the area to
allow the parent.
If there aren't any overwritten area's it assumes it to be non-hazardous, abuse it and you will weep -ZephyrTFA</p><h3 id="proc/reject_ladder_movement"><aside class="declaration">proc </aside>reject_ladder_movement<aside>(/<a href="mob.html">mob</a>/source, /<a href="obj.html">obj</a>/entrance_ladder, exit_ladder, going_up)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/hazard_area.dm#L49"><img src="git.png" width="16" height="16" title="code/datums/components/hazard_area.dm 49"></a></aside></h3><p>This signal handler checks the area the target ladder is in and if hazardous prevents them from using it</p><h3 id="proc/reject_vehicle"><aside class="declaration">proc </aside>reject_vehicle<aside>(/<a href="mob.html">mob</a>/source, /<a href="obj.html">obj</a>/<a href="obj/vehicle.html">vehicle</a>/vehicle)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/hazard_area.dm#L59"><img src="git.png" width="16" height="16" title="code/datums/components/hazard_area.dm 59"></a></aside></h3><p>A simple signal handler that informs the parent they cannot ride a vehicle and ejects them</p><h3 id="proc/update_parent_status_effect"><aside class="declaration">proc </aside>update_parent_status_effect<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/hazard_area.dm#L117"><img src="git.png" width="16" height="16" title="code/datums/components/hazard_area.dm 117"></a></aside></h3><p>This proc handles the status effect applied to the parent, most noteably applying or removing it as required</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>