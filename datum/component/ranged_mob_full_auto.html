<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/component/ranged_mob_full_auto - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/component/ranged_mob_full_auto.html#var">Var Details</a> - <a href="datum/component/ranged_mob_full_auto.html#proc">Proc Details</a></header><main><h1>ranged_mob_full_auto <aside>/<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/<a href="datum/component/ranged_mob_full_auto.html">ranged_mob_full_auto</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ranged_mob_full_auto.dm#L5"><img src="git.png" width="16" height="16" title="code/datums/components/ranged_mob_full_auto.dm 5"></a></h1><p>Allows a mob to autofire by holding down the cursor</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/component/ranged_mob_full_auto.html#var/autofire_shot_delay">autofire_shot_delay</a></th><td>Delay before attempting to fire again, note that this is just when we make attempts and is separate from mob's actual firing cooldown</td></tr><tr><th><a href="datum/component/ranged_mob_full_auto.html#var/awaiting_status">awaiting_status</a></th><td>This seems hacky but there can be two MouseDown() without a MouseUp() in between if the user holds click and uses alt+tab, printscreen or similar.</td></tr><tr><th><a href="datum/component/ranged_mob_full_auto.html#var/clicker">clicker</a></th><td>Our client for click tracking</td></tr><tr><th><a href="datum/component/ranged_mob_full_auto.html#var/is_firing">is_firing</a></th><td>Are we currently firing?</td></tr><tr><th><a href="datum/component/ranged_mob_full_auto.html#var/next_shot_cooldown">next_shot_cooldown</a></th><td>When will we next try to shoot?</td></tr><tr><th><a href="datum/component/ranged_mob_full_auto.html#var/target">target</a></th><td>What are we currently shooting at?</td></tr><tr><th><a href="datum/component/ranged_mob_full_auto.html#var/target_loc">target_loc</a></th><td>Where are we currently shooting at?</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/component/ranged_mob_full_auto.html#proc/on_gained_client">on_gained_client</a></th><td>When we gain a client, start tracking clicks</td></tr><tr><th><a href="datum/component/ranged_mob_full_auto.html#proc/on_lost_client">on_lost_client</a></th><td>When we lose our client, stop functioning</td></tr><tr><th><a href="datum/component/ranged_mob_full_auto.html#proc/on_mouse_down">on_mouse_down</a></th><td>On mouse down start shooting!</td></tr><tr><th><a href="datum/component/ranged_mob_full_auto.html#proc/on_mouse_drag">on_mouse_drag</a></th><td>When the mouse moved let's try and shift our aim</td></tr><tr><th><a href="datum/component/ranged_mob_full_auto.html#proc/on_mouse_up">on_mouse_up</a></th><td>When the mouse is released we should stop</td></tr><tr><th><a href="datum/component/ranged_mob_full_auto.html#proc/on_target_deleted">on_target_deleted</a></th><td>Don't hang references</td></tr><tr><th><a href="datum/component/ranged_mob_full_auto.html#proc/set_target">set_target</a></th><td>Setter for reference handling</td></tr><tr><th><a href="datum/component/ranged_mob_full_auto.html#proc/start_firing">start_firing</a></th><td>Start tracking mouse movement and processing our shots</td></tr><tr><th><a href="datum/component/ranged_mob_full_auto.html#proc/stop_firing">stop_firing</a></th><td>Stop watching our mouse and processing shots</td></tr><tr><th><a href="datum/component/ranged_mob_full_auto.html#proc/try_shooting">try_shooting</a></th><td>Try and take a shot, returns false if we are unable to do so and should stop trying</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/autofire_shot_delay"><aside class="declaration">var </aside>autofire_shot_delay <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ranged_mob_full_auto.dm#L7"><img src="git.png" width="16" height="16" title="code/datums/components/ranged_mob_full_auto.dm 7"></a></h3><p>Delay before attempting to fire again, note that this is just when we make attempts and is separate from mob's actual firing cooldown</p><h3 id="var/awaiting_status"><aside class="declaration">var </aside>awaiting_status <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ranged_mob_full_auto.dm#L13"><img src="git.png" width="16" height="16" title="code/datums/components/ranged_mob_full_auto.dm 13"></a></h3><p>This seems hacky but there can be two MouseDown() without a MouseUp() in between if the user holds click and uses alt+tab, printscreen or similar.</p><h3 id="var/clicker"><aside class="declaration">var </aside>clicker <aside>– /<a href="client.html">client</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ranged_mob_full_auto.dm#L9"><img src="git.png" width="16" height="16" title="code/datums/components/ranged_mob_full_auto.dm 9"></a></h3><p>Our client for click tracking</p><h3 id="var/is_firing"><aside class="declaration">var </aside>is_firing <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ranged_mob_full_auto.dm#L11"><img src="git.png" width="16" height="16" title="code/datums/components/ranged_mob_full_auto.dm 11"></a></h3><p>Are we currently firing?</p><h3 id="var/next_shot_cooldown"><aside class="declaration">var </aside>next_shot_cooldown <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ranged_mob_full_auto.dm#L19"><img src="git.png" width="16" height="16" title="code/datums/components/ranged_mob_full_auto.dm 19"></a></h3><p>When will we next try to shoot?</p><h3 id="var/target"><aside class="declaration">var </aside>target <aside>– /<a href="atom.html">atom</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ranged_mob_full_auto.dm#L15"><img src="git.png" width="16" height="16" title="code/datums/components/ranged_mob_full_auto.dm 15"></a></h3><p>What are we currently shooting at?</p><h3 id="var/target_loc"><aside class="declaration">var </aside>target_loc <aside>– /<a href="turf.html">turf</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ranged_mob_full_auto.dm#L17"><img src="git.png" width="16" height="16" title="code/datums/components/ranged_mob_full_auto.dm 17"></a></h3><p>Where are we currently shooting at?</p><h2 id="proc">Proc Details</h2><h3 id="proc/on_gained_client"><aside class="declaration">proc </aside>on_gained_client<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/source)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ranged_mob_full_auto.dm#L82"><img src="git.png" width="16" height="16" title="code/datums/components/ranged_mob_full_auto.dm 82"></a></aside></h3><p>When we gain a client, start tracking clicks</p><h3 id="proc/on_lost_client"><aside class="declaration">proc </aside>on_lost_client<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/source)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ranged_mob_full_auto.dm#L88"><img src="git.png" width="16" height="16" title="code/datums/components/ranged_mob_full_auto.dm 88"></a></aside></h3><p>When we lose our client, stop functioning</p><h3 id="proc/on_mouse_down"><aside class="declaration">proc </aside>on_mouse_down<aside>(/<a href="client.html">client</a>/source, /<a href="atom.html">atom</a>/target, /<a href="turf.html">turf</a>/location, control, params)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ranged_mob_full_auto.dm#L96"><img src="git.png" width="16" height="16" title="code/datums/components/ranged_mob_full_auto.dm 96"></a></aside></h3><p>On mouse down start shooting!</p><h3 id="proc/on_mouse_drag"><aside class="declaration">proc </aside>on_mouse_drag<aside>(/<a href="client.html">client</a>/source, /<a href="atom.html">atom</a>/src_object, /<a href="atom.html">atom</a>/over_object, /<a href="turf.html">turf</a>/src_location, /<a href="turf.html">turf</a>/over_location, src_control, over_control, params)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ranged_mob_full_auto.dm#L151"><img src="git.png" width="16" height="16" title="code/datums/components/ranged_mob_full_auto.dm 151"></a></aside></h3><p>When the mouse moved let's try and shift our aim</p><h3 id="proc/on_mouse_up"><aside class="declaration">proc </aside>on_mouse_up<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ranged_mob_full_auto.dm#L178"><img src="git.png" width="16" height="16" title="code/datums/components/ranged_mob_full_auto.dm 178"></a></aside></h3><p>When the mouse is released we should stop</p><h3 id="proc/on_target_deleted"><aside class="declaration">proc </aside>on_target_deleted<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ranged_mob_full_auto.dm#L77"><img src="git.png" width="16" height="16" title="code/datums/components/ranged_mob_full_auto.dm 77"></a></aside></h3><p>Don't hang references</p><h3 id="proc/set_target"><aside class="declaration">proc </aside>set_target<aside>(/<a href="atom.html">atom</a>/new_target)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ranged_mob_full_auto.dm#L69"><img src="git.png" width="16" height="16" title="code/datums/components/ranged_mob_full_auto.dm 69"></a></aside></h3><p>Setter for reference handling</p><h3 id="proc/start_firing"><aside class="declaration">proc </aside>start_firing<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ranged_mob_full_auto.dm#L134"><img src="git.png" width="16" height="16" title="code/datums/components/ranged_mob_full_auto.dm 134"></a></aside></h3><p>Start tracking mouse movement and processing our shots</p><h3 id="proc/stop_firing"><aside class="declaration">proc </aside>stop_firing<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ranged_mob_full_auto.dm#L186"><img src="git.png" width="16" height="16" title="code/datums/components/ranged_mob_full_auto.dm 186"></a></aside></h3><p>Stop watching our mouse and processing shots</p><h3 id="proc/try_shooting"><aside class="declaration">proc </aside>try_shooting<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ranged_mob_full_auto.dm#L45"><img src="git.png" width="16" height="16" title="code/datums/components/ranged_mob_full_auto.dm 45"></a></aside></h3><p>Try and take a shot, returns false if we are unable to do so and should stop trying</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/c41b333c9bc46606d2c5d5b517f7836d5953fbfd">c41b333</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>