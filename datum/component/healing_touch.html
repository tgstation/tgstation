<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/component/healing_touch - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/component/healing_touch.html#var">Var Details</a> - <a href="datum/component/healing_touch.html#proc">Proc Details</a></header><main><h1>Healing Touch component <aside>/<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/<a href="datum/component/healing_touch.html">healing_touch</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/healing_touch.dm#L10"><img src="git.png" width="16" height="16" title="code/datums/components/healing_touch.dm 10"></a></h1><p>A mob with this component will be able to heal certain targets by attacking them.
This intercepts the attack and starts a do_after if the target is in its allowed type list.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/component/healing_touch.html#var/action_text">action_text</a></th><td>Text to print when action starts, replaces %SOURCE% with healer and %TARGET% with healed mob</td></tr><tr><th><a href="datum/component/healing_touch.html#var/after_healed">after_healed</a></th><td>Callback to run after healing a mob</td></tr><tr><th><a href="datum/component/healing_touch.html#var/complete_text">complete_text</a></th><td>Text to print when action completes, replaces %SOURCE% with healer and %TARGET% with healed mob</td></tr><tr><th><a href="datum/component/healing_touch.html#var/extra_checks">extra_checks</a></th><td>Any extra conditions which need to be true to permit healing. Returning TRUE permits the healing, FALSE or null cancels it.</td></tr><tr><th><a href="datum/component/healing_touch.html#var/heal_brute">heal_brute</a></th><td>How much brute damage to heal</td></tr><tr><th><a href="datum/component/healing_touch.html#var/heal_burn">heal_burn</a></th><td>How much burn damage to heal</td></tr><tr><th><a href="datum/component/healing_touch.html#var/heal_color">heal_color</a></th><td>Color for the healing effect</td></tr><tr><th><a href="datum/component/healing_touch.html#var/heal_oxy">heal_oxy</a></th><td>How much oxygen damage to heal</td></tr><tr><th><a href="datum/component/healing_touch.html#var/heal_stamina">heal_stamina</a></th><td>How much stamina damage to heal</td></tr><tr><th><a href="datum/component/healing_touch.html#var/heal_time">heal_time</a></th><td>Time it takes to perform the healing action</td></tr><tr><th><a href="datum/component/healing_touch.html#var/heal_tox">heal_tox</a></th><td>How much toxin damage to heal</td></tr><tr><th><a href="datum/component/healing_touch.html#var/healing_multiplier">healing_multiplier</a></th><td>Callback to run to get a multiplier for our healing value</td></tr><tr><th><a href="datum/component/healing_touch.html#var/interaction_key">interaction_key</a></th><td>Interaction will use this key, and be blocked while this key is in use</td></tr><tr><th><a href="datum/component/healing_touch.html#var/required_bodytype">required_bodytype</a></th><td>Which kinds of carbon limbs can we heal, has no effect on non-carbon mobs. Set to null if you don't care about excluding prosthetics.</td></tr><tr><th><a href="datum/component/healing_touch.html#var/required_modifier">required_modifier</a></th><td>Optional click modifier required</td></tr><tr><th><a href="datum/component/healing_touch.html#var/self_targeting">self_targeting</a></th><td>How targeting yourself works, expects one of HEALING_TOUCH_ANYONE, HEALING_TOUCH_NOT_SELF, or HEALING_TOUCH_SELF_ONLY</td></tr><tr><th><a href="datum/component/healing_touch.html#var/show_health">show_health</a></th><td>Whether to print the target's remaining health after healing (for non-carbon targets only)</td></tr><tr><th><a href="datum/component/healing_touch.html#var/valid_biotypes">valid_biotypes</a></th><td>Bitfield for biotypes of mobs we can heal</td></tr><tr><th><a href="datum/component/healing_touch.html#var/valid_targets_typecache">valid_targets_typecache</a></th><td>Typecache of mobs we can heal</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/component/healing_touch.html#proc/format_string">format_string</a></th><td>Reformats the passed string with the replacetext keys</td></tr><tr><th><a href="datum/component/healing_touch.html#proc/has_healable_damage">has_healable_damage</a></th><td>Returns true if the target has a kind of damage which we can heal</td></tr><tr><th><a href="datum/component/healing_touch.html#proc/heal_target">heal_target</a></th><td>Perform a do_after and then heal our target</td></tr><tr><th><a href="datum/component/healing_touch.html#proc/try_healing">try_healing</a></th><td>Validate our target, and interrupt the attack chain to start healing it if it is allowed</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/action_text"><aside class="declaration">var </aside>action_text <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/healing_touch.dm#L37"><img src="git.png" width="16" height="16" title="code/datums/components/healing_touch.dm 37"></a></h3><p>Text to print when action starts, replaces %SOURCE% with healer and %TARGET% with healed mob</p><h3 id="var/after_healed"><aside class="declaration">var </aside>after_healed <aside>– /<a href="datum.html">datum</a>/<a href="datum/callback.html">callback</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/healing_touch.dm#L47"><img src="git.png" width="16" height="16" title="code/datums/components/healing_touch.dm 47"></a></h3><p>Callback to run after healing a mob</p><h3 id="var/complete_text"><aside class="declaration">var </aside>complete_text <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/healing_touch.dm#L39"><img src="git.png" width="16" height="16" title="code/datums/components/healing_touch.dm 39"></a></h3><p>Text to print when action completes, replaces %SOURCE% with healer and %TARGET% with healed mob</p><h3 id="var/extra_checks"><aside class="declaration">var </aside>extra_checks <aside>– /<a href="datum.html">datum</a>/<a href="datum/callback.html">callback</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/healing_touch.dm#L25"><img src="git.png" width="16" height="16" title="code/datums/components/healing_touch.dm 25"></a></h3><p>Any extra conditions which need to be true to permit healing. Returning TRUE permits the healing, FALSE or null cancels it.</p><h3 id="var/heal_brute"><aside class="declaration">var </aside>heal_brute <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/healing_touch.dm#L13"><img src="git.png" width="16" height="16" title="code/datums/components/healing_touch.dm 13"></a></h3><p>How much brute damage to heal</p><h3 id="var/heal_burn"><aside class="declaration">var </aside>heal_burn <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/healing_touch.dm#L15"><img src="git.png" width="16" height="16" title="code/datums/components/healing_touch.dm 15"></a></h3><p>How much burn damage to heal</p><h3 id="var/heal_color"><aside class="declaration">var </aside>heal_color <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/healing_touch.dm#L43"><img src="git.png" width="16" height="16" title="code/datums/components/healing_touch.dm 43"></a></h3><p>Color for the healing effect</p><h3 id="var/heal_oxy"><aside class="declaration">var </aside>heal_oxy <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/healing_touch.dm#L19"><img src="git.png" width="16" height="16" title="code/datums/components/healing_touch.dm 19"></a></h3><p>How much oxygen damage to heal</p><h3 id="var/heal_stamina"><aside class="declaration">var </aside>heal_stamina <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/healing_touch.dm#L21"><img src="git.png" width="16" height="16" title="code/datums/components/healing_touch.dm 21"></a></h3><p>How much stamina damage to heal</p><h3 id="var/heal_time"><aside class="declaration">var </aside>heal_time <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/healing_touch.dm#L27"><img src="git.png" width="16" height="16" title="code/datums/components/healing_touch.dm 27"></a></h3><p>Time it takes to perform the healing action</p><h3 id="var/heal_tox"><aside class="declaration">var </aside>heal_tox <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/healing_touch.dm#L17"><img src="git.png" width="16" height="16" title="code/datums/components/healing_touch.dm 17"></a></h3><p>How much toxin damage to heal</p><h3 id="var/healing_multiplier"><aside class="declaration">var </aside>healing_multiplier <aside>– /<a href="datum.html">datum</a>/<a href="datum/callback.html">callback</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/healing_touch.dm#L49"><img src="git.png" width="16" height="16" title="code/datums/components/healing_touch.dm 49"></a></h3><p>Callback to run to get a multiplier for our healing value</p><h3 id="var/interaction_key"><aside class="declaration">var </aside>interaction_key <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/healing_touch.dm#L23"><img src="git.png" width="16" height="16" title="code/datums/components/healing_touch.dm 23"></a></h3><p>Interaction will use this key, and be blocked while this key is in use</p><h3 id="var/required_bodytype"><aside class="declaration">var </aside>required_bodytype <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/healing_touch.dm#L33"><img src="git.png" width="16" height="16" title="code/datums/components/healing_touch.dm 33"></a></h3><p>Which kinds of carbon limbs can we heal, has no effect on non-carbon mobs. Set to null if you don't care about excluding prosthetics.</p><h3 id="var/required_modifier"><aside class="declaration">var </aside>required_modifier <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/healing_touch.dm#L45"><img src="git.png" width="16" height="16" title="code/datums/components/healing_touch.dm 45"></a></h3><p>Optional click modifier required</p><h3 id="var/self_targeting"><aside class="declaration">var </aside>self_targeting <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/healing_touch.dm#L35"><img src="git.png" width="16" height="16" title="code/datums/components/healing_touch.dm 35"></a></h3><p>How targeting yourself works, expects one of HEALING_TOUCH_ANYONE, HEALING_TOUCH_NOT_SELF, or HEALING_TOUCH_SELF_ONLY</p><h3 id="var/show_health"><aside class="declaration">var </aside>show_health <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/healing_touch.dm#L41"><img src="git.png" width="16" height="16" title="code/datums/components/healing_touch.dm 41"></a></h3><p>Whether to print the target's remaining health after healing (for non-carbon targets only)</p><h3 id="var/valid_biotypes"><aside class="declaration">var </aside>valid_biotypes <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/healing_touch.dm#L31"><img src="git.png" width="16" height="16" title="code/datums/components/healing_touch.dm 31"></a></h3><p>Bitfield for biotypes of mobs we can heal</p><h3 id="var/valid_targets_typecache"><aside class="declaration">var </aside>valid_targets_typecache <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/healing_touch.dm#L29"><img src="git.png" width="16" height="16" title="code/datums/components/healing_touch.dm 29"></a></h3><p>Typecache of mobs we can heal</p><h2 id="proc">Proc Details</h2><h3 id="proc/format_string"><aside class="declaration">proc </aside>format_string<aside>(string, /<a href="atom.html">atom</a>/source, /<a href="atom.html">atom</a>/target)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/healing_touch.dm#L225"><img src="git.png" width="16" height="16" title="code/datums/components/healing_touch.dm 225"></a></aside></h3><p>Reformats the passed string with the replacetext keys</p><h3 id="proc/has_healable_damage"><aside class="declaration">proc </aside>has_healable_damage<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/target)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/healing_touch.dm#L165"><img src="git.png" width="16" height="16" title="code/datums/components/healing_touch.dm 165"></a></aside></h3><p>Returns true if the target has a kind of damage which we can heal</p><h3 id="proc/heal_target"><aside class="declaration">proc </aside>heal_target<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/healer, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/target)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/healing_touch.dm#L186"><img src="git.png" width="16" height="16" title="code/datums/components/healing_touch.dm 186"></a></aside></h3><p>Perform a do_after and then heal our target</p><h3 id="proc/try_healing"><aside class="declaration">proc </aside>try_healing<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/healer, /<a href="atom.html">atom</a>/target, proximity, modifiers)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/healing_touch.dm#L119"><img src="git.png" width="16" height="16" title="code/datums/components/healing_touch.dm 119"></a></aside></h3><p>Validate our target, and interrupt the attack chain to start healing it if it is allowed</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>