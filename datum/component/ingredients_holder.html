<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/component/ingredients_holder - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/component/ingredients_holder.html#var">Var Details</a> - <a href="datum/component/ingredients_holder.html#proc">Proc Details</a></header><main><h1>Custom Atom Component <aside>/<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/<a href="datum/component/ingredients_holder.html">ingredients_holder</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ingredients_holder.dm#L11"><img src="git.png" width="16" height="16" title="code/datums/components/ingredients_holder.dm 11"></a></h1><p>When added to an atom, item ingredients can be put into that.
The sprite is updated and reagents and custom materials are transferred.</p>
<p>If the component is added to something that is processed, creating new objects (being cut, for example),
the replacement type needs to also have the component. The ingredients will be copied over. Reagents are not
copied over since other components already take care of that.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/component/ingredients_holder.html#var/custom_name">custom_name</a></th><td>The custom name attached to the original name of the holder, to pass down if processed into new instances.</td></tr><tr><th><a href="datum/component/ingredients_holder.html#var/fill_type">fill_type</a></th><td>Type of fill, can be [CUSTOM_INGREDIENT_ICON_NOCHANGE] for example.</td></tr><tr><th><a href="datum/component/ingredients_holder.html#var/filling_colors">filling_colors</a></th><td>List of colors to be used for fillings, to pass down if processed into new instances.</td></tr><tr><th><a href="datum/component/ingredients_holder.html#var/ingredient_names">ingredient_names</a></th><td>Stores the names of the ingredients used on the holder, to pass down if processed into new instances.</td></tr><tr><th><a href="datum/component/ingredients_holder.html#var/ingredient_type">ingredient_type</a></th><td>Type of ingredients to accept, [CUSTOM_INGREDIENT_TYPE_EDIBLE] for example.</td></tr><tr><th><a href="datum/component/ingredients_holder.html#var/max_ingredients">max_ingredients</a></th><td>Number of max ingredients.</td></tr><tr><th><a href="datum/component/ingredients_holder.html#var/replacement">replacement</a></th><td>Type path of replacement atom.</td></tr><tr><th><a href="datum/component/ingredients_holder.html#var/screentip_verb">screentip_verb</a></th><td>Adds screentips for all items that call on this proc, defaults to &quot;Add&quot;</td></tr><tr><th><a href="datum/component/ingredients_holder.html#var/top_overlay">top_overlay</a></th><td>Overlay used for certain fill types, always shows up on top.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/component/ingredients_holder.html#proc/add_ingredient">add_ingredient</a></th><td>Adds a new ingredient and updates the parent's name.</td></tr><tr><th><a href="datum/component/ingredients_holder.html#proc/apply_fill">apply_fill</a></th><td>Add a filling overlay to the parent atom.</td></tr><tr><th><a href="datum/component/ingredients_holder.html#proc/custom_adjective">custom_adjective</a></th><td>Gives an adjective to describe the size of the custom food.</td></tr><tr><th><a href="datum/component/ingredients_holder.html#proc/customizable_attack">customizable_attack</a></th><td>Handles when the customizable food is attacked by something.</td></tr><tr><th><a href="datum/component/ingredients_holder.html#proc/food_exited">food_exited</a></th><td>Clear refs if our food &quot;goes away&quot; somehow</td></tr><tr><th><a href="datum/component/ingredients_holder.html#proc/get_fill">get_fill</a></th><td>Extract the filling color from the ingredient, than calls apply_fill()</td></tr><tr><th><a href="datum/component/ingredients_holder.html#proc/handle_materials">handle_materials</a></th><td>Rebuilds the custom materials the holder is composed of based on the materials of each ingredient</td></tr><tr><th><a href="datum/component/ingredients_holder.html#proc/handle_reagents">handle_reagents</a></th><td>Takes the reagents from an ingredient.</td></tr><tr><th><a href="datum/component/ingredients_holder.html#proc/mix_color">mix_color</a></th><td>Returns the color of the input mixed with the top_overlay's color.</td></tr><tr><th><a href="datum/component/ingredients_holder.html#proc/on_examine">on_examine</a></th><td>Handles when the customizable food is examined.</td></tr><tr><th><a href="datum/component/ingredients_holder.html#proc/on_processed">on_processed</a></th><td>Copies over the parent's fillings and name of ingredients to the processing results (such as slices when the parent is cut).</td></tr><tr><th><a href="datum/component/ingredients_holder.html#proc/on_requesting_context_from_item">on_requesting_context_from_item</a></th><td>Adds context sensitivy directly to the customizable reagent holder file for screentips
Arguments:</td></tr><tr><th><a href="datum/component/ingredients_holder.html#proc/set_custom_name">set_custom_name</a></th><td>Gives the type of custom food (based on what the first ingredient was).</td></tr><tr><th><a href="datum/component/ingredients_holder.html#proc/valid_ingredient">valid_ingredient</a></th><td>Proc that checks if an ingredient is valid or not, returning false if it isnt and true if it is.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/custom_name"><aside class="declaration">var </aside>custom_name <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ingredients_holder.dm#L31"><img src="git.png" width="16" height="16" title="code/datums/components/ingredients_holder.dm 31"></a></h3><p>The custom name attached to the original name of the holder, to pass down if processed into new instances.</p><h3 id="var/fill_type"><aside class="declaration">var </aside>fill_type <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ingredients_holder.dm#L16"><img src="git.png" width="16" height="16" title="code/datums/components/ingredients_holder.dm 16"></a></h3><p>Type of fill, can be [CUSTOM_INGREDIENT_ICON_NOCHANGE] for example.</p><h3 id="var/filling_colors"><aside class="declaration">var </aside>filling_colors <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ingredients_holder.dm#L29"><img src="git.png" width="16" height="16" title="code/datums/components/ingredients_holder.dm 29"></a></h3><p>List of colors to be used for fillings, to pass down if processed into new instances.</p><h3 id="var/ingredient_names"><aside class="declaration">var </aside>ingredient_names <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ingredients_holder.dm#L27"><img src="git.png" width="16" height="16" title="code/datums/components/ingredients_holder.dm 27"></a></h3><p>Stores the names of the ingredients used on the holder, to pass down if processed into new instances.</p><h3 id="var/ingredient_type"><aside class="declaration">var </aside>ingredient_type <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ingredients_holder.dm#L22"><img src="git.png" width="16" height="16" title="code/datums/components/ingredients_holder.dm 22"></a></h3><p>Type of ingredients to accept, [CUSTOM_INGREDIENT_TYPE_EDIBLE] for example.</p><h3 id="var/max_ingredients"><aside class="declaration">var </aside>max_ingredients <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ingredients_holder.dm#L18"><img src="git.png" width="16" height="16" title="code/datums/components/ingredients_holder.dm 18"></a></h3><p>Number of max ingredients.</p><h3 id="var/replacement"><aside class="declaration">var </aside>replacement <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ingredients_holder.dm#L14"><img src="git.png" width="16" height="16" title="code/datums/components/ingredients_holder.dm 14"></a></h3><p>Type path of replacement atom.</p><h3 id="var/screentip_verb"><aside class="declaration">var </aside>screentip_verb <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ingredients_holder.dm#L24"><img src="git.png" width="16" height="16" title="code/datums/components/ingredients_holder.dm 24"></a></h3><p>Adds screentips for all items that call on this proc, defaults to &quot;Add&quot;</p><h3 id="var/top_overlay"><aside class="declaration">var </aside>top_overlay <aside>– /mutable_appearance</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ingredients_holder.dm#L20"><img src="git.png" width="16" height="16" title="code/datums/components/ingredients_holder.dm 20"></a></h3><p>Overlay used for certain fill types, always shows up on top.</p><h2 id="proc">Proc Details</h2><h3 id="proc/add_ingredient"><aside class="declaration">proc </aside>add_ingredient<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/ingredient)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ingredients_holder.dm#L199"><img src="git.png" width="16" height="16" title="code/datums/components/ingredients_holder.dm 199"></a></aside></h3><p>Adds a new ingredient and updates the parent's name.</p><h3 id="proc/apply_fill"><aside class="declaration">proc </aside>apply_fill<aside>(fill_color)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ingredients_holder.dm#L150"><img src="git.png" width="16" height="16" title="code/datums/components/ingredients_holder.dm 150"></a></aside></h3><p>Add a filling overlay to the parent atom.</p><h3 id="proc/custom_adjective"><aside class="declaration">proc </aside>custom_adjective<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ingredients_holder.dm#L241"><img src="git.png" width="16" height="16" title="code/datums/components/ingredients_holder.dm 241"></a></aside></h3><p>Gives an adjective to describe the size of the custom food.</p><h3 id="proc/customizable_attack"><aside class="declaration">proc </aside>customizable_attack<aside>(/<a href="datum.html">datum</a>/source, /<a href="obj.html">obj</a>/ingredient, /<a href="mob.html">mob</a>/attacker, silent, force)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ingredients_holder.dm#L119"><img src="git.png" width="16" height="16" title="code/datums/components/ingredients_holder.dm 119"></a></aside></h3><p>Handles when the customizable food is attacked by something.</p><h3 id="proc/food_exited"><aside class="declaration">proc </aside>food_exited<aside>(/<a href="datum.html">datum</a>/source, /<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/gone)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ingredients_holder.dm#L310"><img src="git.png" width="16" height="16" title="code/datums/components/ingredients_holder.dm 310"></a></aside></h3><p>Clear refs if our food &quot;goes away&quot; somehow</p><h3 id="proc/get_fill"><aside class="declaration">proc </aside>get_fill<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/ingredient)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ingredients_holder.dm#L139"><img src="git.png" width="16" height="16" title="code/datums/components/ingredients_holder.dm 139"></a></aside></h3><p>Extract the filling color from the ingredient, than calls apply_fill()</p><h3 id="proc/handle_materials"><aside class="declaration">proc </aside>handle_materials<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/ingredient, remove)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ingredients_holder.dm#L231"><img src="git.png" width="16" height="16" title="code/datums/components/ingredients_holder.dm 231"></a></aside></h3><p>Rebuilds the custom materials the holder is composed of based on the materials of each ingredient</p><h3 id="proc/handle_reagents"><aside class="declaration">proc </aside>handle_reagents<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/ingredient)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ingredients_holder.dm#L190"><img src="git.png" width="16" height="16" title="code/datums/components/ingredients_holder.dm 190"></a></aside></h3><p>Takes the reagents from an ingredient.</p><h3 id="proc/mix_color"><aside class="declaration">proc </aside>mix_color<aside>(color)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ingredients_holder.dm#L268"><img src="git.png" width="16" height="16" title="code/datums/components/ingredients_holder.dm 268"></a></aside></h3><p>Returns the color of the input mixed with the top_overlay's color.</p><h3 id="proc/on_examine"><aside class="declaration">proc </aside>on_examine<aside>(/<a href="atom.html">atom</a>/A, /<a href="mob.html">mob</a>/user, /list/examine_list)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ingredients_holder.dm#L96"><img src="git.png" width="16" height="16" title="code/datums/components/ingredients_holder.dm 96"></a></aside></h3><p>Handles when the customizable food is examined.</p><h3 id="proc/on_processed"><aside class="declaration">proc </aside>on_processed<aside>(/<a href="datum.html">datum</a>/source, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/ingredient, /list/<a href="atom.html">atom</a>/results)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ingredients_holder.dm#L282"><img src="git.png" width="16" height="16" title="code/datums/components/ingredients_holder.dm 282"></a></aside></h3><p>Copies over the parent's fillings and name of ingredients to the processing results (such as slices when the parent is cut).</p><h3 id="proc/on_requesting_context_from_item"><aside class="declaration">proc </aside>on_requesting_context_from_item<aside>(/<a href="datum.html">datum</a>/source, /list/context, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/held_item, /<a href="mob.html">mob</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ingredients_holder.dm#L298"><img src="git.png" width="16" height="16" title="code/datums/components/ingredients_holder.dm 298"></a></aside></h3><p>Adds context sensitivy directly to the customizable reagent holder file for screentips
Arguments:</p>
<ul>
<li>source - refers to item that will display its screentip</li>
<li>context - refers to, in this case, an item that can be customized with other reagents or ingrideints</li>
<li>held_item - refers to the item in your hand, which is hopefully an ingredient</li>
<li>user - refers to user who will see the screentip when the proper context and tool are there</li>
</ul><h3 id="proc/set_custom_name"><aside class="declaration">proc </aside>set_custom_name<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/ingredient)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ingredients_holder.dm#L256"><img src="git.png" width="16" height="16" title="code/datums/components/ingredients_holder.dm 256"></a></aside></h3><p>Gives the type of custom food (based on what the first ingredient was).</p><h3 id="proc/valid_ingredient"><aside class="declaration">proc </aside>valid_ingredient<aside>(/<a href="obj.html">obj</a>/ingredient)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ingredients_holder.dm#L106"><img src="git.png" width="16" height="16" title="code/datums/components/ingredients_holder.dm 106"></a></aside></h3><p>Proc that checks if an ingredient is valid or not, returning false if it isnt and true if it is.</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/c41b333c9bc46606d2c5d5b517f7836d5953fbfd">c41b333</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>