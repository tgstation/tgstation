<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/component/ctf_player - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/component/ctf_player.html#var">Var Details</a> - <a href="datum/component/ctf_player.html#proc">Proc Details</a></header><main><h1>ctf_player <aside>/<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/<a href="datum/component/ctf_player.html">ctf_player</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/capture_the_flag/ctf_player_component.dm#L2"><img src="git.png" width="16" height="16" title="code/modules/capture_the_flag/ctf_player_component.dm 2"></a></h1><p>A component added to the mind of anyone who is playing in an ongoing CTF match. Any player specific CTF functionality should be implemented here. (someone should implement score tracking here)</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/component/ctf_player.html#var/can_respawn">can_respawn</a></th><td>Weather or not the player is currently able to respawn.</td></tr><tr><th><a href="datum/component/ctf_player.html#var/ckey_reference">ckey_reference</a></th><td>Reference to players ckey, used for sending messages to them relating to CTF.</td></tr><tr><th><a href="datum/component/ctf_player.html#var/ctf_game">ctf_game</a></th><td>Reference to the game this player is participating in.</td></tr><tr><th><a href="datum/component/ctf_player.html#var/death_drop">death_drop</a></th><td>Item dropped on death,</td></tr><tr><th><a href="datum/component/ctf_player.html#var/player_mob">player_mob</a></th><td>A reference to the players mob, cleared after they die, restored on respawn.</td></tr><tr><th><a href="datum/component/ctf_player.html#var/team">team</a></th><td>The team that this player is associated with.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/component/ctf_player.html#proc/allow_respawns">allow_respawns</a></th><td>Called after a period of time pulled from ctf_game, allows the player to respawn in CTF.</td></tr><tr><th><a href="datum/component/ctf_player.html#proc/ctf_dust">ctf_dust</a></th><td>Dusts the player and starts a respawn countdown.</td></tr><tr><th><a href="datum/component/ctf_player.html#proc/damage_type_check">damage_type_check</a></th><td>Stamina and oxygen damage will not dust a player by themself.</td></tr><tr><th><a href="datum/component/ctf_player.html#proc/end_game">end_game</a></th><td>Called when the associated CTF game ends or their associated team is deleted, dusts the player and deletes this component to ensure no data from it is carried over to future games.</td></tr><tr><th><a href="datum/component/ctf_player.html#proc/register_mob">register_mob</a></th><td>Called when we get a new player mob, register signals and set up the mob.</td></tr><tr><th><a href="datum/component/ctf_player.html#proc/send_message">send_message</a></th><td>Sends a message to the player.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/can_respawn"><aside class="declaration">var </aside>can_respawn <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/capture_the_flag/ctf_player_component.dm#L8"><img src="git.png" width="16" height="16" title="code/modules/capture_the_flag/ctf_player_component.dm 8"></a></h3><p>Weather or not the player is currently able to respawn.</p><h3 id="var/ckey_reference"><aside class="declaration">var </aside>ckey_reference <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/capture_the_flag/ctf_player_component.dm#L14"><img src="git.png" width="16" height="16" title="code/modules/capture_the_flag/ctf_player_component.dm 14"></a></h3><p>Reference to players ckey, used for sending messages to them relating to CTF.</p><h3 id="var/ctf_game"><aside class="declaration">var </aside>ctf_game <aside>– /<a href="datum.html">datum</a>/<a href="datum/ctf_controller.html">ctf_controller</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/capture_the_flag/ctf_player_component.dm#L10"><img src="git.png" width="16" height="16" title="code/modules/capture_the_flag/ctf_player_component.dm 10"></a></h3><p>Reference to the game this player is participating in.</p><h3 id="var/death_drop"><aside class="declaration">var </aside>death_drop <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/capture_the_flag/ctf_player_component.dm#L12"><img src="git.png" width="16" height="16" title="code/modules/capture_the_flag/ctf_player_component.dm 12"></a></h3><p>Item dropped on death,</p><h3 id="var/player_mob"><aside class="declaration">var </aside>player_mob <aside>– /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/capture_the_flag/ctf_player_component.dm#L6"><img src="git.png" width="16" height="16" title="code/modules/capture_the_flag/ctf_player_component.dm 6"></a></h3><p>A reference to the players mob, cleared after they die, restored on respawn.</p><h3 id="var/team"><aside class="declaration">var </aside>team <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/capture_the_flag/ctf_player_component.dm#L4"><img src="git.png" width="16" height="16" title="code/modules/capture_the_flag/ctf_player_component.dm 4"></a></h3><p>The team that this player is associated with.</p><h2 id="proc">Proc Details</h2><h3 id="proc/allow_respawns"><aside class="declaration">proc </aside>allow_respawns<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/capture_the_flag/ctf_player_component.dm#L61"><img src="git.png" width="16" height="16" title="code/modules/capture_the_flag/ctf_player_component.dm 61"></a></aside></h3><p>Called after a period of time pulled from ctf_game, allows the player to respawn in CTF.</p><h3 id="proc/ctf_dust"><aside class="declaration">proc </aside>ctf_dust<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/capture_the_flag/ctf_player_component.dm#L47"><img src="git.png" width="16" height="16" title="code/modules/capture_the_flag/ctf_player_component.dm 47"></a></aside></h3><p>Dusts the player and starts a respawn countdown.</p><h3 id="proc/damage_type_check"><aside class="declaration">proc </aside>damage_type_check<aside>(/<a href="datum.html">datum</a>/source, damage, damage_type)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/capture_the_flag/ctf_player_component.dm#L41"><img src="git.png" width="16" height="16" title="code/modules/capture_the_flag/ctf_player_component.dm 41"></a></aside></h3><p>Stamina and oxygen damage will not dust a player by themself.</p><h3 id="proc/end_game"><aside class="declaration">proc </aside>end_game<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/capture_the_flag/ctf_player_component.dm#L70"><img src="git.png" width="16" height="16" title="code/modules/capture_the_flag/ctf_player_component.dm 70"></a></aside></h3><p>Called when the associated CTF game ends or their associated team is deleted, dusts the player and deletes this component to ensure no data from it is carried over to future games.</p><h3 id="proc/register_mob"><aside class="declaration">proc </aside>register_mob<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/capture_the_flag/ctf_player_component.dm#L35"><img src="git.png" width="16" height="16" title="code/modules/capture_the_flag/ctf_player_component.dm 35"></a></aside></h3><p>Called when we get a new player mob, register signals and set up the mob.</p><h3 id="proc/send_message"><aside class="declaration">proc </aside>send_message<aside>(message)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/capture_the_flag/ctf_player_component.dm#L66"><img src="git.png" width="16" height="16" title="code/modules/capture_the_flag/ctf_player_component.dm 66"></a></aside></h3><p>Sends a message to the player.</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/c41b333c9bc46606d2c5d5b517f7836d5953fbfd">c41b333</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>