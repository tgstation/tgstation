<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/component/plumbing - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/component/plumbing.html#var">Var Details</a> - <a href="datum/component/plumbing.html#proc">Proc Details</a></header><main><h1>plumbing <aside>/<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/<a href="datum/component/plumbing.html">plumbing</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/plumbing/_plumbing.dm#L1"><img src="git.png" width="16" height="16" title="code/datums/components/plumbing/_plumbing.dm 1"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/component/plumbing.html#var/demand_color">demand_color</a></th><td>What color is our demand connect?</td></tr><tr><th><a href="datum/component/plumbing.html#var/demand_connects">demand_connects</a></th><td>direction in wich we act as a demander</td></tr><tr><th><a href="datum/component/plumbing.html#var/distinct_reagent_cap">distinct_reagent_cap</a></th><td>How many distinct reagents can we accept at once
Ex - if this was set to &quot;3&quot;, our component would only request the first 3 reagents found, even if more are available</td></tr><tr><th><a href="datum/component/plumbing.html#var/ducting_layer">ducting_layer</a></th><td>The layer on which we connect. Don't add multiple. If you want multiple layer connects for some reason you can just add multiple components with different layers</td></tr><tr><th><a href="datum/component/plumbing.html#var/ducts">ducts</a></th><td>Index with &quot;1&quot; = /datum/ductnet/theductpointingnorth etc. &quot;1&quot; being the num2text from NORTH define</td></tr><tr><th><a href="datum/component/plumbing.html#var/reagents">reagents</a></th><td>shortcut to our parents' reagent holder. The holder that sends reagents into the pipeline</td></tr><tr><th><a href="datum/component/plumbing.html#var/supply_color">supply_color</a></th><td>What color is our supply connect?</td></tr><tr><th><a href="datum/component/plumbing.html#var/supply_connects">supply_connects</a></th><td>directions in wich we act as a supplier</td></tr><tr><th><a href="datum/component/plumbing.html#var/tile_covered">tile_covered</a></th><td>Whether our tile is covered and we should hide our ducts</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/component/plumbing.html#proc/active">active</a></th><td>Returns if the machine is active or not</td></tr><tr><th><a href="datum/component/plumbing.html#proc/can_give">can_give</a></th><td>returns TRUE when they can give the specified amount and reagent. called by process request</td></tr><tr><th><a href="datum/component/plumbing.html#proc/enable">enable</a></th><td>settle wherever we are, and start behaving like a piece of plumbing</td></tr><tr><th><a href="datum/component/plumbing.html#proc/get_all_network_reagents">get_all_network_reagents</a></th><td>Returns a list of all distinct reagent types available in the passed duct network.
The passed net can be null, it is handled.</td></tr><tr><th><a href="datum/component/plumbing.html#proc/process_request">process_request</a></th><td>check who can give us what we want, and how many each of them will give us</td></tr><tr><th><a href="datum/component/plumbing.html#proc/recipient_reagents_holder">recipient_reagents_holder</a></th><td>Returns the reagent holder meant to receive the reagents. Can be different from the one that sends reagents to the network</td></tr><tr><th><a href="datum/component/plumbing.html#proc/send_request">send_request</a></th><td>called from in process(). only calls process_request(), but can be overwritten for children with special behaviour</td></tr><tr><th><a href="datum/component/plumbing.html#proc/transfer_to">transfer_to</a></th><td>this is where the reagent is actually transferred and is thus the finish point of our process()</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/demand_color"><aside class="declaration">var </aside>demand_color <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/plumbing/_plumbing.dm#L16"><img src="git.png" width="16" height="16" title="code/datums/components/plumbing/_plumbing.dm 16"></a></h3><p>What color is our demand connect?</p><h3 id="var/demand_connects"><aside class="declaration">var </aside>demand_connects <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/plumbing/_plumbing.dm#L12"><img src="git.png" width="16" height="16" title="code/datums/components/plumbing/_plumbing.dm 12"></a></h3><p>direction in wich we act as a demander</p><h3 id="var/distinct_reagent_cap"><aside class="declaration">var </aside>distinct_reagent_cap <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/plumbing/_plumbing.dm#L21"><img src="git.png" width="16" height="16" title="code/datums/components/plumbing/_plumbing.dm 21"></a></h3><p>How many distinct reagents can we accept at once
Ex - if this was set to &quot;3&quot;, our component would only request the first 3 reagents found, even if more are available</p><h3 id="var/ducting_layer"><aside class="declaration">var </aside>ducting_layer <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/plumbing/_plumbing.dm#L14"><img src="git.png" width="16" height="16" title="code/datums/components/plumbing/_plumbing.dm 14"></a></h3><p>The layer on which we connect. Don't add multiple. If you want multiple layer connects for some reason you can just add multiple components with different layers</p><h3 id="var/ducts"><aside class="declaration">var </aside>ducts <aside>– /list/<a href="datum.html">datum</a>/<a href="datum/ductnet.html">ductnet</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/plumbing/_plumbing.dm#L4"><img src="git.png" width="16" height="16" title="code/datums/components/plumbing/_plumbing.dm 4"></a></h3><p>Index with &quot;1&quot; = /datum/ductnet/theductpointingnorth etc. &quot;1&quot; being the num2text from NORTH define</p><h3 id="var/reagents"><aside class="declaration">var </aside>reagents <aside>– /<a href="datum.html">datum</a>/<a href="datum/reagents.html">reagents</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/plumbing/_plumbing.dm#L6"><img src="git.png" width="16" height="16" title="code/datums/components/plumbing/_plumbing.dm 6"></a></h3><p>shortcut to our parents' reagent holder. The holder that sends reagents into the pipeline</p><h3 id="var/supply_color"><aside class="declaration">var </aside>supply_color <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/plumbing/_plumbing.dm#L18"><img src="git.png" width="16" height="16" title="code/datums/components/plumbing/_plumbing.dm 18"></a></h3><p>What color is our supply connect?</p><h3 id="var/supply_connects"><aside class="declaration">var </aside>supply_connects <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/plumbing/_plumbing.dm#L10"><img src="git.png" width="16" height="16" title="code/datums/components/plumbing/_plumbing.dm 10"></a></h3><p>directions in wich we act as a supplier</p><h3 id="var/tile_covered"><aside class="declaration">var </aside>tile_covered <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/plumbing/_plumbing.dm#L8"><img src="git.png" width="16" height="16" title="code/datums/components/plumbing/_plumbing.dm 8"></a></h3><p>Whether our tile is covered and we should hide our ducts</p><h2 id="proc">Proc Details</h2><h3 id="proc/active"><aside class="declaration">proc </aside>active<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/plumbing/_plumbing.dm#L80"><img src="git.png" width="16" height="16" title="code/datums/components/plumbing/_plumbing.dm 80"></a></aside></h3><p>Returns if the machine is active or not</p><h3 id="proc/can_give"><aside class="declaration">proc </aside>can_give<aside>(amount, reagent, /<a href="datum.html">datum</a>/<a href="datum/ductnet.html">ductnet</a>/net)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/plumbing/_plumbing.dm#L318"><img src="git.png" width="16" height="16" title="code/datums/components/plumbing/_plumbing.dm 318"></a></aside></h3><p>returns TRUE when they can give the specified amount and reagent. called by process request</p><h3 id="proc/enable"><aside class="declaration">proc </aside>enable<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/plumbing/_plumbing.dm#L89"><img src="git.png" width="16" height="16" title="code/datums/components/plumbing/_plumbing.dm 89"></a></aside></h3><p>settle wherever we are, and start behaving like a piece of plumbing</p><h3 id="proc/get_all_network_reagents"><aside class="declaration">proc </aside>get_all_network_reagents<aside>(/<a href="datum.html">datum</a>/<a href="datum/ductnet.html">ductnet</a>/net)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/plumbing/_plumbing.dm#L280"><img src="git.png" width="16" height="16" title="code/datums/components/plumbing/_plumbing.dm 280"></a></aside></h3><p>Returns a list of all distinct reagent types available in the passed duct network.
The passed net can be null, it is handled.</p><h3 id="proc/process_request"><aside class="declaration">proc </aside>process_request<aside>(amount, reagent, dir, round_robin)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/plumbing/_plumbing.dm#L290"><img src="git.png" width="16" height="16" title="code/datums/components/plumbing/_plumbing.dm 290"></a></aside></h3><p>check who can give us what we want, and how many each of them will give us</p><h3 id="proc/recipient_reagents_holder"><aside class="declaration">proc </aside>recipient_reagents_holder<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/plumbing/_plumbing.dm#L85"><img src="git.png" width="16" height="16" title="code/datums/components/plumbing/_plumbing.dm 85"></a></aside></h3><p>Returns the reagent holder meant to receive the reagents. Can be different from the one that sends reagents to the network</p><h3 id="proc/send_request"><aside class="declaration">proc </aside>send_request<aside>(dir)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/plumbing/_plumbing.dm#L259"><img src="git.png" width="16" height="16" title="code/datums/components/plumbing/_plumbing.dm 259"></a></aside></h3><p>called from in process(). only calls process_request(), but can be overwritten for children with special behaviour</p><h3 id="proc/transfer_to"><aside class="declaration">proc </aside>transfer_to<aside>(/<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/<a href="datum/component/plumbing.html">plumbing</a>/target, amount, reagent, /<a href="datum.html">datum</a>/<a href="datum/ductnet.html">ductnet</a>/net, round_robin)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/plumbing/_plumbing.dm#L332"><img src="git.png" width="16" height="16" title="code/datums/components/plumbing/_plumbing.dm 332"></a></aside></h3><p>this is where the reagent is actually transferred and is thus the finish point of our process()</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>