<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/component/life_link - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/component/life_link.html#var">Var Details</a> - <a href="datum/component/life_link.html#proc">Proc Details</a></header><main><h1>life_link <aside>/<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/<a href="datum/component/life_link.html">life_link</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/life_link.dm#L5"><img src="git.png" width="16" height="16" title="code/datums/components/life_link.dm 5"></a></h1><p>A mob with this component passes all damage (and healing) it takes to another mob, passed as a parameter
Essentially we use another mob's health bar as our health bar</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/component/life_link.html#var/host">host</a></th><td>Mob we pass all of our damage to</td></tr><tr><th><a href="datum/component/life_link.html#var/on_linked_death">on_linked_death</a></th><td>Optional callback invoked when the linked mob dies</td></tr><tr><th><a href="datum/component/life_link.html#var/on_passed_damage">on_passed_damage</a></th><td>Optional callback invoked when damage gets transferred</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/component/life_link.html#proc/on_damage_adjusted">on_damage_adjusted</a></th><td>Called when your damage goes up or down</td></tr><tr><th><a href="datum/component/life_link.html#proc/on_health_updated">on_health_updated</a></th><td>Called when either the host or parent's health tries to update, update our displayed health</td></tr><tr><th><a href="datum/component/life_link.html#proc/on_host_deleted">on_host_deleted</a></th><td>Called when</td></tr><tr><th><a href="datum/component/life_link.html#proc/on_host_died">on_host_died</a></th><td>Called when our host dies, we should die too</td></tr><tr><th><a href="datum/component/life_link.html#proc/on_host_revived">on_host_revived</a></th><td>Called when our host undies, we should undie too</td></tr><tr><th><a href="datum/component/life_link.html#proc/on_limb_damage">on_limb_damage</a></th><td>Called when someone hurts one of our limbs, bypassing normal damage adjustment</td></tr><tr><th><a href="datum/component/life_link.html#proc/on_status_tab_updated">on_status_tab_updated</a></th><td>When our status tab updates, draw how much HP our host has in there</td></tr><tr><th><a href="datum/component/life_link.html#proc/register_host">register_host</a></th><td>Set someone up as our new host</td></tr><tr><th><a href="datum/component/life_link.html#proc/unregister_host">unregister_host</a></th><td>Drop someone from being our host</td></tr><tr><th><a href="datum/component/life_link.html#proc/update_health_hud">update_health_hud</a></th><td>Update our parent's health display based on how harmed our host is</td></tr><tr><th><a href="datum/component/life_link.html#proc/update_med_hud_health">update_med_hud_health</a></th><td>Update our health on the medical hud</td></tr><tr><th><a href="datum/component/life_link.html#proc/update_med_hud_status">update_med_hud_status</a></th><td>Update our vital status on the medical hud</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/host"><aside class="declaration">var </aside>host <aside>– /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/life_link.dm#L8"><img src="git.png" width="16" height="16" title="code/datums/components/life_link.dm 8"></a></h3><p>Mob we pass all of our damage to</p><h3 id="var/on_linked_death"><aside class="declaration">var </aside>on_linked_death <aside>– /<a href="datum.html">datum</a>/<a href="datum/callback.html">callback</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/life_link.dm#L12"><img src="git.png" width="16" height="16" title="code/datums/components/life_link.dm 12"></a></h3><p>Optional callback invoked when the linked mob dies</p><h3 id="var/on_passed_damage"><aside class="declaration">var </aside>on_passed_damage <aside>– /<a href="datum.html">datum</a>/<a href="datum/callback.html">callback</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/life_link.dm#L10"><img src="git.png" width="16" height="16" title="code/datums/components/life_link.dm 10"></a></h3><p>Optional callback invoked when damage gets transferred</p><h2 id="proc">Proc Details</h2><h3 id="proc/on_damage_adjusted"><aside class="declaration">proc </aside>on_damage_adjusted<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/our_mob, type, amount, forced)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/life_link.dm#L61"><img src="git.png" width="16" height="16" title="code/datums/components/life_link.dm 61"></a></aside></h3><p>Called when your damage goes up or down</p><h3 id="proc/on_health_updated"><aside class="declaration">proc </aside>on_health_updated<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/life_link.dm#L92"><img src="git.png" width="16" height="16" title="code/datums/components/life_link.dm 92"></a></aside></h3><p>Called when either the host or parent's health tries to update, update our displayed health</p><h3 id="proc/on_host_deleted"><aside class="declaration">proc </aside>on_host_deleted<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/life_link.dm#L155"><img src="git.png" width="16" height="16" title="code/datums/components/life_link.dm 155"></a></aside></h3><p>Called when</p><h3 id="proc/on_host_died"><aside class="declaration">proc </aside>on_host_died<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/source, gibbed)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/life_link.dm#L142"><img src="git.png" width="16" height="16" title="code/datums/components/life_link.dm 142"></a></aside></h3><p>Called when our host dies, we should die too</p><h3 id="proc/on_host_revived"><aside class="declaration">proc </aside>on_host_revived<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/source, full_heal_flags)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/life_link.dm#L149"><img src="git.png" width="16" height="16" title="code/datums/components/life_link.dm 149"></a></aside></h3><p>Called when our host undies, we should undie too</p><h3 id="proc/on_limb_damage"><aside class="declaration">proc </aside>on_limb_damage<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/our_mob, limb, brute, burn)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/life_link.dm#L80"><img src="git.png" width="16" height="16" title="code/datums/components/life_link.dm 80"></a></aside></h3><p>Called when someone hurts one of our limbs, bypassing normal damage adjustment</p><h3 id="proc/on_status_tab_updated"><aside class="declaration">proc </aside>on_status_tab_updated<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/source, /list/items)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/life_link.dm#L136"><img src="git.png" width="16" height="16" title="code/datums/components/life_link.dm 136"></a></aside></h3><p>When our status tab updates, draw how much HP our host has in there</p><h3 id="proc/register_host"><aside class="declaration">proc </aside>register_host<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/new_host)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/life_link.dm#L41"><img src="git.png" width="16" height="16" title="code/datums/components/life_link.dm 41"></a></aside></h3><p>Set someone up as our new host</p><h3 id="proc/unregister_host"><aside class="declaration">proc </aside>unregister_host<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/life_link.dm#L54"><img src="git.png" width="16" height="16" title="code/datums/components/life_link.dm 54"></a></aside></h3><p>Drop someone from being our host</p><h3 id="proc/update_health_hud"><aside class="declaration">proc </aside>update_health_hud<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/mob_parent)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/life_link.dm#L99"><img src="git.png" width="16" height="16" title="code/datums/components/life_link.dm 99"></a></aside></h3><p>Update our parent's health display based on how harmed our host is</p><h3 id="proc/update_med_hud_health"><aside class="declaration">proc </aside>update_med_hud_health<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/mob_parent)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/life_link.dm#L125"><img src="git.png" width="16" height="16" title="code/datums/components/life_link.dm 125"></a></aside></h3><p>Update our health on the medical hud</p><h3 id="proc/update_med_hud_status"><aside class="declaration">proc </aside>update_med_hud_status<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/mob_parent)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/life_link.dm#L129"><img src="git.png" width="16" height="16" title="code/datums/components/life_link.dm 129"></a></aside></h3><p>Update our vital status on the medical hud</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/c41b333c9bc46606d2c5d5b517f7836d5953fbfd">c41b333</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>