<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/component/singularity - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/component/singularity.html#var">Var Details</a> - <a href="datum/component/singularity.html#proc">Proc Details</a></header><main><h1>singularity <aside>/<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/<a href="datum/component/singularity.html">singularity</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/singularity.dm#L14"><img src="git.png" width="16" height="16" title="code/datums/components/singularity.dm 14"></a></h1><p>Things that maybe move around and does stuff to things around them
Used for the singularity (duh) and Nar'Sie</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/component/singularity.html#var/bsa_targetable">bsa_targetable</a></th><td>Can this singularity be BSA'd?</td></tr><tr><th><a href="datum/component/singularity.html#var/chance_to_move_to_target">chance_to_move_to_target</a></th><td>What's the chance that, when a singularity moves, it'll go to its target?</td></tr><tr><th><a href="datum/component/singularity.html#var/consume_callback">consume_callback</a></th><td>Callback for consuming objects (for example, Nar'Sie replaces this to call narsie_act)</td></tr><tr><th><a href="datum/component/singularity.html#var/consume_range">consume_range</a></th><td>The range to pull in stuff around it</td></tr><tr><th><a href="datum/component/singularity.html#var/disregard_failed_movements">disregard_failed_movements</a></th><td>Should we disregard the possibility of failed movements? Used by stage five singularities</td></tr><tr><th><a href="datum/component/singularity.html#var/drifting_dir">drifting_dir</a></th><td>The chosen direction to drift in</td></tr><tr><th><a href="datum/component/singularity.html#var/grav_pull">grav_pull</a></th><td>How many tiles out to pull in</td></tr><tr><th><a href="datum/component/singularity.html#var/last_failed_movement">last_failed_movement</a></th><td>The last direction we failed to move in (for example: if we are contained)</td></tr><tr><th><a href="datum/component/singularity.html#var/notify_admins">notify_admins</a></th><td>Should the admins be alerted when this is created?</td></tr><tr><th><a href="datum/component/singularity.html#var/roaming">roaming</a></th><td>Does this singularity move?</td></tr><tr><th><a href="datum/component/singularity.html#var/singularity_size">singularity_size</a></th><td>How big is the singularity?</td></tr><tr><th><a href="datum/component/singularity.html#var/target">target</a></th><td>If specified, the singularity will slowly move to this target</td></tr><tr><th><a href="datum/component/singularity.html#var/time_since_last_eat">time_since_last_eat</a></th><td>The time that has elapsed since our last move/eat call</td></tr><tr><th><a href="datum/component/singularity.html#var/turfs_to_consume">turfs_to_consume</a></th><td>List of turfs we have yet to consume, but need to</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/component/singularity.html#proc/admin_investigate_setup">admin_investigate_setup</a></th><td>Logs to admins that a singularity was created</td></tr><tr><th><a href="datum/component/singularity.html#proc/bluespace_reaction">bluespace_reaction</a></th><td>Fired when the singularity is fired at with the BSA and deletes it</td></tr><tr><th><a href="datum/component/singularity.html#proc/check_turfs_in">check_turfs_in</a></th><td>Makes sure we don't move out of the z-level by checking the turfs around us.
Takes in the direction we're going, and optionally how many steps forward to look.
If steps are not provided, it will be inferred by singularity_size.</td></tr><tr><th><a href="datum/component/singularity.html#proc/default_singularity_act">default_singularity_act</a></th><td>Calls singularity_act on the thing passed, usually destroying the object</td></tr><tr><th><a href="datum/component/singularity.html#proc/on_entered">on_entered</a></th><td>Triggered when something enters the component's parent.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/bsa_targetable"><aside class="declaration">var </aside>bsa_targetable <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/singularity.dm#L40"><img src="git.png" width="16" height="16" title="code/datums/components/singularity.dm 40"></a></h3><p>Can this singularity be BSA'd?</p><h3 id="var/chance_to_move_to_target"><aside class="declaration">var </aside>chance_to_move_to_target <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/singularity.dm#L55"><img src="git.png" width="16" height="16" title="code/datums/components/singularity.dm 55"></a></h3><p>What's the chance that, when a singularity moves, it'll go to its target?</p><h3 id="var/consume_callback"><aside class="declaration">var </aside>consume_callback <aside>– /<a href="datum.html">datum</a>/<a href="datum/callback.html">callback</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/singularity.dm#L16"><img src="git.png" width="16" height="16" title="code/datums/components/singularity.dm 16"></a></h3><p>Callback for consuming objects (for example, Nar'Sie replaces this to call narsie_act)</p><h3 id="var/consume_range"><aside class="declaration">var </aside>consume_range <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/singularity.dm#L19"><img src="git.png" width="16" height="16" title="code/datums/components/singularity.dm 19"></a></h3><p>The range to pull in stuff around it</p><h3 id="var/disregard_failed_movements"><aside class="declaration">var </aside>disregard_failed_movements <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/singularity.dm#L37"><img src="git.png" width="16" height="16" title="code/datums/components/singularity.dm 37"></a></h3><p>Should we disregard the possibility of failed movements? Used by stage five singularities</p><h3 id="var/drifting_dir"><aside class="declaration">var </aside>drifting_dir <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/singularity.dm#L25"><img src="git.png" width="16" height="16" title="code/datums/components/singularity.dm 25"></a></h3><p>The chosen direction to drift in</p><h3 id="var/grav_pull"><aside class="declaration">var </aside>grav_pull <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/singularity.dm#L28"><img src="git.png" width="16" height="16" title="code/datums/components/singularity.dm 28"></a></h3><p>How many tiles out to pull in</p><h3 id="var/last_failed_movement"><aside class="declaration">var </aside>last_failed_movement <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/singularity.dm#L31"><img src="git.png" width="16" height="16" title="code/datums/components/singularity.dm 31"></a></h3><p>The last direction we failed to move in (for example: if we are contained)</p><h3 id="var/notify_admins"><aside class="declaration">var </aside>notify_admins <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/singularity.dm#L43"><img src="git.png" width="16" height="16" title="code/datums/components/singularity.dm 43"></a></h3><p>Should the admins be alerted when this is created?</p><h3 id="var/roaming"><aside class="declaration">var </aside>roaming <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/singularity.dm#L22"><img src="git.png" width="16" height="16" title="code/datums/components/singularity.dm 22"></a></h3><p>Does this singularity move?</p><h3 id="var/singularity_size"><aside class="declaration">var </aside>singularity_size <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/singularity.dm#L34"><img src="git.png" width="16" height="16" title="code/datums/components/singularity.dm 34"></a></h3><p>How big is the singularity?</p><h3 id="var/target"><aside class="declaration">var </aside>target <aside>– /<a href="atom.html">atom</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/singularity.dm#L46"><img src="git.png" width="16" height="16" title="code/datums/components/singularity.dm 46"></a></h3><p>If specified, the singularity will slowly move to this target</p><h3 id="var/time_since_last_eat"><aside class="declaration">var </aside>time_since_last_eat <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/singularity.dm#L52"><img src="git.png" width="16" height="16" title="code/datums/components/singularity.dm 52"></a></h3><p>The time that has elapsed since our last move/eat call</p><h3 id="var/turfs_to_consume"><aside class="declaration">var </aside>turfs_to_consume <aside>– /list/<a href="turf.html">turf</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/singularity.dm#L49"><img src="git.png" width="16" height="16" title="code/datums/components/singularity.dm 49"></a></h3><p>List of turfs we have yet to consume, but need to</p><h2 id="proc">Proc Details</h2><h3 id="proc/admin_investigate_setup"><aside class="declaration">proc </aside>admin_investigate_setup<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/singularity.dm#L331"><img src="git.png" width="16" height="16" title="code/datums/components/singularity.dm 331"></a></aside></h3><p>Logs to admins that a singularity was created</p><h3 id="proc/bluespace_reaction"><aside class="declaration">proc </aside>bluespace_reaction<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/singularity.dm#L338"><img src="git.png" width="16" height="16" title="code/datums/components/singularity.dm 338"></a></aside></h3><p>Fired when the singularity is fired at with the BSA and deletes it</p><h3 id="proc/check_turfs_in"><aside class="declaration">proc </aside>check_turfs_in<aside>(direction, steps)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/singularity.dm#L280"><img src="git.png" width="16" height="16" title="code/datums/components/singularity.dm 280"></a></aside></h3><p>Makes sure we don't move out of the z-level by checking the turfs around us.
Takes in the direction we're going, and optionally how many steps forward to look.
If steps are not provided, it will be inferred by singularity_size.</p><h3 id="proc/default_singularity_act"><aside class="declaration">proc </aside>default_singularity_act<aside>(/<a href="atom.html">atom</a>/thing)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/singularity.dm#L186"><img src="git.png" width="16" height="16" title="code/datums/components/singularity.dm 186"></a></aside></h3><p>Calls singularity_act on the thing passed, usually destroying the object</p><h3 id="proc/on_entered"><aside class="declaration">proc </aside>on_entered<aside>(/<a href="datum.html">datum</a>/source, /<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/arrived, /<a href="atom.html">atom</a>/old_loc, /list/<a href="atom.html">atom</a>/old_locs)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/singularity.dm#L155"><img src="git.png" width="16" height="16" title="code/datums/components/singularity.dm 155"></a></aside></h3><p>Triggered when something enters the component's parent.</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>