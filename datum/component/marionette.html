<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/component/marionette - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/component/marionette.html#var">Var Details</a> - <a href="datum/component/marionette.html#proc">Proc Details</a></header><main><h1>marionette <aside>/<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/<a href="datum/component/marionette.html">marionette</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/marionette.dm#L7"><img src="git.png" width="16" height="16" title="code/datums/components/marionette.dm 7"></a></h1><p>Marionette component</p>
<p>Upon being grabbed, we will align the direction of the parent with the direction of the grabber when they rotate.
While grabbed, will also speak out whatever the original person says</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/component/marionette.html#var/grabber">grabber</a></th><td>Reference to the mob that is grabbing us, which we hook signals to for marionette stuff.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/component/marionette.html#proc/on_pull">on_pull</a></th><td>Called when something starts pulling us, we now listen in to that thing for rotation.</td></tr><tr><th><a href="datum/component/marionette.html#proc/on_puller_qdel">on_puller_qdel</a></th><td>Called when our puller is somehow deleted, we simply clear the reference to them.</td></tr><tr><th><a href="datum/component/marionette.html#proc/on_puller_speech">on_puller_speech</a></th><td>Called when the person grabbing us speaks, we lower their volume to 1 tile and speak what they said through us.</td></tr><tr><th><a href="datum/component/marionette.html#proc/on_puller_turn">on_puller_turn</a></th><td>Callled when the person grabbin us turns, we rotate to match their direction.</td></tr><tr><th><a href="datum/component/marionette.html#proc/on_stop_pull">on_stop_pull</a></th><td>Stopped pulling, we clear out signals and references.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/grabber"><aside class="declaration">var </aside>grabber <aside>– /<a href="mob.html">mob</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/marionette.dm#L9"><img src="git.png" width="16" height="16" title="code/datums/components/marionette.dm 9"></a></h3><p>Reference to the mob that is grabbing us, which we hook signals to for marionette stuff.</p><h2 id="proc">Proc Details</h2><h3 id="proc/on_pull"><aside class="declaration">proc </aside>on_pull<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/source, /<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/puller, force)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/marionette.dm#L29"><img src="git.png" width="16" height="16" title="code/datums/components/marionette.dm 29"></a></aside></h3><p>Called when something starts pulling us, we now listen in to that thing for rotation.</p><h3 id="proc/on_puller_qdel"><aside class="declaration">proc </aside>on_puller_qdel<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/marionette.dm#L77"><img src="git.png" width="16" height="16" title="code/datums/components/marionette.dm 77"></a></aside></h3><p>Called when our puller is somehow deleted, we simply clear the reference to them.</p><h3 id="proc/on_puller_speech"><aside class="declaration">proc </aside>on_puller_speech<aside>(/<a href="datum.html">datum</a>/source, /list/speech_args)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/marionette.dm#L55"><img src="git.png" width="16" height="16" title="code/datums/components/marionette.dm 55"></a></aside></h3><p>Called when the person grabbing us speaks, we lower their volume to 1 tile and speak what they said through us.</p><h3 id="proc/on_puller_turn"><aside class="declaration">proc </aside>on_puller_turn<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/source, direction)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/marionette.dm#L49"><img src="git.png" width="16" height="16" title="code/datums/components/marionette.dm 49"></a></aside></h3><p>Callled when the person grabbin us turns, we rotate to match their direction.</p><h3 id="proc/on_stop_pull"><aside class="declaration">proc </aside>on_stop_pull<aside>(/<a href="datum.html">datum</a>/source, /<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/was_pulling)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/components/marionette.dm#L42"><img src="git.png" width="16" height="16" title="code/datums/components/marionette.dm 42"></a></aside></h3><p>Stopped pulling, we clear out signals and references.</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>