<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/component/slippery - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/component/slippery.html#var">Var Details</a> - <a href="datum/component/slippery.html#proc">Proc Details</a></header><main><h1>Slip behaviour component <aside>/<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/<a href="datum/component/slippery.html">slippery</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/slippery.dm#L18"><img src="git.png" width="16" height="16" title="code/datums/components/slippery.dm 18"></a></h1><p>Add this component to an object to make it a slippery object, slippery objects make mobs that cross them fall over.
Items with this component that get picked up may give their parent mob the slip behaviour.</p>
<p>Here is a simple example of adding the component behaviour to an object.area</p>
<pre><code>AddComponent(/datum/component/slippery, 80, (NO_SLIP_WHEN_WALKING | SLIDE))
</code></pre>
<p>This adds slippery behaviour to the parent atom, with a 80 decisecond (~8 seconds) knockdown
The lube flags control how the slip behaves, in this case, the mob wont slip if it's in walking mode (NO_SLIP_WHEN_WALKING)
and if they do slip, they will slide a few tiles (SLIDE)</p>
<p>This component has configurable behaviours, see the <a href="datum/component/slippery.html#proc/Initialize" title="/datum/component/slippery">Initialize proc for the argument listing</a>.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/component/slippery.html#var/can_slip_callback">can_slip_callback</a></th><td>Optional callback allowing you to define custom conditions for slipping</td></tr><tr><th><a href="datum/component/slippery.html#var/daze_time">daze_time</a></th><td>How long the slip dazes (makes the crossing mob vulnerable to shove stuns) for.</td></tr><tr><th><a href="datum/component/slippery.html#var/default_connections">default_connections</a></th><td>what we give to connect_loc by default, makes slippable mobs moving over us slip</td></tr><tr><th><a href="datum/component/slippery.html#var/force_drop_items">force_drop_items</a></th><td>If the slip forces the crossing mob to drop held items.</td></tr><tr><th><a href="datum/component/slippery.html#var/holder">holder</a></th><td>If parent is an item, this is the person currently holding/wearing the parent (or the parent if no one is holding it)</td></tr><tr><th><a href="datum/component/slippery.html#var/knockdown_time">knockdown_time</a></th><td>How long the slip keeps the crossing mob knocked over (they can still crawl and use weapons) for.</td></tr><tr><th><a href="datum/component/slippery.html#var/lube_flags">lube_flags</a></th><td>Flags for how slippery the parent is. See [__DEFINES/mobs.dm]</td></tr><tr><th><a href="datum/component/slippery.html#var/mob_connections">mob_connections</a></th><td>what we give to connect_loc if we're an item and get equipped by a mob, or if we're a mob. makes slippable mobs moving over the mob slip</td></tr><tr><th><a href="datum/component/slippery.html#var/on_slip_callback">on_slip_callback</a></th><td>Optional call back that is called when a mob slips on this component</td></tr><tr><th><a href="datum/component/slippery.html#var/paralyze_time">paralyze_time</a></th><td>How long the slip paralyzes (prevents the crossing mob doing anything) for.</td></tr><tr><th><a href="datum/component/slippery.html#var/slot_whitelist">slot_whitelist</a></th><td>Whitelist bitfields of item slots bitflags the parent can be equipped in that make the holder slippery. If null or empty, it will always make the holder slippery.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/component/slippery.html#proc/Initialize">Initialize</a></th><td>Initialize the slippery component behaviour</td></tr><tr><th><a href="datum/component/slippery.html#proc/Slip">Slip</a></th><td>The proc that does the sliping. Invokes the slip callback we have set.</td></tr><tr><th><a href="datum/component/slippery.html#proc/holder_deleted">holder_deleted</a></th><td>Detects if the holder mob is deleted.
If our holder mob is the holder set in this component, we null it.</td></tr><tr><th><a href="datum/component/slippery.html#proc/on_drop">on_drop</a></th><td>Gets called when COMSIG_ITEM_DROPPED is sent to parent.
Makes our holder mob un-slippery.</td></tr><tr><th><a href="datum/component/slippery.html#proc/on_equip">on_equip</a></th><td>Gets called when COMSIG_ITEM_EQUIPPED is sent to parent.
This proc register slip signals to the equipper.
If we have a slot whitelist, we only register the signals if the slot is valid (ex: clown PDA only slips in ID or belt slot).</td></tr><tr><th><a href="datum/component/slippery.html#proc/slip_on_mob">slip_on_mob</a></th><td>The slip proc, but for equipped items.
Slips the person who crossed us if we're lying down and unbuckled.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/can_slip_callback"><aside class="declaration">var </aside>can_slip_callback <aside>– /<a href="datum.html">datum</a>/<a href="datum/callback.html">callback</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/slippery.dm#L31"><img src="git.png" width="16" height="16" title="code/datums/components/slippery.dm 31"></a></h3><p>Optional callback allowing you to define custom conditions for slipping</p><h3 id="var/daze_time"><aside class="declaration">var </aside>daze_time <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/slippery.dm#L27"><img src="git.png" width="16" height="16" title="code/datums/components/slippery.dm 27"></a></h3><p>How long the slip dazes (makes the crossing mob vulnerable to shove stuns) for.</p><h3 id="var/default_connections"><aside class="declaration">var </aside>default_connections <aside>– /static/list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/slippery.dm#L39"><img src="git.png" width="16" height="16" title="code/datums/components/slippery.dm 39"></a></h3><p>what we give to connect_loc by default, makes slippable mobs moving over us slip</p><h3 id="var/force_drop_items"><aside class="declaration">var </aside>force_drop_items <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/slippery.dm#L21"><img src="git.png" width="16" height="16" title="code/datums/components/slippery.dm 21"></a></h3><p>If the slip forces the crossing mob to drop held items.</p><h3 id="var/holder"><aside class="declaration">var </aside>holder <aside>– /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/slippery.dm#L35"><img src="git.png" width="16" height="16" title="code/datums/components/slippery.dm 35"></a></h3><p>If parent is an item, this is the person currently holding/wearing the parent (or the parent if no one is holding it)</p><h3 id="var/knockdown_time"><aside class="declaration">var </aside>knockdown_time <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/slippery.dm#L23"><img src="git.png" width="16" height="16" title="code/datums/components/slippery.dm 23"></a></h3><p>How long the slip keeps the crossing mob knocked over (they can still crawl and use weapons) for.</p><h3 id="var/lube_flags"><aside class="declaration">var </aside>lube_flags <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/slippery.dm#L29"><img src="git.png" width="16" height="16" title="code/datums/components/slippery.dm 29"></a></h3><p>Flags for how slippery the parent is. See [__DEFINES/mobs.dm]</p><h3 id="var/mob_connections"><aside class="declaration">var </aside>mob_connections <aside>– /static/list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/slippery.dm#L44"><img src="git.png" width="16" height="16" title="code/datums/components/slippery.dm 44"></a></h3><p>what we give to connect_loc if we're an item and get equipped by a mob, or if we're a mob. makes slippable mobs moving over the mob slip</p><h3 id="var/on_slip_callback"><aside class="declaration">var </aside>on_slip_callback <aside>– /<a href="datum.html">datum</a>/<a href="datum/callback.html">callback</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/slippery.dm#L33"><img src="git.png" width="16" height="16" title="code/datums/components/slippery.dm 33"></a></h3><p>Optional call back that is called when a mob slips on this component</p><h3 id="var/paralyze_time"><aside class="declaration">var </aside>paralyze_time <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/slippery.dm#L25"><img src="git.png" width="16" height="16" title="code/datums/components/slippery.dm 25"></a></h3><p>How long the slip paralyzes (prevents the crossing mob doing anything) for.</p><h3 id="var/slot_whitelist"><aside class="declaration">var </aside>slot_whitelist <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/slippery.dm#L37"><img src="git.png" width="16" height="16" title="code/datums/components/slippery.dm 37"></a></h3><p>Whitelist bitfields of item slots bitflags the parent can be equipped in that make the holder slippery. If null or empty, it will always make the holder slippery.</p><h2 id="proc">Proc Details</h2><h3 id="proc/Initialize"><aside class="parent"><a title="/datum/component" href="datum/component.html#proc/Initialize">↑</a></aside>Initialize<aside>(knockdown, lube_flags, /<a href="datum.html">datum</a>/<a href="datum/callback.html">callback</a>/on_slip_callback, paralyze, daze, force_drop, slot_whitelist, /<a href="datum.html">datum</a>/<a href="datum/callback.html">callback</a>/can_slip_callback)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/slippery.dm#L63"><img src="git.png" width="16" height="16" title="code/datums/components/slippery.dm 63"></a></aside></h3><p>Initialize the slippery component behaviour</p>
<p>When applied to any atom in the game this will apply slipping behaviours to that atom</p>
<p>Arguments:</p>
<ul>
<li>knockdown - Length of time the knockdown applies (Deciseconds)</li>
<li>lube_flags - Controls the slip behaviour, they are listed starting <a href="code/__DEFINES/mobs.html#define/SLIDE" title="SLIDE">here</a></li>
<li>datum/callback/on_slip_callback - Callback to define further custom controls on when slipping is applied</li>
<li>paralyze - length of time to paralyze the crossing mob for (Deciseconds)</li>
<li>daze - length of time to daze the crossing mob for (Deciseconds), default 3 seconds</li>
<li>force_drop - should the crossing mob drop items in its hands or not</li>
<li>slot_whitelist - flags controlling where on a mob this item can be equipped to make the parent mob slippery full list <a href="code/__DEFINES/inventory.html#define/ITEM_SLOT_OCLOTHING" title="ITEM_SLOT_OCLOTHING">here</a></li>
<li>datum/callback/on_slip_callback - Callback to add custom behaviours as the crossing mob is slipped</li>
</ul><h3 id="proc/Slip"><aside class="declaration">proc </aside>Slip<aside>(/<a href="datum.html">datum</a>/source, /<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/arrived, /<a href="atom.html">atom</a>/old_loc, /list/<a href="atom.html">atom</a>/old_locs)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/slippery.dm#L165"><img src="git.png" width="16" height="16" title="code/datums/components/slippery.dm 165"></a></aside></h3><p>The proc that does the sliping. Invokes the slip callback we have set.</p>
<p>Arguments</p>
<ul>
<li>source - the source of the signal</li>
<li>arrived - the atom/movable that is being slipped.</li>
</ul><h3 id="proc/holder_deleted"><aside class="declaration">proc </aside>holder_deleted<aside>(/<a href="datum.html">datum</a>/source, /<a href="datum.html">datum</a>/possible_holder)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/slippery.dm#L208"><img src="git.png" width="16" height="16" title="code/datums/components/slippery.dm 208"></a></aside></h3><p>Detects if the holder mob is deleted.
If our holder mob is the holder set in this component, we null it.</p>
<p>Arguments:</p>
<ul>
<li>source - the source of the signal</li>
<li>possible_holder - the mob being deleted.</li>
</ul><h3 id="proc/on_drop"><aside class="declaration">proc </aside>on_drop<aside>(/<a href="datum.html">datum</a>/source, /<a href="mob.html">mob</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/slippery.dm#L222"><img src="git.png" width="16" height="16" title="code/datums/components/slippery.dm 222"></a></aside></h3><p>Gets called when COMSIG_ITEM_DROPPED is sent to parent.
Makes our holder mob un-slippery.</p>
<p>Arguments:</p>
<ul>
<li>source - the source of the signal</li>
<li>user - the mob that was formerly wearing our slippery item.</li>
</ul><h3 id="proc/on_equip"><aside class="declaration">proc </aside>on_equip<aside>(/<a href="datum.html">datum</a>/source, /<a href="mob.html">mob</a>/equipper, slot)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/slippery.dm#L191"><img src="git.png" width="16" height="16" title="code/datums/components/slippery.dm 191"></a></aside></h3><p>Gets called when COMSIG_ITEM_EQUIPPED is sent to parent.
This proc register slip signals to the equipper.
If we have a slot whitelist, we only register the signals if the slot is valid (ex: clown PDA only slips in ID or belt slot).</p>
<p>Arguments</p>
<ul>
<li>source - the source of the signal</li>
<li>equipper - the mob we're equipping the slippery thing to</li>
<li>slot - the slot we're equipping the slippery thing to on the equipper.</li>
</ul><h3 id="proc/slip_on_mob"><aside class="declaration">proc </aside>slip_on_mob<aside>(/<a href="datum.html">datum</a>/source, /<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/arrived, /<a href="atom.html">atom</a>/old_loc, /list/<a href="atom.html">atom</a>/old_locs)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/slippery.dm#L240"><img src="git.png" width="16" height="16" title="code/datums/components/slippery.dm 240"></a></aside></h3><p>The slip proc, but for equipped items.
Slips the person who crossed us if we're lying down and unbuckled.</p>
<p>Arguments:</p>
<ul>
<li>source - the source of the signal</li>
<li>arrived - the atom/movable that slipped on us.</li>
</ul></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/c41b333c9bc46606d2c5d5b517f7836d5953fbfd">c41b333</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>