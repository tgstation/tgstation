<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/component/ground_sinking - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> â€” <a href="datum/component/ground_sinking.html#var">Var Details</a> - <a href="datum/component/ground_sinking.html#proc">Proc Details</a></header><main><h1>Ground sinking component (basicly only for garden gnomes ever at this point) <aside>/<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/<a href="datum/component/ground_sinking.html">ground_sinking</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ground_sinking.dm#L9"><img src="git.png" width="16" height="16" title="code/datums/components/ground_sinking.dm 9"></a></h1><p>A basic mob with this component will sink into the ground, once sinked into the ground it will regenerate and
might gain damage resistence. Can be combined with caltrop.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/component/ground_sinking.html#var/damage_res_sinked">damage_res_sinked</a></th><td>Our damage_coeffs when we are sinked</td></tr><tr><th><a href="datum/component/ground_sinking.html#var/ground_sinking_delay">ground_sinking_delay</a></th><td>You will only sink if you haven't been walking for this many seconds</td></tr><tr><th><a href="datum/component/ground_sinking.html#var/ground_sinking_start_timer">ground_sinking_start_timer</a></th><td>When this timer completes we start sinking</td></tr><tr><th><a href="datum/component/ground_sinking.html#var/heal_when_sinked">heal_when_sinked</a></th><td>If we will heal once we are sinked</td></tr><tr><th><a href="datum/component/ground_sinking.html#var/health_per_second">health_per_second</a></th><td>Health to regenerate per second</td></tr><tr><th><a href="datum/component/ground_sinking.html#var/is_sinking">is_sinking</a></th><td>If we sinking into the ground right now</td></tr><tr><th><a href="datum/component/ground_sinking.html#var/outline_colour">outline_colour</a></th><td>Outline colour of the regeneration</td></tr><tr><th><a href="datum/component/ground_sinking.html#var/sink_count">sink_count</a></th><td>How far we have sinked</td></tr><tr><th><a href="datum/component/ground_sinking.html#var/sink_speed">sink_speed</a></th><td>The speed at which the mob will sink</td></tr><tr><th><a href="datum/component/ground_sinking.html#var/sinked">sinked</a></th><td>If we sinked into the ground right now</td></tr><tr><th><a href="datum/component/ground_sinking.html#var/target_icon_state">target_icon_state</a></th><td>The icon state of the parent</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/component/ground_sinking.html#proc/finish_sinking">finish_sinking</a></th><td>The mob has fully sunk, updates its regeneration, damage resistance and density</td></tr><tr><th><a href="datum/component/ground_sinking.html#proc/on_moved">on_moved</a></th><td>When you move, reset the cooldown and start processing</td></tr><tr><th><a href="datum/component/ground_sinking.html#proc/sinking_progress">sinking_progress</a></th><td>Makes the mob try to sink three times. Unsinks if interrupted.</td></tr><tr><th><a href="datum/component/ground_sinking.html#proc/start_regenerating">start_regenerating</a></th><td>The mop starts regaining health</td></tr><tr><th><a href="datum/component/ground_sinking.html#proc/start_sinking">start_sinking</a></th><td>Start processing health regeneration, and show animation if provided</td></tr><tr><th><a href="datum/component/ground_sinking.html#proc/stop_regenerating">stop_regenerating</a></th><td>Stops regaining health</td></tr><tr><th><a href="datum/component/ground_sinking.html#proc/unsink">unsink</a></th><td>The mob pops out of the ground</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/damage_res_sinked"><aside class="declaration">var </aside>damage_res_sinked <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ground_sinking.dm#L23"><img src="git.png" width="16" height="16" title="code/datums/components/ground_sinking.dm 23"></a></h3><p>Our damage_coeffs when we are sinked</p><h3 id="var/ground_sinking_delay"><aside class="declaration">var </aside>ground_sinking_delay <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ground_sinking.dm#L13"><img src="git.png" width="16" height="16" title="code/datums/components/ground_sinking.dm 13"></a></h3><p>You will only sink if you haven't been walking for this many seconds</p><h3 id="var/ground_sinking_start_timer"><aside class="declaration">var </aside>ground_sinking_start_timer <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ground_sinking.dm#L31"><img src="git.png" width="16" height="16" title="code/datums/components/ground_sinking.dm 31"></a></h3><p>When this timer completes we start sinking</p><h3 id="var/heal_when_sinked"><aside class="declaration">var </aside>heal_when_sinked <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ground_sinking.dm#L17"><img src="git.png" width="16" height="16" title="code/datums/components/ground_sinking.dm 17"></a></h3><p>If we will heal once we are sinked</p><h3 id="var/health_per_second"><aside class="declaration">var </aside>health_per_second <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ground_sinking.dm#L19"><img src="git.png" width="16" height="16" title="code/datums/components/ground_sinking.dm 19"></a></h3><p>Health to regenerate per second</p><h3 id="var/is_sinking"><aside class="declaration">var </aside>is_sinking <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ground_sinking.dm#L27"><img src="git.png" width="16" height="16" title="code/datums/components/ground_sinking.dm 27"></a></h3><p>If we sinking into the ground right now</p><h3 id="var/outline_colour"><aside class="declaration">var </aside>outline_colour <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ground_sinking.dm#L21"><img src="git.png" width="16" height="16" title="code/datums/components/ground_sinking.dm 21"></a></h3><p>Outline colour of the regeneration</p><h3 id="var/sink_count"><aside class="declaration">var </aside>sink_count <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ground_sinking.dm#L29"><img src="git.png" width="16" height="16" title="code/datums/components/ground_sinking.dm 29"></a></h3><p>How far we have sinked</p><h3 id="var/sink_speed"><aside class="declaration">var </aside>sink_speed <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ground_sinking.dm#L15"><img src="git.png" width="16" height="16" title="code/datums/components/ground_sinking.dm 15"></a></h3><p>The speed at which the mob will sink</p><h3 id="var/sinked"><aside class="declaration">var </aside>sinked <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ground_sinking.dm#L25"><img src="git.png" width="16" height="16" title="code/datums/components/ground_sinking.dm 25"></a></h3><p>If we sinked into the ground right now</p><h3 id="var/target_icon_state"><aside class="declaration">var </aside>target_icon_state <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ground_sinking.dm#L11"><img src="git.png" width="16" height="16" title="code/datums/components/ground_sinking.dm 11"></a></h3><p>The icon state of the parent</p><h2 id="proc">Proc Details</h2><h3 id="proc/finish_sinking"><aside class="declaration">proc </aside>finish_sinking<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/basic.html">basic</a>/living_target)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ground_sinking.dm#L99"><img src="git.png" width="16" height="16" title="code/datums/components/ground_sinking.dm 99"></a></aside></h3><p>The mob has fully sunk, updates its regeneration, damage resistance and density</p><h3 id="proc/on_moved"><aside class="declaration">proc </aside>on_moved<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/basic.html">basic</a>/living_target, /<a href="atom.html">atom</a>/OldLoc, Dir, Forced)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ground_sinking.dm#L70"><img src="git.png" width="16" height="16" title="code/datums/components/ground_sinking.dm 70"></a></aside></h3><p>When you move, reset the cooldown and start processing</p><h3 id="proc/sinking_progress"><aside class="declaration">proc </aside>sinking_progress<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/basic.html">basic</a>/living_target)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ground_sinking.dm#L85"><img src="git.png" width="16" height="16" title="code/datums/components/ground_sinking.dm 85"></a></aside></h3><p>Makes the mob try to sink three times. Unsinks if interrupted.</p><h3 id="proc/start_regenerating"><aside class="declaration">proc </aside>start_regenerating<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ground_sinking.dm#L120"><img src="git.png" width="16" height="16" title="code/datums/components/ground_sinking.dm 120"></a></aside></h3><p>The mop starts regaining health</p><h3 id="proc/start_sinking"><aside class="declaration">proc </aside>start_sinking<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/basic.html">basic</a>/living_target)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ground_sinking.dm#L79"><img src="git.png" width="16" height="16" title="code/datums/components/ground_sinking.dm 79"></a></aside></h3><p>Start processing health regeneration, and show animation if provided</p><h3 id="proc/stop_regenerating"><aside class="declaration">proc </aside>stop_regenerating<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ground_sinking.dm#L136"><img src="git.png" width="16" height="16" title="code/datums/components/ground_sinking.dm 136"></a></aside></h3><p>Stops regaining health</p><h3 id="proc/unsink"><aside class="declaration">proc </aside>unsink<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/ground_sinking.dm#L108"><img src="git.png" width="16" height="16" title="code/datums/components/ground_sinking.dm 108"></a></aside></h3><p>The mob pops out of the ground</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/c41b333c9bc46606d2c5d5b517f7836d5953fbfd">c41b333</a> (master) â€” <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>