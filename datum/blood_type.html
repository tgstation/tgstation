<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/blood_type - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/blood_type.html#var">Var Details</a> - <a href="datum/blood_type.html#proc">Proc Details</a></header><main><h1>blood_type <aside>/<a href="datum.html">datum</a>/<a href="datum/blood_type.html">blood_type</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/mob/living/blood_types.dm#L1"><img src="git.png" width="16" height="16" title="code/modules/mob/living/blood_types.dm 1"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/blood_type.html#var/blood_flags">blood_flags</a></th><td>Splash and expose behaviors for this blood type's reagent, to prevent water-blood covered items, as well as information transfer flags</td></tr><tr><th><a href="datum/blood_type.html#var/color">color</a></th><td>Shown color of the blood type.</td></tr><tr><th><a href="datum/blood_type.html#var/compatible_types">compatible_types</a></th><td>Blood types that are safe to use with people that have this blood type (for blood transfusions)</td></tr><tr><th><a href="datum/blood_type.html#var/desc">desc</a></th><td>A description of the blood type.</td></tr><tr><th><a href="datum/blood_type.html#var/dna_string">dna_string</a></th><td>What DNA string does this bloodtype have by default, if not set by a mob?</td></tr><tr><th><a href="datum/blood_type.html#var/id">id</a></th><td>Unique identifier for the blood type in the global list of singletons. Typically this is just the name, but some blood types might have the same name (e.g. evil blood)</td></tr><tr><th><a href="datum/blood_type.html#var/is_species_universal">is_species_universal</a></th><td>If this blood type is meant to persist across species changes</td></tr><tr><th><a href="datum/blood_type.html#var/name">name</a></th><td>Name of the blood type.</td></tr><tr><th><a href="datum/blood_type.html#var/reagent_type">reagent_type</a></th><td>What reagent is represented by this blood type?</td></tr><tr><th><a href="datum/blood_type.html#var/restoration_chem">restoration_chem</a></th><td>What chem is used to restore this blood type (outside of itself, of course)?</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/blood_type.html#proc/get_blood_name">get_blood_name</a></th><td>Name of the reagent we use for blood</td></tr><tr><th><a href="datum/blood_type.html#proc/get_color">get_color</a></th><td>Returns blood color or color matrix
Useful when you want to have a blood color with values out of normal hex bounds for that acidic look
set dynamic to TRUE to redo the matrix each time (e.g. for clown blood dynamically shifting each time)</td></tr><tr><th><a href="datum/blood_type.html#proc/get_damage_color">get_damage_color</a></th><td>Returns blood color for mob damage overlays</td></tr><tr><th><a href="datum/blood_type.html#proc/get_emissive_alpha">get_emissive_alpha</a></th><td>Returns emissive value for an atom
is_worn - Emissive is being fetched for a mob overlay and not the item itself</td></tr><tr><th><a href="datum/blood_type.html#proc/get_type">get_type</a></th><td>Type string of this bloodtype. Used to prevent &quot;Oil type: Oil&quot; scenarios</td></tr><tr><th><a href="datum/blood_type.html#proc/get_wound_color">get_wound_color</a></th><td>Returns blood color for wound bleeding overlays</td></tr><tr><th><a href="datum/blood_type.html#proc/make_blood_splatter">make_blood_splatter</a></th><td>Helper proc to make a blood splatter from the passed mob of this type</td></tr><tr><th><a href="datum/blood_type.html#proc/set_up_blood">set_up_blood</a></th><td>Used to handle any unique facets of blood spawned of this blood type</td></tr><tr><th><a href="datum/blood_type.html#proc/type_key">type_key</a></th><td>Key used to identify this blood type in compatible_types</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/blood_flags"><aside class="declaration">var </aside>blood_flags <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/mob/living/blood_types.dm#L21"><img src="git.png" width="16" height="16" title="code/modules/mob/living/blood_types.dm 21"></a></h3><p>Splash and expose behaviors for this blood type's reagent, to prevent water-blood covered items, as well as information transfer flags</p><h3 id="var/color"><aside class="declaration">var </aside>color <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/mob/living/blood_types.dm#L11"><img src="git.png" width="16" height="16" title="code/modules/mob/living/blood_types.dm 11"></a></h3><p>Shown color of the blood type.</p><h3 id="var/compatible_types"><aside class="declaration">var </aside>compatible_types <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/mob/living/blood_types.dm#L13"><img src="git.png" width="16" height="16" title="code/modules/mob/living/blood_types.dm 13"></a></h3><p>Blood types that are safe to use with people that have this blood type (for blood transfusions)</p><h3 id="var/desc"><aside class="declaration">var </aside>desc <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/mob/living/blood_types.dm#L5"><img src="git.png" width="16" height="16" title="code/modules/mob/living/blood_types.dm 5"></a></h3><p>A description of the blood type.</p><h3 id="var/dna_string"><aside class="declaration">var </aside>dna_string <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/mob/living/blood_types.dm#L9"><img src="git.png" width="16" height="16" title="code/modules/mob/living/blood_types.dm 9"></a></h3><p>What DNA string does this bloodtype have by default, if not set by a mob?</p><h3 id="var/id"><aside class="declaration">var </aside>id <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/mob/living/blood_types.dm#L7"><img src="git.png" width="16" height="16" title="code/modules/mob/living/blood_types.dm 7"></a></h3><p>Unique identifier for the blood type in the global list of singletons. Typically this is just the name, but some blood types might have the same name (e.g. evil blood)</p><h3 id="var/is_species_universal"><aside class="declaration">var </aside>is_species_universal <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/mob/living/blood_types.dm#L19"><img src="git.png" width="16" height="16" title="code/modules/mob/living/blood_types.dm 19"></a></h3><p>If this blood type is meant to persist across species changes</p><h3 id="var/name"><aside class="declaration">var </aside>name <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/mob/living/blood_types.dm#L3"><img src="git.png" width="16" height="16" title="code/modules/mob/living/blood_types.dm 3"></a></h3><p>Name of the blood type.</p><h3 id="var/reagent_type"><aside class="declaration">var </aside>reagent_type <aside>– /<a href="datum.html">datum</a>/<a href="datum/reagent.html">reagent</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/mob/living/blood_types.dm#L15"><img src="git.png" width="16" height="16" title="code/modules/mob/living/blood_types.dm 15"></a></h3><p>What reagent is represented by this blood type?</p><h3 id="var/restoration_chem"><aside class="declaration">var </aside>restoration_chem <aside>– /<a href="datum.html">datum</a>/<a href="datum/reagent.html">reagent</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/mob/living/blood_types.dm#L17"><img src="git.png" width="16" height="16" title="code/modules/mob/living/blood_types.dm 17"></a></h3><p>What chem is used to restore this blood type (outside of itself, of course)?</p><h2 id="proc">Proc Details</h2><h3 id="proc/get_blood_name"><aside class="declaration">proc </aside>get_blood_name<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/mob/living/blood_types.dm#L46"><img src="git.png" width="16" height="16" title="code/modules/mob/living/blood_types.dm 46"></a></aside></h3><p>Name of the reagent we use for blood</p><h3 id="proc/get_color"><aside class="declaration">proc </aside>get_color<aside>(dynamic)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/mob/living/blood_types.dm#L58"><img src="git.png" width="16" height="16" title="code/modules/mob/living/blood_types.dm 58"></a></aside></h3><p>Returns blood color or color matrix
Useful when you want to have a blood color with values out of normal hex bounds for that acidic look
set dynamic to TRUE to redo the matrix each time (e.g. for clown blood dynamically shifting each time)</p><h3 id="proc/get_damage_color"><aside class="declaration">proc </aside>get_damage_color<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/victim)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/mob/living/blood_types.dm#L62"><img src="git.png" width="16" height="16" title="code/modules/mob/living/blood_types.dm 62"></a></aside></h3><p>Returns blood color for mob damage overlays</p><h3 id="proc/get_emissive_alpha"><aside class="declaration">proc </aside>get_emissive_alpha<aside>(/<a href="atom.html">atom</a>/source, is_worn)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/mob/living/blood_types.dm#L71"><img src="git.png" width="16" height="16" title="code/modules/mob/living/blood_types.dm 71"></a></aside></h3><p>Returns emissive value for an atom
is_worn - Emissive is being fetched for a mob overlay and not the item itself</p><h3 id="proc/get_type"><aside class="declaration">proc </aside>get_type<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/mob/living/blood_types.dm#L50"><img src="git.png" width="16" height="16" title="code/modules/mob/living/blood_types.dm 50"></a></aside></h3><p>Type string of this bloodtype. Used to prevent &quot;Oil type: Oil&quot; scenarios</p><h3 id="proc/get_wound_color"><aside class="declaration">proc </aside>get_wound_color<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/victim)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/mob/living/blood_types.dm#L66"><img src="git.png" width="16" height="16" title="code/modules/mob/living/blood_types.dm 66"></a></aside></h3><p>Returns blood color for wound bleeding overlays</p><h3 id="proc/make_blood_splatter"><aside class="declaration">proc </aside>make_blood_splatter<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/bleeding, /<a href="turf.html">turf</a>/blood_turf, drip)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/mob/living/blood_types.dm#L99"><img src="git.png" width="16" height="16" title="code/modules/mob/living/blood_types.dm 99"></a></aside></h3><p>Helper proc to make a blood splatter from the passed mob of this type</p>
<p>Arguments</p>
<ul>
<li>bleeding - the mob bleeding the blood, note we assume this blood type is that mob's blood</li>
<li>blood_turf - the turf to spawn the blood on</li>
<li>drip - whether to spawn a drip or a splatter</li>
</ul><h3 id="proc/set_up_blood"><aside class="declaration">proc </aside>set_up_blood<aside>(/<a href="obj.html">obj</a>/<a href="obj/effect/decal.html">effect/decal</a>/<a href="obj/effect/decal/cleanable.html">cleanable</a>/<a href="obj/effect/decal/cleanable/blood.html">blood</a>/blood, new_splat)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/mob/living/blood_types.dm#L84"><img src="git.png" width="16" height="16" title="code/modules/mob/living/blood_types.dm 84"></a></aside></h3><p>Used to handle any unique facets of blood spawned of this blood type</p>
<p>You don't need to worry about updating the icon of the decal,
it will be handled automatically after setup is finished</p>
<p>Arguments</p>
<ul>
<li>blood - the blood being set up</li>
<li>new_splat - whether this is a newly instantiated blood decal, or an existing one this blood is being added to</li>
</ul><h3 id="proc/type_key"><aside class="declaration">proc </aside>type_key<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/mob/living/blood_types.dm#L42"><img src="git.png" width="16" height="16" title="code/modules/mob/living/blood_types.dm 42"></a></aside></h3><p>Key used to identify this blood type in compatible_types</p>
<p>Allows for more complex or dynamically generated blood types</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/c41b333c9bc46606d2c5d5b517f7836d5953fbfd">c41b333</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>