<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/stock_market_event - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/stock_market_event.html#var">Var Details</a> - <a href="datum/stock_market_event.html#proc">Proc Details</a></header><main><h1>stock_market_event <aside>/<a href="datum.html">datum</a>/<a href="datum/stock_market_event.html">stock_market_event</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/stock_market_events.dm#L1"><img src="git.png" width="16" height="16" title="code/datums/stock_market_events.dm 1"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/stock_market_event.html#var/circumstance">circumstance</a></th><td>A list of strings selected from the event that's used to describe the event in the news.</td></tr><tr><th><a href="datum/stock_market_event.html#var/company_name">company_name</a></th><td>A list of company names to use for the event and the circumstance.</td></tr><tr><th><a href="datum/stock_market_event.html#var/mat">mat</a></th><td>What material is affected by the event?</td></tr><tr><th><a href="datum/stock_market_event.html#var/name">name</a></th><td>The name of the event, used to describe it in the news.</td></tr><tr><th><a href="datum/stock_market_event.html#var/price_maximum">price_maximum</a></th><td>Constant to multiply the original material value by to get the new maximum value.</td></tr><tr><th><a href="datum/stock_market_event.html#var/price_minimum">price_minimum</a></th><td>Constant to multiply the original material value by to get the new minimum value, unless the material has a minimum override.</td></tr><tr><th><a href="datum/stock_market_event.html#var/trend_duration">trend_duration</a></th><td>When this event is triggered, for how long will its effects last?</td></tr><tr><th><a href="datum/stock_market_event.html#var/trend_value">trend_value</a></th><td>When this event is ongoing, what direction will the price trend in?</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/stock_market_event.html#proc/create_news">create_news</a></th><td>This proc is called to create a news string for the event, which is passed along to SSstock_market to be appended to the automatic newscaster messages.</td></tr><tr><th><a href="datum/stock_market_event.html#proc/end_event">end_event</a></th><td>When a stock_market_event is ended, this proc is called to apply any final effects and clean up anything that needs to be cleaned up.</td></tr><tr><th><a href="datum/stock_market_event.html#proc/handle">handle</a></th><td>This proc is called every tick while the event is ongoing by SSstock_market.</td></tr><tr><th><a href="datum/stock_market_event.html#proc/start_event">start_event</a></th><td>When a new stock_market_event is created, this proc is called to set up the event if there's anything that needs to happen upon it starting.
@param _mat The material that this event will affect.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/circumstance"><aside class="declaration">var </aside>circumstance <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/stock_market_events.dm#L16"><img src="git.png" width="16" height="16" title="code/datums/stock_market_events.dm 16"></a></h3><p>A list of strings selected from the event that's used to describe the event in the news.</p><h3 id="var/company_name"><aside class="declaration">var </aside>company_name <aside>– /static/list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/stock_market_events.dm#L5"><img src="git.png" width="16" height="16" title="code/datums/stock_market_events.dm 5"></a></h3><p>A list of company names to use for the event and the circumstance.</p><h3 id="var/mat"><aside class="declaration">var </aside>mat <aside>– /<a href="datum.html">datum</a>/<a href="datum/material.html">material</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/stock_market_events.dm#L18"><img src="git.png" width="16" height="16" title="code/datums/stock_market_events.dm 18"></a></h3><p>What material is affected by the event?</p><h3 id="var/name"><aside class="declaration">var </aside>name <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/stock_market_events.dm#L3"><img src="git.png" width="16" height="16" title="code/datums/stock_market_events.dm 3"></a></h3><p>The name of the event, used to describe it in the news.</p><h3 id="var/price_maximum"><aside class="declaration">var </aside>price_maximum <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/stock_market_events.dm#L22"><img src="git.png" width="16" height="16" title="code/datums/stock_market_events.dm 22"></a></h3><p>Constant to multiply the original material value by to get the new maximum value.</p><h3 id="var/price_minimum"><aside class="declaration">var </aside>price_minimum <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/stock_market_events.dm#L20"><img src="git.png" width="16" height="16" title="code/datums/stock_market_events.dm 20"></a></h3><p>Constant to multiply the original material value by to get the new minimum value, unless the material has a minimum override.</p><h3 id="var/trend_duration"><aside class="declaration">var </aside>trend_duration <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/stock_market_events.dm#L27"><img src="git.png" width="16" height="16" title="code/datums/stock_market_events.dm 27"></a></h3><p>When this event is triggered, for how long will its effects last?</p><h3 id="var/trend_value"><aside class="declaration">var </aside>trend_value <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/stock_market_events.dm#L25"><img src="git.png" width="16" height="16" title="code/datums/stock_market_events.dm 25"></a></h3><p>When this event is ongoing, what direction will the price trend in?</p><h2 id="proc">Proc Details</h2><h3 id="proc/create_news"><aside class="declaration">proc </aside>create_news<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/stock_market_events.dm#L62"><img src="git.png" width="16" height="16" title="code/datums/stock_market_events.dm 62"></a></aside></h3><p>This proc is called to create a news string for the event, which is passed along to SSstock_market to be appended to the automatic newscaster messages.</p><h3 id="proc/end_event"><aside class="declaration">proc </aside>end_event<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/stock_market_events.dm#L55"><img src="git.png" width="16" height="16" title="code/datums/stock_market_events.dm 55"></a></aside></h3><p>When a stock_market_event is ended, this proc is called to apply any final effects and clean up anything that needs to be cleaned up.</p><h3 id="proc/handle"><aside class="declaration">proc </aside>handle<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/stock_market_events.dm#L46"><img src="git.png" width="16" height="16" title="code/datums/stock_market_events.dm 46"></a></aside></h3><p>This proc is called every tick while the event is ongoing by SSstock_market.</p><h3 id="proc/start_event"><aside class="declaration">proc </aside>start_event<aside>(/<a href="datum.html">datum</a>/<a href="datum/material.html">material</a>/mat)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/stock_market_events.dm#L33"><img src="git.png" width="16" height="16" title="code/datums/stock_market_events.dm 33"></a></aside></h3><p>When a new stock_market_event is created, this proc is called to set up the event if there's anything that needs to happen upon it starting.
@param _mat The material that this event will affect.</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>