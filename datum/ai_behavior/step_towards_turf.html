<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/ai_behavior/step_towards_turf - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/ai_behavior/step_towards_turf.html#var">Var Details</a> - <a href="datum/ai_behavior/step_towards_turf.html#proc">Proc Details</a></header><main><h1>Step towards turf <aside>/<a href="datum.html">datum</a>/<a href="datum/ai_behavior.html">ai_behavior</a>/<a href="datum/ai_behavior/step_towards_turf.html">step_towards_turf</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/ai/basic_mobs/basic_ai_behaviors/step_towards_turf.dm#L6"><img src="git.png" width="16" height="16" title="code/datums/ai/basic_mobs/basic_ai_behaviors/step_towards_turf.dm 6"></a></h1><p>Moves a short distance towards a location repeatedly until you arrive at the destination.
You'd use this over travel_towards if you're travelling a long distance over a long time, because the AI controller has a maximum range.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/ai_behavior/step_towards_turf.html#var/step_distance">step_distance</a></th><td>How far ahead do we plot movement per action? Further means longer until we return to the decision tree, fewer means jerkier movement
This can still result in long moves because this is &quot;a tile x tiles away&quot; not &quot;only move x tiles&quot;, you might path around some walls</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/ai_behavior/step_towards_turf.html#proc/find_destination_turf">find_destination_turf</a></th><td>Get a turf to aim towards if we don't already have one, the default behaviour is actually to not do this but we want to extend it
Gets passed all of the arguments from <code>setup</code></td></tr><tr><th><a href="datum/ai_behavior/step_towards_turf.html#proc/plot_movement">plot_movement</a></th><td>Figure out where we're going to move to, which isn't all the way to the destination in one go</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/step_distance"><aside class="declaration">var </aside>step_distance <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/ai/basic_mobs/basic_ai_behaviors/step_towards_turf.dm#L11"><img src="git.png" width="16" height="16" title="code/datums/ai/basic_mobs/basic_ai_behaviors/step_towards_turf.dm 11"></a></h3><p>How far ahead do we plot movement per action? Further means longer until we return to the decision tree, fewer means jerkier movement
This can still result in long moves because this is &quot;a tile x tiles away&quot; not &quot;only move x tiles&quot;, you might path around some walls</p><h2 id="proc">Proc Details</h2><h3 id="proc/find_destination_turf"><aside class="declaration">proc </aside>find_destination_turf<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/ai/basic_mobs/basic_ai_behaviors/step_towards_turf.dm#L34"><img src="git.png" width="16" height="16" title="code/datums/ai/basic_mobs/basic_ai_behaviors/step_towards_turf.dm 34"></a></aside></h3><p>Get a turf to aim towards if we don't already have one, the default behaviour is actually to not do this but we want to extend it
Gets passed all of the arguments from <code>setup</code></p><h3 id="proc/plot_movement"><aside class="declaration">proc </aside>plot_movement<aside>(/<a href="datum.html">datum</a>/<a href="datum/ai_controller.html">ai_controller</a>/controller, /<a href="turf.html">turf</a>/target_turf)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/ai/basic_mobs/basic_ai_behaviors/step_towards_turf.dm#L40"><img src="git.png" width="16" height="16" title="code/datums/ai/basic_mobs/basic_ai_behaviors/step_towards_turf.dm 40"></a></aside></h3><p>Figure out where we're going to move to, which isn't all the way to the destination in one go</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>