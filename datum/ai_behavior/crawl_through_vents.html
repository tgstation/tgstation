<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/ai_behavior/crawl_through_vents - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/ai_behavior/crawl_through_vents.html#proc">Proc Details</a></header><main><h1>crawl_through_vents <aside>/<a href="datum.html">datum</a>/<a href="datum/ai_behavior.html">ai_behavior</a>/<a href="datum/ai_behavior/crawl_through_vents.html">crawl_through_vents</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/ai/basic_mobs/basic_ai_behaviors/ventcrawling.dm#L8"><img src="git.png" width="16" height="16" title="code/datums/ai/basic_mobs/basic_ai_behaviors/ventcrawling.dm 8"></a></h1><p>We hop into the vents through a vent outlet, and then crawl around a bit. Jolly good times.
This also assumes that we are on the turf that the vent outlet is on. If it isn't, shit.
Warning: this was really snowflake code lifted from an obscure feature that likely has not been touched for over five years years.
Something that isn't implemented is the ability to actually crawl through vents ourselves because I think that's just a waste of time for the same effect (instead of psuedo-teleportation, do REAL forceMoving)
If you are seriously considering using this component, it would be a great idea to extend this proc to be more versatile/less overpowered - the mobs that currently implement this benefit the most
since they are weak as shit with only five health. Up to you though, don't take what's written here as gospel.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/ai_behavior/crawl_through_vents.html#proc/calculate_exit_vent">calculate_exit_vent</a></th><td>Figure out an exit vent that we should head towards. If we don't have one, default to the entry vent. If they're all kaput, we die.</td></tr><tr><th><a href="datum/ai_behavior/crawl_through_vents.html#proc/delayed_suicide_pill">delayed_suicide_pill</a></th><td>Wraps a delayed defeat, so we gotta handle the return value properly ya feel?</td></tr><tr><th><a href="datum/ai_behavior/crawl_through_vents.html#proc/exit_the_vents">exit_the_vents</a></th><td>We've had enough horsing around in the vents, it's time to get out.</td></tr><tr><th><a href="datum/ai_behavior/crawl_through_vents.html#proc/is_vent_valid">is_vent_valid</a></th><td>Incredibly stripped down version of the overarching <code>can_enter_vent</code> proc on `/mob, just meant for rapid rechecking of a vent. Will be TRUE if not blocked, FALSE otherwise.</td></tr><tr><th><a href="datum/ai_behavior/crawl_through_vents.html#proc/suicide_pill">suicide_pill</a></th><td>Aw fuck, we may have been bested somehow. Regardless of what we do, we can't exit through a vent! Let's end our misery and prevent useless endless calculations.</td></tr></table><h2 id="proc">Proc Details</h2><h3 id="proc/calculate_exit_vent"><aside class="declaration">proc </aside>calculate_exit_vent<aside>(/<a href="datum.html">datum</a>/<a href="datum/ai_controller.html">ai_controller</a>/controller, target_key)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/ai/basic_mobs/basic_ai_behaviors/ventcrawling.dm#L54"><img src="git.png" width="16" height="16" title="code/datums/ai/basic_mobs/basic_ai_behaviors/ventcrawling.dm 54"></a></aside></h3><p>Figure out an exit vent that we should head towards. If we don't have one, default to the entry vent. If they're all kaput, we die.</p><h3 id="proc/delayed_suicide_pill"><aside class="declaration">proc </aside>delayed_suicide_pill<aside>(/<a href="datum.html">datum</a>/<a href="datum/ai_controller.html">ai_controller</a>/controller, target_key)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/ai/basic_mobs/basic_ai_behaviors/ventcrawling.dm#L115"><img src="git.png" width="16" height="16" title="code/datums/ai/basic_mobs/basic_ai_behaviors/ventcrawling.dm 115"></a></aside></h3><p>Wraps a delayed defeat, so we gotta handle the return value properly ya feel?</p><h3 id="proc/exit_the_vents"><aside class="declaration">proc </aside>exit_the_vents<aside>(/<a href="datum.html">datum</a>/<a href="datum/ai_controller.html">ai_controller</a>/controller, target_key)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/ai/basic_mobs/basic_ai_behaviors/ventcrawling.dm#L78"><img src="git.png" width="16" height="16" title="code/datums/ai/basic_mobs/basic_ai_behaviors/ventcrawling.dm 78"></a></aside></h3><p>We've had enough horsing around in the vents, it's time to get out.</p><h3 id="proc/is_vent_valid"><aside class="declaration">proc </aside>is_vent_valid<aside>(/<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/atmospherics.html">atmospherics</a>/<a href="obj/machinery/atmospherics/components.html">components</a>/<a href="obj/machinery/atmospherics/components/unary.html">unary</a>/<a href="obj/machinery/atmospherics/components/unary/vent_pump.html">vent_pump</a>/checkable)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/ai/basic_mobs/basic_ai_behaviors/ventcrawling.dm#L111"><img src="git.png" width="16" height="16" title="code/datums/ai/basic_mobs/basic_ai_behaviors/ventcrawling.dm 111"></a></aside></h3><p>Incredibly stripped down version of the overarching <code>can_enter_vent</code> proc on `/mob, just meant for rapid rechecking of a vent. Will be TRUE if not blocked, FALSE otherwise.</p><h3 id="proc/suicide_pill"><aside class="declaration">proc </aside>suicide_pill<aside>(/<a href="datum.html">datum</a>/<a href="datum/ai_controller.html">ai_controller</a>/controller)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/ai/basic_mobs/basic_ai_behaviors/ventcrawling.dm#L120"><img src="git.png" width="16" height="16" title="code/datums/ai/basic_mobs/basic_ai_behaviors/ventcrawling.dm 120"></a></aside></h3><p>Aw fuck, we may have been bested somehow. Regardless of what we do, we can't exit through a vent! Let's end our misery and prevent useless endless calculations.</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>