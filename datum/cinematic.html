<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/cinematic - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/cinematic.html#var">Var Details</a> - <a href="datum/cinematic.html#proc">Proc Details</a></header><main><h1>cinematic <aside>/<a href="datum.html">datum</a>/<a href="datum/cinematic.html">cinematic</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/cinematics/_cinematic.dm#L32"><img src="git.png" width="16" height="16" title="code/datums/cinematics/_cinematic.dm 32"></a></h1><p>Cinematic datum. Used to show an animation to everyone.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/cinematic.html#var/cleanup_time">cleanup_time</a></th><td>How long for the final screen remains shown</td></tr><tr><th><a href="datum/cinematic.html#var/is_global">is_global</a></th><td>Whether the cinematic is a global cinematic or not</td></tr><tr><th><a href="datum/cinematic.html#var/locked">locked</a></th><td>A list of all mobs who have TRAIT_NO_TRANSFORM set while watching the cinematic</td></tr><tr><th><a href="datum/cinematic.html#var/screen">screen</a></th><td>Refernce to the cinematic screen shown to everyohne</td></tr><tr><th><a href="datum/cinematic.html#var/special_callback">special_callback</a></th><td>Callbacks passed that occur during the animation</td></tr><tr><th><a href="datum/cinematic.html#var/stop_ooc">stop_ooc</a></th><td>Whether the cinematic turns off ooc when played globally.</td></tr><tr><th><a href="datum/cinematic.html#var/watching">watching</a></th><td>A list of all clients watching the cinematic</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/cinematic.html#proc/clean_up_cinematic">clean_up_cinematic</a></th><td>Cleans up the cinematic after a set timer of it sticking on the end screen.</td></tr><tr><th><a href="datum/cinematic.html#proc/handle_replacement_cinematics">handle_replacement_cinematics</a></th><td>Whenever another cinematic starts to play over us, we have the chacne to block it.</td></tr><tr><th><a href="datum/cinematic.html#proc/invoke_special_callback">invoke_special_callback</a></th><td>Invoke any special callbacks for actual effects synchronized with animation.
(Such as a real nuke explosion happening midway)</td></tr><tr><th><a href="datum/cinematic.html#proc/lock_mob">lock_mob</a></th><td>Locks a mob, preventing them from moving, being hurt, or acting</td></tr><tr><th><a href="datum/cinematic.html#proc/play_cinematic">play_cinematic</a></th><td>The actual cinematic occurs here.</td></tr><tr><th><a href="datum/cinematic.html#proc/play_cinematic_sound">play_cinematic_sound</a></th><td>Simple helper for playing sounds from the cinematic.</td></tr><tr><th><a href="datum/cinematic.html#proc/remove_watcher">remove_watcher</a></th><td>Removes the passed client from our watching list.</td></tr><tr><th><a href="datum/cinematic.html#proc/show_to">show_to</a></th><td>Whenever a mob watching the cinematic logs in, show them the ongoing cinematic</td></tr><tr><th><a href="datum/cinematic.html#proc/start_cinematic">start_cinematic</a></th><td>Actually goes through the process of showing the cinematic to the list of watchers.</td></tr><tr><th><a href="datum/cinematic.html#proc/stop_cinematic">stop_cinematic</a></th><td>Stops the cinematic and removes it from all the viewers.</td></tr><tr><th><a href="datum/cinematic.html#proc/unlock_mob">unlock_mob</a></th><td>Unlocks a previously locked weakref</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/cleanup_time"><aside class="declaration">var </aside>cleanup_time <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/cinematics/_cinematic.dm#L44"><img src="git.png" width="16" height="16" title="code/datums/cinematics/_cinematic.dm 44"></a></h3><p>How long for the final screen remains shown</p><h3 id="var/is_global"><aside class="declaration">var </aside>is_global <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/cinematics/_cinematic.dm#L38"><img src="git.png" width="16" height="16" title="code/datums/cinematics/_cinematic.dm 38"></a></h3><p>Whether the cinematic is a global cinematic or not</p><h3 id="var/locked"><aside class="declaration">var </aside>locked <aside>– /list/<a href="datum.html">datum</a>/<a href="datum/weakref.html">weakref</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/cinematics/_cinematic.dm#L36"><img src="git.png" width="16" height="16" title="code/datums/cinematics/_cinematic.dm 36"></a></h3><p>A list of all mobs who have TRAIT_NO_TRANSFORM set while watching the cinematic</p><h3 id="var/screen"><aside class="declaration">var </aside>screen <aside>– /<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/<a href="atom/movable/screen.html">screen</a>/cinematic</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/cinematics/_cinematic.dm#L40"><img src="git.png" width="16" height="16" title="code/datums/cinematics/_cinematic.dm 40"></a></h3><p>Refernce to the cinematic screen shown to everyohne</p><h3 id="var/special_callback"><aside class="declaration">var </aside>special_callback <aside>– /<a href="datum.html">datum</a>/<a href="datum/callback.html">callback</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/cinematics/_cinematic.dm#L42"><img src="git.png" width="16" height="16" title="code/datums/cinematics/_cinematic.dm 42"></a></h3><p>Callbacks passed that occur during the animation</p><h3 id="var/stop_ooc"><aside class="declaration">var </aside>stop_ooc <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/cinematics/_cinematic.dm#L46"><img src="git.png" width="16" height="16" title="code/datums/cinematics/_cinematic.dm 46"></a></h3><p>Whether the cinematic turns off ooc when played globally.</p><h3 id="var/watching"><aside class="declaration">var </aside>watching <aside>– /list/<a href="client.html">client</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/cinematics/_cinematic.dm#L34"><img src="git.png" width="16" height="16" title="code/datums/cinematics/_cinematic.dm 34"></a></h3><p>A list of all clients watching the cinematic</p><h2 id="proc">Proc Details</h2><h3 id="proc/clean_up_cinematic"><aside class="declaration">proc </aside>clean_up_cinematic<aside>(was_ooc_toggled)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/cinematics/_cinematic.dm#L90"><img src="git.png" width="16" height="16" title="code/datums/cinematics/_cinematic.dm 90"></a></aside></h3><p>Cleans up the cinematic after a set timer of it sticking on the end screen.</p><h3 id="proc/handle_replacement_cinematics"><aside class="declaration">proc </aside>handle_replacement_cinematics<aside>(/<a href="datum.html">datum</a>/source, /<a href="datum.html">datum</a>/<a href="datum/cinematic.html">cinematic</a>/other)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/cinematics/_cinematic.dm#L97"><img src="git.png" width="16" height="16" title="code/datums/cinematics/_cinematic.dm 97"></a></aside></h3><p>Whenever another cinematic starts to play over us, we have the chacne to block it.</p><h3 id="proc/invoke_special_callback"><aside class="declaration">proc </aside>invoke_special_callback<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/cinematics/_cinematic.dm#L133"><img src="git.png" width="16" height="16" title="code/datums/cinematics/_cinematic.dm 133"></a></aside></h3><p>Invoke any special callbacks for actual effects synchronized with animation.
(Such as a real nuke explosion happening midway)</p><h3 id="proc/lock_mob"><aside class="declaration">proc </aside>lock_mob<aside>(/<a href="mob.html">mob</a>/to_lock)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/cinematics/_cinematic.dm#L151"><img src="git.png" width="16" height="16" title="code/datums/cinematics/_cinematic.dm 151"></a></aside></h3><p>Locks a mob, preventing them from moving, being hurt, or acting</p><h3 id="proc/play_cinematic"><aside class="declaration">proc </aside>play_cinematic<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/cinematics/_cinematic.dm#L137"><img src="git.png" width="16" height="16" title="code/datums/cinematics/_cinematic.dm 137"></a></aside></h3><p>The actual cinematic occurs here.</p><h3 id="proc/play_cinematic_sound"><aside class="declaration">proc </aside>play_cinematic_sound<aside>(sound_to_play)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/cinematics/_cinematic.dm#L124"><img src="git.png" width="16" height="16" title="code/datums/cinematics/_cinematic.dm 124"></a></aside></h3><p>Simple helper for playing sounds from the cinematic.</p><h3 id="proc/remove_watcher"><aside class="declaration">proc </aside>remove_watcher<aside>(/<a href="client.html">client</a>/no_longer_watching)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/cinematics/_cinematic.dm#L164"><img src="git.png" width="16" height="16" title="code/datums/cinematics/_cinematic.dm 164"></a></aside></h3><p>Removes the passed client from our watching list.</p><h3 id="proc/show_to"><aside class="declaration">proc </aside>show_to<aside>(/<a href="mob.html">mob</a>/watching_mob, /<a href="client.html">client</a>/watching_client)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/cinematics/_cinematic.dm#L108"><img src="git.png" width="16" height="16" title="code/datums/cinematics/_cinematic.dm 108"></a></aside></h3><p>Whenever a mob watching the cinematic logs in, show them the ongoing cinematic</p><h3 id="proc/start_cinematic"><aside class="declaration">proc </aside>start_cinematic<aside>(/list/watchers)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/cinematics/_cinematic.dm#L63"><img src="git.png" width="16" height="16" title="code/datums/cinematics/_cinematic.dm 63"></a></aside></h3><p>Actually goes through the process of showing the cinematic to the list of watchers.</p><h3 id="proc/stop_cinematic"><aside class="declaration">proc </aside>stop_cinematic<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/cinematics/_cinematic.dm#L141"><img src="git.png" width="16" height="16" title="code/datums/cinematics/_cinematic.dm 141"></a></aside></h3><p>Stops the cinematic and removes it from all the viewers.</p><h3 id="proc/unlock_mob"><aside class="declaration">proc </aside>unlock_mob<aside>(/<a href="datum.html">datum</a>/<a href="datum/weakref.html">weakref</a>/mob_ref)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/cinematics/_cinematic.dm#L156"><img src="git.png" width="16" height="16" title="code/datums/cinematics/_cinematic.dm 156"></a></aside></h3><p>Unlocks a previously locked weakref</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>