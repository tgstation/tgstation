<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/z_pillar - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/z_pillar.html#var">Var Details</a> - <a href="datum/z_pillar.html#proc">Proc Details</a></header><main><h1>z_pillar <aside>/<a href="datum.html">datum</a>/<a href="datum/z_pillar.html">z_pillar</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/elements/turf_transparency.dm#L70"><img src="git.png" width="16" height="16" title="code/datums/elements/turf_transparency.dm 70"></a></h1><p>Grouping datum that manages transparency for a block of space
Setup to ease debugging, and to make add/remove operations cheaper</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/z_pillar.html#var/drawing_object">drawing_object</a></th><td>Assoc list of turfs using z holders in the form displayed turf -&gt; z holder</td></tr><tr><th><a href="datum/z_pillar.html#var/turf_sources">turf_sources</a></th><td>Assoc list in the form displayed turf -&gt; list of sources</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/z_pillar.html#proc/display_turf">display_turf</a></th><td>Displays a turf from the z level below us on our level</td></tr><tr><th><a href="datum/z_pillar.html#proc/hide_turf">hide_turf</a></th><td>Hides an existing turf from our vis_contents, or the vis_contents of the source if applicable</td></tr><tr><th><a href="datum/z_pillar.html#proc/parent_cleared">parent_cleared</a></th><td>Called when a transparent turf is cleared. We wait a tick, then check to see what
Kind of turf replaced our former holder, and resetup our visuals as desired
We do not need to do this for non transparent holders, because they will have their abstract object cleared
When a transparent holder comes back.</td></tr><tr><th><a href="datum/z_pillar.html#proc/refresh_orphan">refresh_orphan</a></th><td>Runs the actual refresh of some formerly orphaned via vis_loc deletiong turf
We'll only reup if we either have no souece, or if the source is a transparent turf</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/drawing_object"><aside class="declaration">var </aside>drawing_object <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/elements/turf_transparency.dm#L77"><img src="git.png" width="16" height="16" title="code/datums/elements/turf_transparency.dm 77"></a></h3><p>Assoc list of turfs using z holders in the form displayed turf -&gt; z holder</p><h3 id="var/turf_sources"><aside class="declaration">var </aside>turf_sources <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/elements/turf_transparency.dm#L75"><img src="git.png" width="16" height="16" title="code/datums/elements/turf_transparency.dm 75"></a></h3><p>Assoc list in the form displayed turf -&gt; list of sources</p><h2 id="proc">Proc Details</h2><h3 id="proc/display_turf"><aside class="declaration">proc </aside>display_turf<aside>(/<a href="turf.html">turf</a>/to_display, /<a href="turf.html">turf</a>/source)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/elements/turf_transparency.dm#L97"><img src="git.png" width="16" height="16" title="code/datums/elements/turf_transparency.dm 97"></a></aside></h3><p>Displays a turf from the z level below us on our level</p><h3 id="proc/hide_turf"><aside class="declaration">proc </aside>hide_turf<aside>(/<a href="turf.html">turf</a>/to_hide, /<a href="turf.html">turf</a>/source)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/elements/turf_transparency.dm#L131"><img src="git.png" width="16" height="16" title="code/datums/elements/turf_transparency.dm 131"></a></aside></h3><p>Hides an existing turf from our vis_contents, or the vis_contents of the source if applicable</p><h3 id="proc/parent_cleared"><aside class="declaration">proc </aside>parent_cleared<aside>(/<a href="turf.html">turf</a>/visual, /<a href="turf.html">turf</a>/current_holder)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/elements/turf_transparency.dm#L155"><img src="git.png" width="16" height="16" title="code/datums/elements/turf_transparency.dm 155"></a></aside></h3><p>Called when a transparent turf is cleared. We wait a tick, then check to see what
Kind of turf replaced our former holder, and resetup our visuals as desired
We do not need to do this for non transparent holders, because they will have their abstract object cleared
When a transparent holder comes back.</p><h3 id="proc/refresh_orphan"><aside class="declaration">proc </aside>refresh_orphan<aside>(/<a href="turf.html">turf</a>/orphan, /<a href="turf.html">turf</a>/parent)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/elements/turf_transparency.dm#L160"><img src="git.png" width="16" height="16" title="code/datums/elements/turf_transparency.dm 160"></a></aside></h3><p>Runs the actual refresh of some formerly orphaned via vis_loc deletiong turf
We'll only reup if we either have no souece, or if the source is a transparent turf</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/c41b333c9bc46606d2c5d5b517f7836d5953fbfd">c41b333</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>