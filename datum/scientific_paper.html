<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/scientific_paper - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/scientific_paper.html#var">Var Details</a> - <a href="datum/scientific_paper.html#proc">Proc Details</a></header><main><h1>scientific_paper <aside>/<a href="datum.html">datum</a>/<a href="datum/scientific_paper.html">scientific_paper</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/research/ordnance/_scipaper.dm#L2"><img src="git.png" width="16" height="16" title="code/modules/research/ordnance/_scipaper.dm 2"></a></h1><p>Scientific paper datum for retrieval and re-reading. A lot of the variables are there for fluff &amp; flavor.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/scientific_paper.html#var/abstract">abstract</a></th><td>Abstract.</td></tr><tr><th><a href="datum/scientific_paper.html#var/author">author</a></th><td>The principal author of our paper.</td></tr><tr><th><a href="datum/scientific_paper.html#var/et_alia">et_alia</a></th><td>Whether this paper is co-authored or not.</td></tr><tr><th><a href="datum/scientific_paper.html#var/experiment_path">experiment_path</a></th><td>Experiment typepath.</td></tr><tr><th><a href="datum/scientific_paper.html#var/gains">gains</a></th><td>The coop and funding gains from the paper.</td></tr><tr><th><a href="datum/scientific_paper.html#var/partner_path">partner_path</a></th><td>The selected sponsor for our paper. Pathtype form.</td></tr><tr><th><a href="datum/scientific_paper.html#var/tier">tier</a></th><td>Derived from tracked_variable. Used for indexing and to reduce duplicates.
Only one paper can be published in each tier for each experiment.</td></tr><tr><th><a href="datum/scientific_paper.html#var/title">title</a></th><td>The title of our paper.</td></tr><tr><th><a href="datum/scientific_paper.html#var/tracked_variable">tracked_variable</a></th><td>The main &quot;score&quot; of a particular experiment.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/scientific_paper.html#proc/allowed_to_publish">allowed_to_publish</a></th><td></td></tr><tr><th><a href="datum/scientific_paper.html#proc/calculate_gains">calculate_gains</a></th><td>Calculate the gains of an experiment.
Gain calculation follows a sigmoid curve.
f(x) = L / (1+e^(-k(x-xo)))
L is the upper limit. This should be the gain variable * 2.
k is the steepness.
x0 is the midpoint.
x is our tracked variable.
Returns the expected value of that tier.</td></tr><tr><th><a href="datum/scientific_paper.html#proc/calculate_tier">calculate_tier</a></th><td>Determine which tier can we publish at. Lower limit for an allowed tier is 10% of gain. Empty list if none are allowed.</td></tr><tr><th><a href="datum/scientific_paper.html#proc/clone_into">clone_into</a></th><td>Clones into a new paper type.
Important (non-fluff) variables will be carried over and should be cleaned with set_experiment by whoever is calling this.</td></tr><tr><th><a href="datum/scientific_paper.html#proc/return_gist">return_gist</a></th><td>Returns the formatted, readable gist of our paper in a list.</td></tr><tr><th><a href="datum/scientific_paper.html#proc/set_amount">set_amount</a></th><td></td></tr><tr><th><a href="datum/scientific_paper.html#proc/set_experiment">set_experiment</a></th><td>Experiment -&gt; Tier -&gt; Gains
Experiment -&gt; Partners -&gt; Gains
Changing anything in the chain means those following it should be recounted.</td></tr><tr><th><a href="datum/scientific_paper.html#proc/set_partner">set_partner</a></th><td></td></tr><tr><th><a href="datum/scientific_paper.html#proc/set_tier">set_tier</a></th><td>Sets a tier for us. Nulls the tier when called without args.  Re-counts the amount.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/abstract"><aside class="declaration">var </aside>abstract <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/research/ordnance/_scipaper.dm#L10"><img src="git.png" width="16" height="16" title="code/modules/research/ordnance/_scipaper.dm 10"></a></h3><p>Abstract.</p><h3 id="var/author"><aside class="declaration">var </aside>author <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/research/ordnance/_scipaper.dm#L6"><img src="git.png" width="16" height="16" title="code/modules/research/ordnance/_scipaper.dm 6"></a></h3><p>The principal author of our paper.</p><h3 id="var/et_alia"><aside class="declaration">var </aside>et_alia <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/research/ordnance/_scipaper.dm#L8"><img src="git.png" width="16" height="16" title="code/modules/research/ordnance/_scipaper.dm 8"></a></h3><p>Whether this paper is co-authored or not.</p><h3 id="var/experiment_path"><aside class="declaration">var </aside>experiment_path <aside>– /<a href="datum.html">datum</a>/<a href="datum/experiment.html">experiment</a>/<a href="datum/experiment/ordnance.html">ordnance</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/research/ordnance/_scipaper.dm#L14"><img src="git.png" width="16" height="16" title="code/modules/research/ordnance/_scipaper.dm 14"></a></h3><p>Experiment typepath.</p><h3 id="var/gains"><aside class="declaration">var </aside>gains <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/research/ordnance/_scipaper.dm#L12"><img src="git.png" width="16" height="16" title="code/modules/research/ordnance/_scipaper.dm 12"></a></h3><p>The coop and funding gains from the paper.</p><h3 id="var/partner_path"><aside class="declaration">var </aside>partner_path <aside>– /<a href="datum.html">datum</a>/<a href="datum/scientific_partner.html">scientific_partner</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/research/ordnance/_scipaper.dm#L23"><img src="git.png" width="16" height="16" title="code/modules/research/ordnance/_scipaper.dm 23"></a></h3><p>The selected sponsor for our paper. Pathtype form.</p><h3 id="var/tier"><aside class="declaration">var </aside>tier <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/research/ordnance/_scipaper.dm#L21"><img src="git.png" width="16" height="16" title="code/modules/research/ordnance/_scipaper.dm 21"></a></h3><p>Derived from tracked_variable. Used for indexing and to reduce duplicates.
Only one paper can be published in each tier for each experiment.</p><h3 id="var/title"><aside class="declaration">var </aside>title <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/research/ordnance/_scipaper.dm#L4"><img src="git.png" width="16" height="16" title="code/modules/research/ordnance/_scipaper.dm 4"></a></h3><p>The title of our paper.</p><h3 id="var/tracked_variable"><aside class="declaration">var </aside>tracked_variable <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/research/ordnance/_scipaper.dm#L16"><img src="git.png" width="16" height="16" title="code/modules/research/ordnance/_scipaper.dm 16"></a></h3><p>The main &quot;score&quot; of a particular experiment.</p><h2 id="proc">Proc Details</h2><h3 id="proc/allowed_to_publish"><aside class="declaration">proc </aside>allowed_to_publish<aside>(/<a href="datum.html">datum</a>/<a href="datum/techweb.html">techweb</a>/techweb_to_check)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/research/ordnance/_scipaper.dm#L115"><img src="git.png" width="16" height="16" title="code/modules/research/ordnance/_scipaper.dm 115"></a></aside></h3><ul>
<li>Fully check if our paper have all the required variables, and prevent duplicate papers being published in the same tier.</li>
<li>Things to check: tier, gain, and partner here. ex_path and record datums in subtypes.</li>
</ul><h3 id="proc/calculate_gains"><aside class="declaration">proc </aside>calculate_gains<aside>(calculated_tier)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/research/ordnance/_scipaper.dm#L39"><img src="git.png" width="16" height="16" title="code/modules/research/ordnance/_scipaper.dm 39"></a></aside></h3><p>Calculate the gains of an experiment.
Gain calculation follows a sigmoid curve.
f(x) = L / (1+e^(-k(x-xo)))
L is the upper limit. This should be the gain variable * 2.
k is the steepness.
x0 is the midpoint.
x is our tracked variable.
Returns the expected value of that tier.</p><h3 id="proc/calculate_tier"><aside class="declaration">proc </aside>calculate_tier<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/research/ordnance/_scipaper.dm#L52"><img src="git.png" width="16" height="16" title="code/modules/research/ordnance/_scipaper.dm 52"></a></aside></h3><p>Determine which tier can we publish at. Lower limit for an allowed tier is 10% of gain. Empty list if none are allowed.</p><h3 id="proc/clone_into"><aside class="declaration">proc </aside>clone_into<aside>(typepath)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/research/ordnance/_scipaper.dm#L137"><img src="git.png" width="16" height="16" title="code/modules/research/ordnance/_scipaper.dm 137"></a></aside></h3><p>Clones into a new paper type.
Important (non-fluff) variables will be carried over and should be cleaned with set_experiment by whoever is calling this.</p>
<p>clone_into your own typepath will be like a normal clone.</p>
<p>If you want to subtype this, do it in a way that doesn't mess with the type change.</p><h3 id="proc/return_gist"><aside class="declaration">proc </aside>return_gist<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/research/ordnance/_scipaper.dm#L151"><img src="git.png" width="16" height="16" title="code/modules/research/ordnance/_scipaper.dm 151"></a></aside></h3><p>Returns the formatted, readable gist of our paper in a list.</p><h3 id="proc/set_amount"><aside class="declaration">proc </aside>set_amount<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/research/ordnance/_scipaper.dm#L100"><img src="git.png" width="16" height="16" title="code/modules/research/ordnance/_scipaper.dm 100"></a></aside></h3><ul>
<li>Does the counting for gains.</li>
<li>Call this whenever experiments/tier/partners are changed.</li>
<li>Handled automatically, calling this proc externally shouldn't be necessary.</li>
<li>Also doubles as an initialization for the gains list.</li>
</ul><h3 id="proc/set_experiment"><aside class="declaration">proc </aside>set_experiment<aside>(ex_path, variable, data)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/research/ordnance/_scipaper.dm#L74"><img src="git.png" width="16" height="16" title="code/modules/research/ordnance/_scipaper.dm 74"></a></aside></h3><p>Experiment -&gt; Tier -&gt; Gains
Experiment -&gt; Partners -&gt; Gains
Changing anything in the chain means those following it should be recounted.</p>
<p>Used when assigning an experiment to a specific paper.
Failing to provide a proper path, a tracked variable, or a correct data should null every non-fluff data.
Implement this in the children procs.</p><h3 id="proc/set_partner"><aside class="declaration">proc </aside>set_partner<aside>(new_partner)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/research/ordnance/_scipaper.dm#L87"><img src="git.png" width="16" height="16" title="code/modules/research/ordnance/_scipaper.dm 87"></a></aside></h3><ul>
<li>Sets a specific partner for our paper. Partners give money and boost points.</li>
<li>Partners exist separately from experiments and wont need to be reset every time something changes.</li>
</ul><h3 id="proc/set_tier"><aside class="declaration">proc </aside>set_tier<aside>(assigned_tier)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/research/ordnance/_scipaper.dm#L78"><img src="git.png" width="16" height="16" title="code/modules/research/ordnance/_scipaper.dm 78"></a></aside></h3><p>Sets a tier for us. Nulls the tier when called without args.  Re-counts the amount.</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/c41b333c9bc46606d2c5d5b517f7836d5953fbfd">c41b333</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>