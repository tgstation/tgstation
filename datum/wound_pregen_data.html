<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/wound_pregen_data - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/wound_pregen_data.html#var">Var Details</a> - <a href="datum/wound_pregen_data.html#proc">Proc Details</a></header><main><h1>wound_pregen_data <aside>/<a href="datum.html">datum</a>/<a href="datum/wound_pregen_data.html">wound_pregen_data</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/wounds/_wound_static_data.dm#L6"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 6"></a></h1><p>A singleton datum that holds pre-gen and static data about a wound. Each wound datum should have a corresponding wound_pregen_data.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/wound_pregen_data.html#var/abstract">abstract</a></th><td>Will this be instantiated?</td></tr><tr><th><a href="datum/wound_pregen_data.html#var/can_be_randomly_generated">can_be_randomly_generated</a></th><td>If true, our wound can be selected in ordinary wound rolling. If this is set to false, our wound can only be directly instantiated by use of specific typepath.</td></tr><tr><th><a href="datum/wound_pregen_data.html#var/compete_for_wounding">compete_for_wounding</a></th><td>If true, we will attempt to, during a random wound roll, overpower and remove other wound typepaths from the possible wounds list using competition_mode.</td></tr><tr><th><a href="datum/wound_pregen_data.html#var/competition_mode">competition_mode</a></th><td>The competition mode with which we will remove other wounds from a possible wound roll assuming [compete_for_wounding] is TRUE. See wounds.dm, the defines file, for more information on what these do.</td></tr><tr><th><a href="datum/wound_pregen_data.html#var/duplicates_allowed">duplicates_allowed</a></th><td>If false, we will iterate through wounds on a given limb, and if any match our type, we wont add our wound.</td></tr><tr><th><a href="datum/wound_pregen_data.html#var/ignore_cannot_bleed">ignore_cannot_bleed</a></th><td>If we require BIO_BLOODED, we will not add our wound if this is true and the limb cannot bleed.</td></tr><tr><th><a href="datum/wound_pregen_data.html#var/require_any_biostate">require_any_biostate</a></th><td>If false, we will check if the limb has all of our required biostates instead of just any.</td></tr><tr><th><a href="datum/wound_pregen_data.html#var/required_limb_biostate">required_limb_biostate</a></th><td>A list of biostates a limb must have to receive our wound, in wounds.dm.</td></tr><tr><th><a href="datum/wound_pregen_data.html#var/required_wounding_type">required_wounding_type</a></th><td>The type of attack that can generate this wound.
E.g. WOUND_SLASH = A sharp attack can cause this, WOUND_BLUNT = an attack with no sharpness/an attack with sharpness against a limb with mangled exterior can cause this.</td></tr><tr><th><a href="datum/wound_pregen_data.html#var/scar_priorities">scar_priorities</a></th><td>A list of BIO_ defines that will be iterated over in order to determine the scar file our wound will generate.
Use generate_scar_priorities to create a custom list.</td></tr><tr><th><a href="datum/wound_pregen_data.html#var/threshold_minimum">threshold_minimum</a></th><td>The minimum injury roll a attack must get to generate us. Affected by our wound's threshold_penalty and series_threshold_penalty, as well as the attack's wound_bonus. See check_wounding_mods().</td></tr><tr><th><a href="datum/wound_pregen_data.html#var/viable_zones">viable_zones</a></th><td>A list of bodyzones we are applicable to.</td></tr><tr><th><a href="datum/wound_pregen_data.html#var/weight">weight</a></th><td>The weight that will be used if, by the end of wound selection, there are multiple valid wounds. This will be inserted into pick_weight, so use integers.</td></tr><tr><th><a href="datum/wound_pregen_data.html#var/wound_path_to_generate">wound_path_to_generate</a></th><td>The typepath of the wound we will be handling and storing data of. NECESSARY IF THIS IS A NON-ABSTRACT TYPE!</td></tr><tr><th><a href="datum/wound_pregen_data.html#var/wound_series">wound_series</a></th><td>The series of wounds this is in. See wounds.dm (the defines file) for a more detailed explanation - but tldr is that no 2 wounds of the same series can be on a limb.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/wound_pregen_data.html#proc/biostate_valid">biostate_valid</a></th><td>Returns true if we have the given biostates, or any biostate in it if check_for_any is true. False otherwise.</td></tr><tr><th><a href="datum/wound_pregen_data.html#proc/can_be_applied_to">can_be_applied_to</a></th><td>Args:</td></tr><tr><th><a href="datum/wound_pregen_data.html#proc/generate_instance">generate_instance</a></th><td>Returns a new instance of our wound datum.</td></tr><tr><th><a href="datum/wound_pregen_data.html#proc/generate_scar_priorities">generate_scar_priorities</a></th><td>Should return a list of BIO_ biostate priorities, in order. See [scar_priorities] for further documentation.</td></tr><tr><th><a href="datum/wound_pregen_data.html#proc/get_threshold_for">get_threshold_for</a></th><td>A simple getter for [threshold_minimum], with arguments supplied to allow custom behavior.</td></tr><tr><th><a href="datum/wound_pregen_data.html#proc/get_weight">get_weight</a></th><td>A simple getter for [weight], with arguments supplied to allow custom behavior.</td></tr><tr><th><a href="datum/wound_pregen_data.html#proc/wounding_types_valid">wounding_types_valid</a></th><td>Returns TRUE if we use WOUND_ALL or our wounding type</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/abstract"><aside class="declaration">var </aside>abstract <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/wounds/_wound_static_data.dm#L11"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 11"></a></h3><p>Will this be instantiated?</p><h3 id="var/can_be_randomly_generated"><aside class="declaration">var </aside>can_be_randomly_generated <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/wounds/_wound_static_data.dm#L14"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 14"></a></h3><p>If true, our wound can be selected in ordinary wound rolling. If this is set to false, our wound can only be directly instantiated by use of specific typepath.</p><h3 id="var/compete_for_wounding"><aside class="declaration">var </aside>compete_for_wounding <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/wounds/_wound_static_data.dm#L43"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 43"></a></h3><p>If true, we will attempt to, during a random wound roll, overpower and remove other wound typepaths from the possible wounds list using competition_mode.</p><h3 id="var/competition_mode"><aside class="declaration">var </aside>competition_mode <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/wounds/_wound_static_data.dm#L45"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 45"></a></h3><p>The competition mode with which we will remove other wounds from a possible wound roll assuming [compete_for_wounding] is TRUE. See wounds.dm, the defines file, for more information on what these do.</p><h3 id="var/duplicates_allowed"><aside class="declaration">var </aside>duplicates_allowed <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/wounds/_wound_static_data.dm#L22"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 22"></a></h3><p>If false, we will iterate through wounds on a given limb, and if any match our type, we wont add our wound.</p><h3 id="var/ignore_cannot_bleed"><aside class="declaration">var </aside>ignore_cannot_bleed <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/wounds/_wound_static_data.dm#L25"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 25"></a></h3><p>If we require BIO_BLOODED, we will not add our wound if this is true and the limb cannot bleed.</p><h3 id="var/require_any_biostate"><aside class="declaration">var </aside>require_any_biostate <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/wounds/_wound_static_data.dm#L19"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 19"></a></h3><p>If false, we will check if the limb has all of our required biostates instead of just any.</p><h3 id="var/required_limb_biostate"><aside class="declaration">var </aside>required_limb_biostate <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/wounds/_wound_static_data.dm#L17"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 17"></a></h3><p>A list of biostates a limb must have to receive our wound, in wounds.dm.</p><h3 id="var/required_wounding_type"><aside class="declaration">var </aside>required_wounding_type <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/wounds/_wound_static_data.dm#L31"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 31"></a></h3><p>The type of attack that can generate this wound.
E.g. WOUND_SLASH = A sharp attack can cause this, WOUND_BLUNT = an attack with no sharpness/an attack with sharpness against a limb with mangled exterior can cause this.</p><h3 id="var/scar_priorities"><aside class="declaration">var </aside>scar_priorities <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/wounds/_wound_static_data.dm#L49"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 49"></a></h3><p>A list of BIO_ defines that will be iterated over in order to determine the scar file our wound will generate.
Use generate_scar_priorities to create a custom list.</p><h3 id="var/threshold_minimum"><aside class="declaration">var </aside>threshold_minimum <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/wounds/_wound_static_data.dm#L37"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 37"></a></h3><p>The minimum injury roll a attack must get to generate us. Affected by our wound's threshold_penalty and series_threshold_penalty, as well as the attack's wound_bonus. See check_wounding_mods().</p><h3 id="var/viable_zones"><aside class="declaration">var </aside>viable_zones <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/wounds/_wound_static_data.dm#L28"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 28"></a></h3><p>A list of bodyzones we are applicable to.</p><h3 id="var/weight"><aside class="declaration">var </aside>weight <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/wounds/_wound_static_data.dm#L34"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 34"></a></h3><p>The weight that will be used if, by the end of wound selection, there are multiple valid wounds. This will be inserted into pick_weight, so use integers.</p><h3 id="var/wound_path_to_generate"><aside class="declaration">var </aside>wound_path_to_generate <aside>– /<a href="datum.html">datum</a>/<a href="datum/wound.html">wound</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/wounds/_wound_static_data.dm#L8"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 8"></a></h3><p>The typepath of the wound we will be handling and storing data of. NECESSARY IF THIS IS A NON-ABSTRACT TYPE!</p><h3 id="var/wound_series"><aside class="declaration">var </aside>wound_series <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/wounds/_wound_static_data.dm#L40"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 40"></a></h3><p>The series of wounds this is in. See wounds.dm (the defines file) for a more detailed explanation - but tldr is that no 2 wounds of the same series can be on a limb.</p><h2 id="proc">Proc Details</h2><h3 id="proc/biostate_valid"><aside class="declaration">proc </aside>biostate_valid<aside>(biostate)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/wounds/_wound_static_data.dm#L123"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 123"></a></aside></h3><p>Returns true if we have the given biostates, or any biostate in it if check_for_any is true. False otherwise.</p><h3 id="proc/can_be_applied_to"><aside class="declaration">proc </aside>can_be_applied_to<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a>/limb, suggested_wounding_type, /<a href="datum.html">datum</a>/<a href="datum/wound.html">wound</a>/old_wound, random_roll, duplicates_allowed, care_about_existing_wounds)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/wounds/_wound_static_data.dm#L86"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 86"></a></aside></h3><p>Args:</p>
<ul>
<li>obj/item/bodypart/limb: The limb we are considering.</li>
<li>suggested_wounding_typs: The wounding type to be checked against the wounding type we require. Defaults to required_wounding_type.</li>
<li>datum/wound/old_wound: If we would replace a wound, this would be said wound. Nullable.</li>
<li>random_roll = FALSE: If this is in the context of a random wound generation, and this wound wasn't specifically checked.</li>
</ul>
<p>Returns:
FALSE if the limb cannot be wounded, if the wounding types don't match ours (via wounding_types_valid()), if we have a higher severity wound already in our series,
if we have a biotype mismatch, if the limb isn't in a viable zone, or if there's any duplicate wound types.
TRUE otherwise.</p><h3 id="proc/generate_instance"><aside class="declaration">proc </aside>generate_instance<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a>/limb, ...) <span class="as"> as </span>/<a href="datum.html">datum</a>/<a href="datum/wound.html">wound</a> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/wounds/_wound_static_data.dm#L166"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 166"></a></aside></h3><p>Returns a new instance of our wound datum.</p><h3 id="proc/generate_scar_priorities"><aside class="declaration">proc </aside>generate_scar_priorities<aside>() <span class="as"> as </span>/list <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/wounds/_wound_static_data.dm#L63"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 63"></a></aside></h3><p>Should return a list of BIO_ biostate priorities, in order. See [scar_priorities] for further documentation.</p><h3 id="proc/get_threshold_for"><aside class="declaration">proc </aside>get_threshold_for<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a>/part, attack_direction, damage_source)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/wounds/_wound_static_data.dm#L162"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 162"></a></aside></h3><p>A simple getter for [threshold_minimum], with arguments supplied to allow custom behavior.</p>
<p>Args:</p>
<ul>
<li>obj/item/bodypart/part: The limb we are contemplating being added to.</li>
<li>attack_direction: The direction of the attack that'd generate us. Nullable.</li>
<li>damage_source: The source of the damage that'd cause us. Nullable.</li>
</ul><h3 id="proc/get_weight"><aside class="declaration">proc </aside>get_weight<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a>/limb, woundtype, damage, attack_direction, damage_source)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/wounds/_wound_static_data.dm#L145"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 145"></a></aside></h3><p>A simple getter for [weight], with arguments supplied to allow custom behavior.</p>
<p>Args:</p>
<ul>
<li>obj/item/bodypart/limb: The limb we are contemplating being added to. Nullable.</li>
<li>woundtype: The woundtype of the assumed attack that would generate us. Nullable.</li>
<li>damage: The raw damage that would cause us. Nullable.</li>
<li>attack_direction: The direction of the attack that'd cause us. Nullable.</li>
<li>damage_source: The entity that would cause us. Nullable.</li>
</ul>
<p>Returns:
Our weight.</p><h3 id="proc/wounding_types_valid"><aside class="declaration">proc </aside>wounding_types_valid<aside>(suggested_wounding_type)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/wounds/_wound_static_data.dm#L149"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 149"></a></aside></h3><p>Returns TRUE if we use WOUND_ALL or our wounding type</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>