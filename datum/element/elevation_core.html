<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/element/elevation_core - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/element/elevation_core.html#var">Var Details</a> - <a href="datum/element/elevation_core.html#proc">Proc Details</a></header><main><h1>elevation_core <aside>/<a href="datum.html">datum</a>/<a href="datum/element.html">element</a>/<a href="datum/element/elevation_core.html">elevation_core</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/elements/elevation.dm#L96"><img src="git.png" width="16" height="16" title="code/datums/elements/elevation.dm 96"></a></h1><p>The core element attached to the turf itself. Do not use this directly!</p>
<p>Causes mobs walking over a turf with this element to be pixel shifted vertically by the pixel_shift amount.
Because of the way it's structured, it should only be added through the elevation element (without the core suffix).</p>
<p>To explain: in the case of multiple objects with (different instances of) the element being stacked on one turf somehow,
we only want that with the highest pixel shift value to apply it to the turf, so that the mobs standing on top of it all
doesn't look like it's floating off the pile.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/element/elevation_core.html#var/pixel_shift">pixel_shift</a></th><td>The amount of pixel_z applied to the mob standing on the turf.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/element/elevation_core.html#proc/deelevate_mob">deelevate_mob</a></th><td>Reverts elevation of the mob.</td></tr><tr><th><a href="datum/element/elevation_core.html#proc/elevate_mob">elevate_mob</a></th><td>Elevates the mob by pixel_shift amount.</td></tr><tr><th><a href="datum/element/elevation_core.html#proc/on_set_buckled">on_set_buckled</a></th><td>If the mob is buckled or unbuckled to/from a vehicle, shift it up/down
.
Null the pixel shift if the mob is buckled to something different that's not a mob or vehicle</td></tr><tr><th><a href="datum/element/elevation_core.html#proc/register_new_mob">register_new_mob</a></th><td>Registers a new mob to be elevated, and elevates it.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/pixel_shift"><aside class="declaration">var </aside>pixel_shift <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/elements/elevation.dm#L100"><img src="git.png" width="16" height="16" title="code/datums/elements/elevation.dm 100"></a></h3><p>The amount of pixel_z applied to the mob standing on the turf.</p><h2 id="proc">Proc Details</h2><h3 id="proc/deelevate_mob"><aside class="declaration">proc </aside>deelevate_mob<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/target, elevate_time)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/elements/elevation.dm#L196"><img src="git.png" width="16" height="16" title="code/datums/elements/elevation.dm 196"></a></aside></h3><p>Reverts elevation of the mob.</p><h3 id="proc/elevate_mob"><aside class="declaration">proc </aside>elevate_mob<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/target, elevate_time, force)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/elements/elevation.dm#L174"><img src="git.png" width="16" height="16" title="code/datums/elements/elevation.dm 174"></a></aside></h3><p>Elevates the mob by pixel_shift amount.</p>
<p>If the mob has the TRAIT_IGNORE_ELEVATION trait, it will not be elevated.</p>
<p>If the mob is buckled to something...
...And that something is a vehicle, it will also be elevated.
...And that something is an object, neither the mob nor the object will be elevated.
...And that something is a mob, we will be elevated (but not the other mob).</p><h3 id="proc/on_set_buckled"><aside class="declaration">proc </aside>on_set_buckled<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/source, /<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/new_buckled)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/elements/elevation.dm#L210"><img src="git.png" width="16" height="16" title="code/datums/elements/elevation.dm 210"></a></aside></h3><p>If the mob is buckled or unbuckled to/from a vehicle, shift it up/down
.
Null the pixel shift if the mob is buckled to something different that's not a mob or vehicle</p>
<p>The reason is that it's more important for a mob to look like they're actually buckled to a bed
or something anchored to the floor than atop of whatever else is on the same turf.</p><h3 id="proc/register_new_mob"><aside class="declaration">proc </aside>register_new_mob<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/new_mob, elevate_time)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/elements/elevation.dm#L157"><img src="git.png" width="16" height="16" title="code/datums/elements/elevation.dm 157"></a></aside></h3><p>Registers a new mob to be elevated, and elevates it.</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>