<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/experiment/scanning - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/experiment/scanning.html#var">Var Details</a> - <a href="datum/experiment/scanning.html#proc">Proc Details</a></header><main><h1>Scanning Experiment <aside>/<a href="datum.html">datum</a>/<a href="datum/experiment.html">experiment</a>/<a href="datum/experiment/scanning.html">scanning</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/experisci/experiment/types/scanning.dm#L9"><img src="git.png" width="16" height="16" title="code/modules/experisci/experiment/types/scanning.dm 9"></a></h1><p>This is the base implementation of scanning experiments.</p>
<p>This class should be subclassed for producing actual experiments. The
procs should be extended where necessary.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/experiment/scanning.html#var/required_atoms">required_atoms</a></th><td>The typepaths and number of atoms that must be scanned</td></tr><tr><th><a href="datum/experiment/scanning.html#var/scan_message">scan_message</a></th><td>If set, it'll be used in place of the generic &quot;Scan samples of \a [initial(target.name)]&quot; in serialize_progress_stage()</td></tr><tr><th><a href="datum/experiment/scanning.html#var/scanned">scanned</a></th><td>The list of atoms with sub-lists of atom references for scanned atoms contributing to the experiment (Or a count of atoms destoryed for destructive expiriments)</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/experiment/scanning.html#proc/New">New</a></th><td>Initializes the scanned atoms lists</td></tr><tr><th><a href="datum/experiment/scanning.html#proc/check_progress">check_progress</a></th><td>Gets the number of atoms that have been scanned and the goal</td></tr><tr><th><a href="datum/experiment/scanning.html#proc/do_after_experiment">do_after_experiment</a></th><td>Performs actions following a successful experiment action</td></tr><tr><th><a href="datum/experiment/scanning.html#proc/experiment_requirements">experiment_requirements</a></th><td>Attempts to get the typepath for an atom that would contribute to the experiment</td></tr><tr><th><a href="datum/experiment/scanning.html#proc/final_contributing_index_checks">final_contributing_index_checks</a></th><td>Performs any additional checks against the atom being considered for selection as a contributing index</td></tr><tr><th><a href="datum/experiment/scanning.html#proc/is_complete">is_complete</a></th><td>Checks if the scanning experiment is complete</td></tr><tr><th><a href="datum/experiment/scanning.html#proc/perform_experiment_actions">perform_experiment_actions</a></th><td>Attempts to scan an atom towards the experiment's goal</td></tr><tr><th><a href="datum/experiment/scanning.html#proc/serialize_progress_stage">serialize_progress_stage</a></th><td>Serializes a progress stage into a list to be sent to the UI</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/required_atoms"><aside class="declaration">var </aside>required_atoms <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/experisci/experiment/types/scanning.dm#L17"><img src="git.png" width="16" height="16" title="code/modules/experisci/experiment/types/scanning.dm 17"></a></h3><p>The typepaths and number of atoms that must be scanned</p><h3 id="var/scan_message"><aside class="declaration">var </aside>scan_message <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/experisci/experiment/types/scanning.dm#L21"><img src="git.png" width="16" height="16" title="code/modules/experisci/experiment/types/scanning.dm 21"></a></h3><p>If set, it'll be used in place of the generic &quot;Scan samples of \a [initial(target.name)]&quot; in serialize_progress_stage()</p><h3 id="var/scanned"><aside class="declaration">var </aside>scanned <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/experisci/experiment/types/scanning.dm#L19"><img src="git.png" width="16" height="16" title="code/modules/experisci/experiment/types/scanning.dm 19"></a></h3><p>The list of atoms with sub-lists of atom references for scanned atoms contributing to the experiment (Or a count of atoms destoryed for destructive expiriments)</p><h2 id="proc">Proc Details</h2><h3 id="proc/New"><aside class="parent"><a title="/datum/experiment" href="datum/experiment.html#proc/New">↑</a></aside>New<aside>(/<a href="datum.html">datum</a>/<a href="datum/techweb.html">techweb</a>/techweb)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/experisci/experiment/types/scanning.dm#L28"><img src="git.png" width="16" height="16" title="code/modules/experisci/experiment/types/scanning.dm 28"></a></aside></h3><p>Initializes the scanned atoms lists</p>
<p>Initializes the internal scanned atoms list to keep track of which atoms have already been scanned</p><h3 id="proc/check_progress"><aside class="parent"><a title="/datum/experiment" href="datum/experiment.html#proc/check_progress">↑</a></aside>check_progress<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/experisci/experiment/types/scanning.dm#L58"><img src="git.png" width="16" height="16" title="code/modules/experisci/experiment/types/scanning.dm 58"></a></aside></h3><p>Gets the number of atoms that have been scanned and the goal</p>
<p>This proc returns a string describing the number of atoms that
have been scanned as well as the target number of atoms.</p><h3 id="proc/do_after_experiment"><aside class="declaration">proc </aside>do_after_experiment<aside>(/<a href="atom.html">atom</a>/target, typepath)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/experisci/experiment/types/scanning.dm#L146"><img src="git.png" width="16" height="16" title="code/modules/experisci/experiment/types/scanning.dm 146"></a></aside></h3><p>Performs actions following a successful experiment action</p>
<p>This proc is intended to be used to add additional functionality to follow experiment
actions without having to change the perform_experiment_actions proc to get access to the
selected typepath index
Arguments:</p>
<ul>
<li>target - The atom being scanned</li>
<li>typepath - The typepath (selected index) of the target atom</li>
</ul><h3 id="proc/experiment_requirements"><aside class="declaration">proc </aside>experiment_requirements<aside>(/<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/<a href="datum/component/experiment_handler.html">experiment_handler</a>/experiment_handler, /<a href="atom.html">atom</a>/target)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/experisci/experiment/types/scanning.dm#L108"><img src="git.png" width="16" height="16" title="code/modules/experisci/experiment/types/scanning.dm 108"></a></aside></h3><p>Attempts to get the typepath for an atom that would contribute to the experiment</p>
<p>This proc checks the required atoms for a typepath that this target atom can contribute to
and if found returns that typepath, otherwise returns null
Arguments:</p>
<ul>
<li>target - The atom to attempt to scan</li>
</ul><h3 id="proc/final_contributing_index_checks"><aside class="declaration">proc </aside>final_contributing_index_checks<aside>(/<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/<a href="datum/component/experiment_handler.html">experiment_handler</a>/experiment_handler, /<a href="atom.html">atom</a>/target, typepath)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/experisci/experiment/types/scanning.dm#L133"><img src="git.png" width="16" height="16" title="code/modules/experisci/experiment/types/scanning.dm 133"></a></aside></h3><p>Performs any additional checks against the atom being considered for selection as a contributing index</p>
<p>This proc is intended to be used to add additional functionality to contributing index checks
without having to duplicate the iteration structure of experiment_requirements()
Arguments:</p>
<ul>
<li>target - The atom being scanned</li>
<li>typepath - The typepath (selected index) of the target atom</li>
</ul><h3 id="proc/is_complete"><aside class="parent"><a title="/datum/experiment" href="datum/experiment.html#proc/is_complete">↑</a></aside>is_complete<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/experisci/experiment/types/scanning.dm#L38"><img src="git.png" width="16" height="16" title="code/modules/experisci/experiment/types/scanning.dm 38"></a></aside></h3><p>Checks if the scanning experiment is complete</p>
<p>Returns TRUE/FALSE as to if the necessary number of atoms have been scanned.</p><h3 id="proc/perform_experiment_actions"><aside class="parent"><a title="/datum/experiment" href="datum/experiment.html#proc/perform_experiment_actions">↑</a></aside>perform_experiment_actions<aside>(/<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/<a href="datum/component/experiment_handler.html">experiment_handler</a>/experiment_handler, /<a href="atom.html">atom</a>/target)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/experisci/experiment/types/scanning.dm#L85"><img src="git.png" width="16" height="16" title="code/modules/experisci/experiment/types/scanning.dm 85"></a></aside></h3><p>Attempts to scan an atom towards the experiment's goal</p>
<p>This proc attempts to scan an atom towards the experiment's goal,
and returns TRUE/FALSE based on success.
Arguments:</p>
<ul>
<li>target - The atom to attempt to scan</li>
</ul><h3 id="proc/serialize_progress_stage"><aside class="declaration">proc </aside>serialize_progress_stage<aside>(/<a href="atom.html">atom</a>/target, /list/seen_instances)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/experisci/experiment/types/scanning.dm#L72"><img src="git.png" width="16" height="16" title="code/modules/experisci/experiment/types/scanning.dm 72"></a></aside></h3><p>Serializes a progress stage into a list to be sent to the UI</p>
<p>Arguments:</p>
<ul>
<li>target - The targeted atom for this progress stage</li>
<li>seen_instances - The number of instances seen of this atom</li>
</ul></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>