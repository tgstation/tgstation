<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/quirk/item_quirk/asthma - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/quirk/item_quirk/asthma.html#var">Var Details</a> - <a href="datum/quirk/item_quirk/asthma.html#proc">Proc Details</a></header><main><h1>asthma <aside>/<a href="datum.html">datum</a>/<a href="datum/quirk.html">quirk</a>/<a href="datum/quirk/item_quirk.html">item_quirk</a>/<a href="datum/quirk/item_quirk/asthma.html">asthma</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/quirks/negative_quirks/asthma.dm#L1"><img src="git.png" width="16" height="16" title="code/datums/quirks/negative_quirks/asthma.dm 1"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/quirk/item_quirk/asthma.html#var/albuterol_immediate_reduction_mult">albuterol_immediate_reduction_mult</a></th><td>When albuterol is inhaled, inflammation will be reduced via (inhaled_albuterol * albuterol_inflammation_reduction * albuterol_immediate_reduction_mult)</td></tr><tr><th><a href="datum/quirk/item_quirk/asthma.html#var/albuterol_inflammation_reduction">albuterol_inflammation_reduction</a></th><td>If [inhaled_albuterol] is above 0, we will reduce inflammation by this much per tick.</td></tr><tr><th><a href="datum/quirk/item_quirk/asthma.html#var/asthma_attack_rarities">asthma_attack_rarities</a></th><td>Assoc list of (/datum/disease/asthma_attack typepath -&gt; number). Used in pickweight for when we pick a random asthma attack to apply.</td></tr><tr><th><a href="datum/quirk/item_quirk/asthma.html#var/chance_for_attack_to_happen_per_second">chance_for_attack_to_happen_per_second</a></th><td>Every second, an asthma attack can happen via this probability. 0-1.</td></tr><tr><th><a href="datum/quirk/item_quirk/asthma.html#var/current_attack">current_attack</a></th><td>The current asthma attack trying to kill our owner.</td></tr><tr><th><a href="datum/quirk/item_quirk/asthma.html#var/histamine_OD_inflammation">histamine_OD_inflammation</a></th><td>If our owner is ODing on histamine, inflammation will increase by this per tick.</td></tr><tr><th><a href="datum/quirk/item_quirk/asthma.html#var/histamine_inflammation">histamine_inflammation</a></th><td>If our owner is metabolizing histamine, inflammation will increase by this per tick.</td></tr><tr><th><a href="datum/quirk/item_quirk/asthma.html#var/hit_max_mult_at_inflammation_percent">hit_max_mult_at_inflammation_percent</a></th><td>At this percentage of inflammation, our lung pressure mult reaches 0. From 0-1.</td></tr><tr><th><a href="datum/quirk/item_quirk/asthma.html#var/inflammation">inflammation</a></th><td>Current inflammation of the lungs.</td></tr><tr><th><a href="datum/quirk/item_quirk/asthma.html#var/inflammation_on_smoke">inflammation_on_smoke</a></th><td>The amount of inflammation we will receive when our owner breathes smoke.</td></tr><tr><th><a href="datum/quirk/item_quirk/asthma.html#var/inhaled_albuterol">inhaled_albuterol</a></th><td>A tracker variable for how much albuterol has been inhaled.</td></tr><tr><th><a href="datum/quirk/item_quirk/asthma.html#var/max_inflammation">max_inflammation</a></th><td>Highest possible inflammation. Interacts with [hit_max_mult_at_inflammation_percent]</td></tr><tr><th><a href="datum/quirk/item_quirk/asthma.html#var/max_time_between_attacks">max_time_between_attacks</a></th><td>After an attack ends, this is the maximum time we must wait before we attack again.</td></tr><tr><th><a href="datum/quirk/item_quirk/asthma.html#var/min_time_between_attacks">min_time_between_attacks</a></th><td>After an attack ends, this is the minimum time we must wait before we attack again.</td></tr><tr><th><a href="datum/quirk/item_quirk/asthma.html#var/next_attack_cooldown">next_attack_cooldown</a></th><td>Can we cause an asthma attack?</td></tr><tr><th><a href="datum/quirk/item_quirk/asthma.html#var/passive_inflammation_reduction">passive_inflammation_reduction</a></th><td>The amount [inflammation] reduces every second while our owner is off stasis and alive.</td></tr><tr><th><a href="datum/quirk/item_quirk/asthma.html#var/time_first_attack_can_happen">time_first_attack_can_happen</a></th><td>world.time + this is the time the first attack can happen. Used on spawn.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/quirk/item_quirk/asthma.html#proc/adjust_albuterol_levels">adjust_albuterol_levels</a></th><td>Setter proc for [inhaled_albuterol]. Adjusts inflammation immediately.</td></tr><tr><th><a href="datum/quirk/item_quirk/asthma.html#proc/adjust_inflammation">adjust_inflammation</a></th><td>Setter proc for [inflammation]. Adjusts the amount by lung health, adjusts pressure mult, gives feedback messages if silent is FALSE.</td></tr><tr><th><a href="datum/quirk/item_quirk/asthma.html#proc/attack_deleting">attack_deleting</a></th><td>Signal proc for when our asthma attack qdels. Unsets our refs to it and resets [next_attack_cooldown].</td></tr><tr><th><a href="datum/quirk/item_quirk/asthma.html#proc/do_asthma_attack">do_asthma_attack</a></th><td>Causes an asthma attack via infecting our owner with the attack disease. Notifies ghosts.</td></tr><tr><th><a href="datum/quirk/item_quirk/asthma.html#proc/do_inflammation_change_feedback">do_inflammation_change_feedback</a></th><td>Sends feedback to our owner of which direction our asthma is intensifying/recovering.</td></tr><tr><th><a href="datum/quirk/item_quirk/asthma.html#proc/exposed_to_reagents">exposed_to_reagents</a></th><td>Signal proc for when our owner receives reagents. If we receive albuterol via inhalation, we adjust inhaled albuterol by that amount. If we are smoking, we increase inflammation.</td></tr><tr><th><a href="datum/quirk/item_quirk/asthma.html#proc/get_lung_health_mult">get_lung_health_mult</a></th><td>Returns the % of health our lungs have, from 1-0. Used in reducing recovery and intensifying inflammation.</td></tr><tr><th><a href="datum/quirk/item_quirk/asthma.html#proc/get_pressure_mult">get_pressure_mult</a></th><td>Returns the pressure mult to be applied to our lungs.</td></tr><tr><th><a href="datum/quirk/item_quirk/asthma.html#proc/holder_exposed_to_smoke">holder_exposed_to_smoke</a></th><td>Signal proc for when we are exposed to smoke. Increases inflammation.</td></tr><tr><th><a href="datum/quirk/item_quirk/asthma.html#proc/on_full_heal">on_full_heal</a></th><td>Signal handler for COMSIG_LIVING_POST_FULLY_HEAL. Heals our asthma.</td></tr><tr><th><a href="datum/quirk/item_quirk/asthma.html#proc/organ_removed">organ_removed</a></th><td>Signal proc for when our lungs are removed. Resets all our variables.</td></tr><tr><th><a href="datum/quirk/item_quirk/asthma.html#proc/reset_asthma">reset_asthma</a></th><td>Resets our asthma to normal. No inflammation, no pressure mult.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/albuterol_immediate_reduction_mult"><aside class="declaration">var </aside>albuterol_immediate_reduction_mult <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/quirks/negative_quirks/asthma.dm#L37"><img src="git.png" width="16" height="16" title="code/datums/quirks/negative_quirks/asthma.dm 37"></a></h3><p>When albuterol is inhaled, inflammation will be reduced via (inhaled_albuterol * albuterol_inflammation_reduction * albuterol_immediate_reduction_mult)</p><h3 id="var/albuterol_inflammation_reduction"><aside class="declaration">var </aside>albuterol_inflammation_reduction <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/quirks/negative_quirks/asthma.dm#L35"><img src="git.png" width="16" height="16" title="code/datums/quirks/negative_quirks/asthma.dm 35"></a></h3><p>If [inhaled_albuterol] is above 0, we will reduce inflammation by this much per tick.</p><h3 id="var/asthma_attack_rarities"><aside class="declaration">var </aside>asthma_attack_rarities <aside>– /static/list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/quirks/negative_quirks/asthma.dm#L56"><img src="git.png" width="16" height="16" title="code/datums/quirks/negative_quirks/asthma.dm 56"></a></h3><p>Assoc list of (/datum/disease/asthma_attack typepath -&gt; number). Used in pickweight for when we pick a random asthma attack to apply.</p><h3 id="var/chance_for_attack_to_happen_per_second"><aside class="declaration">var </aside>chance_for_attack_to_happen_per_second <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/quirks/negative_quirks/asthma.dm#L53"><img src="git.png" width="16" height="16" title="code/datums/quirks/negative_quirks/asthma.dm 53"></a></h3><p>Every second, an asthma attack can happen via this probability. 0-1.</p><h3 id="var/current_attack"><aside class="declaration">var </aside>current_attack <aside>– /<a href="datum.html">datum</a>/<a href="datum/disease.html">disease</a>/<a href="datum/disease/asthma_attack.html">asthma_attack</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/quirks/negative_quirks/asthma.dm#L40"><img src="git.png" width="16" height="16" title="code/datums/quirks/negative_quirks/asthma.dm 40"></a></h3><p>The current asthma attack trying to kill our owner.</p><h3 id="var/histamine_OD_inflammation"><aside class="declaration">var </aside>histamine_OD_inflammation <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/quirks/negative_quirks/asthma.dm#L30"><img src="git.png" width="16" height="16" title="code/datums/quirks/negative_quirks/asthma.dm 30"></a></h3><p>If our owner is ODing on histamine, inflammation will increase by this per tick.</p><h3 id="var/histamine_inflammation"><aside class="declaration">var </aside>histamine_inflammation <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/quirks/negative_quirks/asthma.dm#L28"><img src="git.png" width="16" height="16" title="code/datums/quirks/negative_quirks/asthma.dm 28"></a></h3><p>If our owner is metabolizing histamine, inflammation will increase by this per tick.</p><h3 id="var/hit_max_mult_at_inflammation_percent"><aside class="declaration">var </aside>hit_max_mult_at_inflammation_percent <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/quirks/negative_quirks/asthma.dm#L14"><img src="git.png" width="16" height="16" title="code/datums/quirks/negative_quirks/asthma.dm 14"></a></h3><p>At this percentage of inflammation, our lung pressure mult reaches 0. From 0-1.</p><h3 id="var/inflammation"><aside class="declaration">var </aside>inflammation <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/quirks/negative_quirks/asthma.dm#L17"><img src="git.png" width="16" height="16" title="code/datums/quirks/negative_quirks/asthma.dm 17"></a></h3><p>Current inflammation of the lungs.</p><h3 id="var/inflammation_on_smoke"><aside class="declaration">var </aside>inflammation_on_smoke <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/quirks/negative_quirks/asthma.dm#L25"><img src="git.png" width="16" height="16" title="code/datums/quirks/negative_quirks/asthma.dm 25"></a></h3><p>The amount of inflammation we will receive when our owner breathes smoke.</p><h3 id="var/inhaled_albuterol"><aside class="declaration">var </aside>inhaled_albuterol <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/quirks/negative_quirks/asthma.dm#L33"><img src="git.png" width="16" height="16" title="code/datums/quirks/negative_quirks/asthma.dm 33"></a></h3><p>A tracker variable for how much albuterol has been inhaled.</p><h3 id="var/max_inflammation"><aside class="declaration">var </aside>max_inflammation <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/quirks/negative_quirks/asthma.dm#L19"><img src="git.png" width="16" height="16" title="code/datums/quirks/negative_quirks/asthma.dm 19"></a></h3><p>Highest possible inflammation. Interacts with [hit_max_mult_at_inflammation_percent]</p><h3 id="var/max_time_between_attacks"><aside class="declaration">var </aside>max_time_between_attacks <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/quirks/negative_quirks/asthma.dm#L50"><img src="git.png" width="16" height="16" title="code/datums/quirks/negative_quirks/asthma.dm 50"></a></h3><p>After an attack ends, this is the maximum time we must wait before we attack again.</p><h3 id="var/min_time_between_attacks"><aside class="declaration">var </aside>min_time_between_attacks <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/quirks/negative_quirks/asthma.dm#L48"><img src="git.png" width="16" height="16" title="code/datums/quirks/negative_quirks/asthma.dm 48"></a></h3><p>After an attack ends, this is the minimum time we must wait before we attack again.</p><h3 id="var/next_attack_cooldown"><aside class="declaration">var </aside>next_attack_cooldown <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/quirks/negative_quirks/asthma.dm#L42"><img src="git.png" width="16" height="16" title="code/datums/quirks/negative_quirks/asthma.dm 42"></a></h3><p>Can we cause an asthma attack?</p><h3 id="var/passive_inflammation_reduction"><aside class="declaration">var </aside>passive_inflammation_reduction <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/quirks/negative_quirks/asthma.dm#L22"><img src="git.png" width="16" height="16" title="code/datums/quirks/negative_quirks/asthma.dm 22"></a></h3><p>The amount [inflammation] reduces every second while our owner is off stasis and alive.</p><h3 id="var/time_first_attack_can_happen"><aside class="declaration">var </aside>time_first_attack_can_happen <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/quirks/negative_quirks/asthma.dm#L45"><img src="git.png" width="16" height="16" title="code/datums/quirks/negative_quirks/asthma.dm 45"></a></h3><p>world.time + this is the time the first attack can happen. Used on spawn.</p><h2 id="proc">Proc Details</h2><h3 id="proc/adjust_albuterol_levels"><aside class="declaration">proc </aside>adjust_albuterol_levels<aside>(adjustment)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/quirks/negative_quirks/asthma.dm#L158"><img src="git.png" width="16" height="16" title="code/datums/quirks/negative_quirks/asthma.dm 158"></a></aside></h3><p>Setter proc for [inhaled_albuterol]. Adjusts inflammation immediately.</p><h3 id="proc/adjust_inflammation"><aside class="declaration">proc </aside>adjust_inflammation<aside>(amount, silent)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/quirks/negative_quirks/asthma.dm#L135"><img src="git.png" width="16" height="16" title="code/datums/quirks/negative_quirks/asthma.dm 135"></a></aside></h3><p>Setter proc for [inflammation]. Adjusts the amount by lung health, adjusts pressure mult, gives feedback messages if silent is FALSE.</p><h3 id="proc/attack_deleting"><aside class="declaration">proc </aside>attack_deleting<aside>(/<a href="datum.html">datum</a>/signal_source)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/quirks/negative_quirks/asthma.dm#L231"><img src="git.png" width="16" height="16" title="code/datums/quirks/negative_quirks/asthma.dm 231"></a></aside></h3><p>Signal proc for when our asthma attack qdels. Unsets our refs to it and resets [next_attack_cooldown].</p><h3 id="proc/do_asthma_attack"><aside class="declaration">proc </aside>do_asthma_attack<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/quirks/negative_quirks/asthma.dm#L124"><img src="git.png" width="16" height="16" title="code/datums/quirks/negative_quirks/asthma.dm 124"></a></aside></h3><p>Causes an asthma attack via infecting our owner with the attack disease. Notifies ghosts.</p><h3 id="proc/do_inflammation_change_feedback"><aside class="declaration">proc </aside>do_inflammation_change_feedback<aside>(difference)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/quirks/negative_quirks/asthma.dm#L176"><img src="git.png" width="16" height="16" title="code/datums/quirks/negative_quirks/asthma.dm 176"></a></aside></h3><p>Sends feedback to our owner of which direction our asthma is intensifying/recovering.</p><h3 id="proc/exposed_to_reagents"><aside class="declaration">proc </aside>exposed_to_reagents<aside>(/<a href="atom.html">atom</a>/source, /list/reagents, /<a href="datum.html">datum</a>/<a href="datum/reagents.html">reagents</a>/source_reagents, methods, show_message)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/quirks/negative_quirks/asthma.dm#L214"><img src="git.png" width="16" height="16" title="code/datums/quirks/negative_quirks/asthma.dm 214"></a></aside></h3><p>Signal proc for when our owner receives reagents. If we receive albuterol via inhalation, we adjust inhaled albuterol by that amount. If we are smoking, we increase inflammation.</p><h3 id="proc/get_lung_health_mult"><aside class="declaration">proc </aside>get_lung_health_mult<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/quirks/negative_quirks/asthma.dm#L191"><img src="git.png" width="16" height="16" title="code/datums/quirks/negative_quirks/asthma.dm 191"></a></aside></h3><p>Returns the % of health our lungs have, from 1-0. Used in reducing recovery and intensifying inflammation.</p><h3 id="proc/get_pressure_mult"><aside class="declaration">proc </aside>get_pressure_mult<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/quirks/negative_quirks/asthma.dm#L170"><img src="git.png" width="16" height="16" title="code/datums/quirks/negative_quirks/asthma.dm 170"></a></aside></h3><p>Returns the pressure mult to be applied to our lungs.</p><h3 id="proc/holder_exposed_to_smoke"><aside class="declaration">proc </aside>holder_exposed_to_smoke<aside>(/<a href="datum.html">datum</a>/signal_source, seconds_per_tick)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/quirks/negative_quirks/asthma.dm#L201"><img src="git.png" width="16" height="16" title="code/datums/quirks/negative_quirks/asthma.dm 201"></a></aside></h3><p>Signal proc for when we are exposed to smoke. Increases inflammation.</p><h3 id="proc/on_full_heal"><aside class="declaration">proc </aside>on_full_heal<aside>(/<a href="datum.html">datum</a>/signal_source, heal_flags)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/quirks/negative_quirks/asthma.dm#L240"><img src="git.png" width="16" height="16" title="code/datums/quirks/negative_quirks/asthma.dm 240"></a></aside></h3><p>Signal handler for COMSIG_LIVING_POST_FULLY_HEAL. Heals our asthma.</p><h3 id="proc/organ_removed"><aside class="declaration">proc </aside>organ_removed<aside>(/<a href="datum.html">datum</a>/signal_source, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/organ.html">organ</a>/removed)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/quirks/negative_quirks/asthma.dm#L207"><img src="git.png" width="16" height="16" title="code/datums/quirks/negative_quirks/asthma.dm 207"></a></aside></h3><p>Signal proc for when our lungs are removed. Resets all our variables.</p><h3 id="proc/reset_asthma"><aside class="declaration">proc </aside>reset_asthma<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/quirks/negative_quirks/asthma.dm#L247"><img src="git.png" width="16" height="16" title="code/datums/quirks/negative_quirks/asthma.dm 247"></a></aside></h3><p>Resets our asthma to normal. No inflammation, no pressure mult.</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>