<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/asset_transport/webroot - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/asset_transport/webroot.html#proc">Proc Details</a></header><main><h1>webroot <aside>/<a href="datum.html">datum</a>/<a href="datum/asset_transport.html">asset_transport</a>/<a href="datum/asset_transport/webroot.html">webroot</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/asset_cache/transports/webroot_transport.dm#L2"><img src="git.png" width="16" height="16" title="code/modules/asset_cache/transports/webroot_transport.dm 2"></a></h1><p>CDN Webroot asset transport.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/asset_transport/webroot.html#proc/get_asset_url">get_asset_url</a></th><td>Returns a url for a given asset.
asset_name - Name of the asset.
asset_cache_item - asset cache item datum for the asset, optional, overrides asset_name</td></tr><tr><th><a href="datum/asset_transport/webroot.html#proc/load_existing_assets">load_existing_assets</a></th><td>Processes thru any assets that were registered before we were loaded as a transport.</td></tr><tr><th><a href="datum/asset_transport/webroot.html#proc/register_asset">register_asset</a></th><td>Register a browser asset with the asset cache system
We also save it to the CDN webroot at this step instead of waiting for send_assets()
asset_name - the identifier of the asset
asset - the actual asset file or an asset_cache_item datum.</td></tr><tr><th><a href="datum/asset_transport/webroot.html#proc/save_asset_to_webroot">save_asset_to_webroot</a></th><td>Saves the asset to the webroot taking into account namespaces and hashes.</td></tr><tr><th><a href="datum/asset_transport/webroot.html#proc/send_assets">send_assets</a></th><td>webroot asset sending - does nothing unless passed legacy assets</td></tr><tr><th><a href="datum/asset_transport/webroot.html#proc/send_assets_slow">send_assets_slow</a></th><td>webroot slow asset sending - does nothing.</td></tr></table><h2 id="proc">Proc Details</h2><h3 id="proc/get_asset_url"><aside class="parent"><a title="/datum/asset_transport" href="datum/asset_transport.html#proc/get_asset_url">↑</a></aside>get_asset_url<aside>(asset_name, /<a href="datum.html">datum</a>/<a href="datum/asset_cache_item.html">asset_cache_item</a>/asset_cache_item)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/asset_cache/transports/webroot_transport.dm#L39"><img src="git.png" width="16" height="16" title="code/modules/asset_cache/transports/webroot_transport.dm 39"></a></aside></h3><p>Returns a url for a given asset.
asset_name - Name of the asset.
asset_cache_item - asset cache item datum for the asset, optional, overrides asset_name</p><h3 id="proc/load_existing_assets"><aside class="declaration">proc </aside>load_existing_assets<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/asset_cache/transports/webroot_transport.dm#L10"><img src="git.png" width="16" height="16" title="code/modules/asset_cache/transports/webroot_transport.dm 10"></a></aside></h3><p>Processes thru any assets that were registered before we were loaded as a transport.</p><h3 id="proc/register_asset"><aside class="parent"><a title="/datum/asset_transport" href="datum/asset_transport.html#proc/register_asset">↑</a></aside>register_asset<aside>(asset_name, asset, file_hash, dmi_path)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/asset_cache/transports/webroot_transport.dm#L19"><img src="git.png" width="16" height="16" title="code/modules/asset_cache/transports/webroot_transport.dm 19"></a></aside></h3><p>Register a browser asset with the asset cache system
We also save it to the CDN webroot at this step instead of waiting for send_assets()
asset_name - the identifier of the asset
asset - the actual asset file or an asset_cache_item datum.</p><h3 id="proc/save_asset_to_webroot"><aside class="declaration">proc </aside>save_asset_to_webroot<aside>(/<a href="datum.html">datum</a>/<a href="datum/asset_cache_item.html">asset_cache_item</a>/ACI)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/asset_cache/transports/webroot_transport.dm#L27"><img src="git.png" width="16" height="16" title="code/modules/asset_cache/transports/webroot_transport.dm 27"></a></aside></h3><p>Saves the asset to the webroot taking into account namespaces and hashes.</p><h3 id="proc/send_assets"><aside class="parent"><a title="/datum/asset_transport" href="datum/asset_transport.html#proc/send_assets">↑</a></aside>send_assets<aside>(/<a href="client.html">client</a>/client, /list/asset_list)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/asset_cache/transports/webroot_transport.dm#L56"><img src="git.png" width="16" height="16" title="code/modules/asset_cache/transports/webroot_transport.dm 56"></a></aside></h3><p>webroot asset sending - does nothing unless passed legacy assets</p><h3 id="proc/send_assets_slow"><aside class="parent"><a title="/datum/asset_transport" href="datum/asset_transport.html#proc/send_assets_slow">↑</a></aside>send_assets_slow<aside>(/<a href="client.html">client</a>/client, /list/files, filerate)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/asset_cache/transports/webroot_transport.dm#L75"><img src="git.png" width="16" height="16" title="code/modules/asset_cache/transports/webroot_transport.dm 75"></a></aside></h3><p>webroot slow asset sending - does nothing.</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>