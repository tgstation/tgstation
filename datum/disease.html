<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/disease - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> â€” <a href="datum/disease.html#var">Var Details</a> - <a href="datum/disease.html#proc">Proc Details</a></header><main><h1>disease <aside>/<a href="datum.html">datum</a>/<a href="datum/disease.html">disease</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/diseases/_disease.dm#L1"><img src="git.png" width="16" height="16" title="code/datums/diseases/_disease.dm 1"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/disease.html#var/chemical_offsets">chemical_offsets</a></th><td>Number of cycles we've benefited from chemical or other non-resting symptom protection</td></tr><tr><th><a href="datum/disease.html#var/cure_chance">cure_chance</a></th><td>The probability of this infection being cured every second the cure is present</td></tr><tr><th><a href="datum/disease.html#var/cycles_to_beat">cycles_to_beat</a></th><td>How many cycles do we need to have been active after hitting our max stage to start rolling back?</td></tr><tr><th><a href="datum/disease.html#var/incubation_time">incubation_time</a></th><td>How long this infection incubates (non-visible) before revealing itself</td></tr><tr><th><a href="datum/disease.html#var/infectivity">infectivity</a></th><td>The probability of spreading through the air every second</td></tr><tr><th><a href="datum/disease.html#var/peaked_cycles">peaked_cycles</a></th><td>How many cycles has the virus been at its peak?</td></tr><tr><th><a href="datum/disease.html#var/required_organ">required_organ</a></th><td>If the disease requires an organ for the effects to function, robotic organs are immune to disease unless inorganic biology symptom is present</td></tr><tr><th><a href="datum/disease.html#var/stage_peaked">stage_peaked</a></th><td>Has the virus hit its limit?</td></tr><tr><th><a href="datum/disease.html#var/stage_prob">stage_prob</a></th><td>The probability of this infection advancing a stage every second the cure is not present.</td></tr><tr><th><a href="datum/disease.html#var/symptom_offsets">symptom_offsets</a></th><td>Number of cycles we've prevented symptoms from appearing</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/disease.html#proc/admin_details">admin_details</a></th><td>Returns a string for admin logging uses, should describe the disease in detail</td></tr><tr><th><a href="datum/disease.html#proc/airborne_spread">airborne_spread</a></th><td>Handles performing a spread-via-air</td></tr><tr><th><a href="datum/disease.html#proc/has_required_infectious_organ">has_required_infectious_organ</a></th><td>Checks if the mob has the required organ and it's not robotic or affected by inorganic biology</td></tr><tr><th><a href="datum/disease.html#proc/is_viable_mobtype">is_viable_mobtype</a></th><td>Checks the given typepath against the list of viable mobtypes.</td></tr><tr><th><a href="datum/disease.html#proc/on_breath">on_breath</a></th><td>Handles spreading via air when our mob breathes</td></tr><tr><th><a href="datum/disease.html#proc/register_disease_signals">register_disease_signals</a></th><td>Register any relevant signals for the disease</td></tr><tr><th><a href="datum/disease.html#proc/stage_act">stage_act</a></th><td>Proc to process the disease and decide on whether to advance, cure or make the symptoms appear. Returns a boolean on whether to continue acting on the symptoms or not.</td></tr><tr><th><a href="datum/disease.html#proc/unregister_disease_signals">unregister_disease_signals</a></th><td>Unregister any relevant signals for the disease</td></tr><tr><th><a href="datum/disease.html#proc/update_spread_flags">update_spread_flags</a></th><td>Updates the spread flags set, ensuring signals are updated as necessary</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/chemical_offsets"><aside class="declaration">var </aside>chemical_offsets <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/diseases/_disease.dm#L31"><img src="git.png" width="16" height="16" title="code/datums/diseases/_disease.dm 31"></a></h3><p>Number of cycles we've benefited from chemical or other non-resting symptom protection</p><h3 id="var/cure_chance"><aside class="declaration">var </aside>cure_chance <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/diseases/_disease.dm#L40"><img src="git.png" width="16" height="16" title="code/datums/diseases/_disease.dm 40"></a></h3><p>The probability of this infection being cured every second the cure is present</p><h3 id="var/cycles_to_beat"><aside class="declaration">var </aside>cycles_to_beat <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/diseases/_disease.dm#L27"><img src="git.png" width="16" height="16" title="code/datums/diseases/_disease.dm 27"></a></h3><p>How many cycles do we need to have been active after hitting our max stage to start rolling back?</p><h3 id="var/incubation_time"><aside class="declaration">var </aside>incubation_time <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/diseases/_disease.dm#L21"><img src="git.png" width="16" height="16" title="code/datums/diseases/_disease.dm 21"></a></h3><p>How long this infection incubates (non-visible) before revealing itself</p><h3 id="var/infectivity"><aside class="declaration">var </aside>infectivity <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/diseases/_disease.dm#L38"><img src="git.png" width="16" height="16" title="code/datums/diseases/_disease.dm 38"></a></h3><p>The probability of spreading through the air every second</p><h3 id="var/peaked_cycles"><aside class="declaration">var </aside>peaked_cycles <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/diseases/_disease.dm#L25"><img src="git.png" width="16" height="16" title="code/datums/diseases/_disease.dm 25"></a></h3><p>How many cycles has the virus been at its peak?</p><h3 id="var/required_organ"><aside class="declaration">var </aside>required_organ <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/diseases/_disease.dm#L46"><img src="git.png" width="16" height="16" title="code/datums/diseases/_disease.dm 46"></a></h3><p>If the disease requires an organ for the effects to function, robotic organs are immune to disease unless inorganic biology symptom is present</p><h3 id="var/stage_peaked"><aside class="declaration">var </aside>stage_peaked <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/diseases/_disease.dm#L23"><img src="git.png" width="16" height="16" title="code/datums/diseases/_disease.dm 23"></a></h3><p>Has the virus hit its limit?</p><h3 id="var/stage_prob"><aside class="declaration">var </aside>stage_prob <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/diseases/_disease.dm#L19"><img src="git.png" width="16" height="16" title="code/datums/diseases/_disease.dm 19"></a></h3><p>The probability of this infection advancing a stage every second the cure is not present.</p><h3 id="var/symptom_offsets"><aside class="declaration">var </aside>symptom_offsets <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/diseases/_disease.dm#L29"><img src="git.png" width="16" height="16" title="code/datums/diseases/_disease.dm 29"></a></h3><p>Number of cycles we've prevented symptoms from appearing</p><h2 id="proc">Proc Details</h2><h3 id="proc/admin_details"><aside class="declaration">proc </aside>admin_details<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__HELPERS/logging/virus.dm#L6"><img src="git.png" width="16" height="16" title="code/__HELPERS/logging/virus.dm 6"></a></aside></h3><p>Returns a string for admin logging uses, should describe the disease in detail</p><h3 id="proc/airborne_spread"><aside class="declaration">proc </aside>airborne_spread<aside>(spread_range, force_spread, require_facing)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/diseases/_disease.dm#L263"><img src="git.png" width="16" height="16" title="code/datums/diseases/_disease.dm 263"></a></aside></h3><p>Handles performing a spread-via-air</p>
<p>Checks for stuff like &quot;is our mouth covered&quot; for you</p>
<ul>
<li>spread_range - How far the disease can spread</li>
<li>force_spread - If TRUE, the disease will spread regardless of the spread_flags</li>
<li>require_facing - If TRUE, the disease will only spread if the source mob is facing the target mob</li>
</ul><h3 id="proc/has_required_infectious_organ"><aside class="declaration">proc </aside>has_required_infectious_organ<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/target, required_organ_slot)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/diseases/_disease.dm#L367"><img src="git.png" width="16" height="16" title="code/datums/diseases/_disease.dm 367"></a></aside></h3><p>Checks if the mob has the required organ and it's not robotic or affected by inorganic biology</p><h3 id="proc/is_viable_mobtype"><aside class="declaration">proc </aside>is_viable_mobtype<aside>(mob_type)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/diseases/_disease.dm#L355"><img src="git.png" width="16" height="16" title="code/datums/diseases/_disease.dm 355"></a></aside></h3><p>Checks the given typepath against the list of viable mobtypes.</p>
<p>Returns TRUE if the mob_type path is derived from of any entry in the viable_mobtypes list.
Returns FALSE otherwise.</p>
<p>Arguments:</p>
<ul>
<li>mob_type - Type path to check against the viable_mobtypes list.</li>
</ul><h3 id="proc/on_breath"><aside class="declaration">proc </aside>on_breath<aside>(/<a href="datum.html">datum</a>/source, seconds_per_tick, ...)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/diseases/_disease.dm#L382"><img src="git.png" width="16" height="16" title="code/datums/diseases/_disease.dm 382"></a></aside></h3><p>Handles spreading via air when our mob breathes</p><h3 id="proc/register_disease_signals"><aside class="declaration">proc </aside>register_disease_signals<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/diseases/_disease.dm#L88"><img src="git.png" width="16" height="16" title="code/datums/diseases/_disease.dm 88"></a></aside></h3><p>Register any relevant signals for the disease</p><h3 id="proc/stage_act"><aside class="declaration">proc </aside>stage_act<aside>(seconds_per_tick, times_fired)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/diseases/_disease.dm#L101"><img src="git.png" width="16" height="16" title="code/datums/diseases/_disease.dm 101"></a></aside></h3><p>Proc to process the disease and decide on whether to advance, cure or make the symptoms appear. Returns a boolean on whether to continue acting on the symptoms or not.</p><h3 id="proc/unregister_disease_signals"><aside class="declaration">proc </aside>unregister_disease_signals<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/diseases/_disease.dm#L95"><img src="git.png" width="16" height="16" title="code/datums/diseases/_disease.dm 95"></a></aside></h3><p>Unregister any relevant signals for the disease</p><h3 id="proc/update_spread_flags"><aside class="declaration">proc </aside>update_spread_flags<aside>(new_flags)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/diseases/_disease.dm#L79"><img src="git.png" width="16" height="16" title="code/datums/diseases/_disease.dm 79"></a></aside></h3><p>Updates the spread flags set, ensuring signals are updated as necessary</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/c41b333c9bc46606d2c5d5b517f7836d5953fbfd">c41b333</a> (master) â€” <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>