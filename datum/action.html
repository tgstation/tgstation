<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/action - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/action.html#var">Var Details</a> - <a href="datum/action.html#proc">Proc Details</a></header><main><h1>Action system <aside>/<a href="datum.html">datum</a>/<a href="datum/action.html">action</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L6"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 6"></a></h1><p>A simple base for an modular behavior attached to atom or datum.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/action.html#var/action_disabled">action_disabled</a></th><td>Toggles whether this action is usable or not</td></tr><tr><th><a href="datum/action.html#var/allow_observer_click">allow_observer_click</a></th><td>If observers can click this action at any time, regardless of the owner</td></tr><tr><th><a href="datum/action.html#var/background_icon">background_icon</a></th><td>This is the file for the BACKGROUND underlay icon of the button</td></tr><tr><th><a href="datum/action.html#var/background_icon_state">background_icon_state</a></th><td>This is the icon state state for the BACKGROUND underlay icon of the button
(If set to ACTION_BUTTON_DEFAULT_BACKGROUND, uses the hud's default background)</td></tr><tr><th><a href="datum/action.html#var/button_icon">button_icon</a></th><td>This is the file for the icon that appears on the button</td></tr><tr><th><a href="datum/action.html#var/button_icon_state">button_icon_state</a></th><td>This is the icon state for the icon that appears on the button</td></tr><tr><th><a href="datum/action.html#var/buttontooltipstyle">buttontooltipstyle</a></th><td>The style the button's tooltips appear to be</td></tr><tr><th><a href="datum/action.html#var/can_be_shared">can_be_shared</a></th><td>Can this action be shared with our rider?</td></tr><tr><th><a href="datum/action.html#var/check_flags">check_flags</a></th><td>Flags that will determine of the owner / user of the action can... use the action</td></tr><tr><th><a href="datum/action.html#var/default_button_position">default_button_position</a></th><td>Where any buttons we create should be by default. Accepts screen_loc and location defines</td></tr><tr><th><a href="datum/action.html#var/desc">desc</a></th><td>The description of what the action does, shown in button tooltips</td></tr><tr><th><a href="datum/action.html#var/full_key">full_key</a></th><td>full key we are bound to</td></tr><tr><th><a href="datum/action.html#var/name">name</a></th><td>The name of the action</td></tr><tr><th><a href="datum/action.html#var/overlay_icon">overlay_icon</a></th><td>This is the file for any FOREGROUND overlay icons on the button (such as borders)</td></tr><tr><th><a href="datum/action.html#var/overlay_icon_state">overlay_icon_state</a></th><td>This is the icon state for any FOREGROUND overlay icons on the button (such as borders)</td></tr><tr><th><a href="datum/action.html#var/owner">owner</a></th><td>This is who currently owns the action, and most often, this is who is using the action if it is triggered
This can be the same as &quot;target&quot; but is not ALWAYS the same - this is set and unset with Grant() and Remove()</td></tr><tr><th><a href="datum/action.html#var/owner_has_control">owner_has_control</a></th><td>If False, the owner of this action does not get a hud and cannot activate it on their own</td></tr><tr><th><a href="datum/action.html#var/show_to_observers">show_to_observers</a></th><td>If TRUE, this action button will be shown to observers / other mobs who view from this action's owner's eyes.
Used in <a href="mob.html#proc/show_other_mob_action_buttons" title="/mob">/mob/proc/show_other_mob_action_buttons</a></td></tr><tr><th><a href="datum/action.html#var/target">target</a></th><td>The target the action is attached to. If the target datum is deleted, the action is as well.
Set in New() via the proc link_to(). PLEASE set a target if you're making an action</td></tr><tr><th><a href="datum/action.html#var/transparent_when_unavailable">transparent_when_unavailable</a></th><td>Whether the button becomes transparent when it can't be used, or just reddened</td></tr><tr><th><a href="datum/action.html#var/viewers">viewers</a></th><td>List of all mobs that are viewing our action button -&gt; A unique movable for them to view.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/action.html#proc/GiveAction">GiveAction</a></th><td>Gives our action to the passed viewer.
Puts our action in their actions list and shows them the button.</td></tr><tr><th><a href="datum/action.html#proc/Grant">Grant</a></th><td>Grants the action to the passed mob, making it the owner</td></tr><tr><th><a href="datum/action.html#proc/HideFrom">HideFrom</a></th><td>Removes our action from the passed viewer.</td></tr><tr><th><a href="datum/action.html#proc/IsAvailable">IsAvailable</a></th><td>Whether our action is currently available to use or not</td></tr><tr><th><a href="datum/action.html#proc/Remove">Remove</a></th><td>Remove the passed mob from being owner of our action</td></tr><tr><th><a href="datum/action.html#proc/ShowTo">ShowTo</a></th><td>Adds our action button to the screen of the passed viewer.</td></tr><tr><th><a href="datum/action.html#proc/Trigger">Trigger</a></th><td>Actually triggers the effects of the action.
Called when the on-screen button is clicked, for example.</td></tr><tr><th><a href="datum/action.html#proc/apply_button_background">apply_button_background</a></th><td>Creates the background underlay for the button</td></tr><tr><th><a href="datum/action.html#proc/apply_button_icon">apply_button_icon</a></th><td>Applies our button icon and icon state to the button</td></tr><tr><th><a href="datum/action.html#proc/apply_button_overlay">apply_button_overlay</a></th><td>Applies any overlays to our button</td></tr><tr><th><a href="datum/action.html#proc/build_all_button_icons">build_all_button_icons</a></th><td>Builds / updates all buttons we have shared or given out</td></tr><tr><th><a href="datum/action.html#proc/build_button_icon">build_button_icon</a></th><td>Builds the icon of the button.</td></tr><tr><th><a href="datum/action.html#proc/clear_ref">clear_ref</a></th><td>Signal proc that clears any references based on the owner or target deleting
If the owner's deleted, we will simply remove from them, but if the target's deleted, we will self-delete</td></tr><tr><th><a href="datum/action.html#proc/create_button">create_button</a></th><td>Creates an action button movable for the passed mob, and returns it.</td></tr><tr><th><a href="datum/action.html#proc/is_action_active">is_action_active</a></th><td>Checks if our action is actively selected. Used for selecting icons primarily.</td></tr><tr><th><a href="datum/action.html#proc/link_to">link_to</a></th><td>Links the passed target to our action, registering any relevant signals</td></tr><tr><th><a href="datum/action.html#proc/on_target_icon_update">on_target_icon_update</a></th><td>Updates our buttons if our target's icon was updated</td></tr><tr><th><a href="datum/action.html#proc/on_target_mind_swapped">on_target_mind_swapped</a></th><td>Signal proc for COMSIG_MIND_TRANSFERRED - for minds, transfers our action to our new mob on mind transfer</td></tr><tr><th><a href="datum/action.html#proc/set_key">set_key</a></th><td>Used for setting the keybind via external sources.</td></tr><tr><th><a href="datum/action.html#proc/update_button_name">update_button_name</a></th><td>Updates the name and description of the button to match our action name and discription.</td></tr><tr><th><a href="datum/action.html#proc/update_button_status">update_button_status</a></th><td>Any other miscellaneous &quot;status&quot; updates within the action button is handled here,
such as redding out when unavailable or modifying maptext.</td></tr><tr><th><a href="datum/action.html#proc/update_status_on_signal">update_status_on_signal</a></th><td>A general use signal proc that reacts to an event and updates JUST our button's status</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/action_disabled"><aside class="declaration">var </aside>action_disabled <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L56"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 56"></a></h3><p>Toggles whether this action is usable or not</p><h3 id="var/allow_observer_click"><aside class="declaration">var </aside>allow_observer_click <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L31"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 31"></a></h3><p>If observers can click this action at any time, regardless of the owner</p><h3 id="var/background_icon"><aside class="declaration">var </aside>background_icon <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L37"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 37"></a></h3><p>This is the file for the BACKGROUND underlay icon of the button</p><h3 id="var/background_icon_state"><aside class="declaration">var </aside>background_icon_state <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L40"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 40"></a></h3><p>This is the icon state state for the BACKGROUND underlay icon of the button
(If set to ACTION_BUTTON_DEFAULT_BACKGROUND, uses the hud's default background)</p><h3 id="var/button_icon"><aside class="declaration">var </aside>button_icon <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L43"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 43"></a></h3><p>This is the file for the icon that appears on the button</p><h3 id="var/button_icon_state"><aside class="declaration">var </aside>button_icon_state <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L45"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 45"></a></h3><p>This is the icon state for the icon that appears on the button</p><h3 id="var/buttontooltipstyle"><aside class="declaration">var </aside>buttontooltipstyle <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L34"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 34"></a></h3><p>The style the button's tooltips appear to be</p><h3 id="var/can_be_shared"><aside class="declaration">var </aside>can_be_shared <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L58"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 58"></a></h3><p>Can this action be shared with our rider?</p><h3 id="var/check_flags"><aside class="declaration">var </aside>check_flags <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L22"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 22"></a></h3><p>Flags that will determine of the owner / user of the action can... use the action</p><h3 id="var/default_button_position"><aside class="declaration">var </aside>default_button_position <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L15"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 15"></a></h3><p>Where any buttons we create should be by default. Accepts screen_loc and location defines</p><h3 id="var/desc"><aside class="declaration">var </aside>desc <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L10"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 10"></a></h3><p>The description of what the action does, shown in button tooltips</p><h3 id="var/full_key"><aside class="declaration">var </aside>full_key <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L53"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 53"></a></h3><p>full key we are bound to</p><h3 id="var/name"><aside class="declaration">var </aside>name <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L8"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 8"></a></h3><p>The name of the action</p><h3 id="var/overlay_icon"><aside class="declaration">var </aside>overlay_icon <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L48"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 48"></a></h3><p>This is the file for any FOREGROUND overlay icons on the button (such as borders)</p><h3 id="var/overlay_icon_state"><aside class="declaration">var </aside>overlay_icon_state <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L50"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 50"></a></h3><p>This is the icon state for any FOREGROUND overlay icons on the button (such as borders)</p><h3 id="var/owner"><aside class="declaration">var </aside>owner <aside>– /<a href="mob.html">mob</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L18"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 18"></a></h3><p>This is who currently owns the action, and most often, this is who is using the action if it is triggered
This can be the same as &quot;target&quot; but is not ALWAYS the same - this is set and unset with Grant() and Remove()</p><h3 id="var/owner_has_control"><aside class="declaration">var </aside>owner_has_control <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L20"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 20"></a></h3><p>If False, the owner of this action does not get a hud and cannot activate it on their own</p><h3 id="var/show_to_observers"><aside class="declaration">var </aside>show_to_observers <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L29"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 29"></a></h3><p>If TRUE, this action button will be shown to observers / other mobs who view from this action's owner's eyes.
Used in <a href="mob.html#proc/show_other_mob_action_buttons" title="/mob">/mob/proc/show_other_mob_action_buttons</a></p><h3 id="var/target"><aside class="declaration">var </aside>target <aside>– /<a href="datum.html">datum</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L13"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 13"></a></h3><p>The target the action is attached to. If the target datum is deleted, the action is as well.
Set in New() via the proc link_to(). PLEASE set a target if you're making an action</p><h3 id="var/transparent_when_unavailable"><aside class="declaration">var </aside>transparent_when_unavailable <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L24"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 24"></a></h3><p>Whether the button becomes transparent when it can't be used, or just reddened</p><h3 id="var/viewers"><aside class="declaration">var </aside>viewers <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L26"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 26"></a></h3><p>List of all mobs that are viewing our action button -&gt; A unique movable for them to view.</p><h2 id="proc">Proc Details</h2><h3 id="proc/GiveAction"><aside class="declaration">proc </aside>GiveAction<aside>(/<a href="mob.html">mob</a>/viewer)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L341"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 341"></a></aside></h3><p>Gives our action to the passed viewer.
Puts our action in their actions list and shows them the button.</p><h3 id="proc/Grant"><aside class="declaration">proc </aside>Grant<aside>(/<a href="mob.html">mob</a>/grant_to)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L91"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 91"></a></aside></h3><p>Grants the action to the passed mob, making it the owner</p><h3 id="proc/HideFrom"><aside class="declaration">proc </aside>HideFrom<aside>(/<a href="mob.html">mob</a>/viewer)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L367"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 367"></a></aside></h3><p>Removes our action from the passed viewer.</p><h3 id="proc/IsAvailable"><aside class="declaration">proc </aside>IsAvailable<aside>(feedback)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L176"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 176"></a></aside></h3><p>Whether our action is currently available to use or not</p>
<ul>
<li>feedback - If true this is being called to check if we have any messages to show to the owner</li>
</ul><h3 id="proc/Remove"><aside class="declaration">proc </aside>Remove<aside>(/<a href="mob.html">mob</a>/remove_from)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L126"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 126"></a></aside></h3><p>Remove the passed mob from being owner of our action</p><h3 id="proc/ShowTo"><aside class="declaration">proc </aside>ShowTo<aside>(/<a href="mob.html">mob</a>/viewer)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L350"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 350"></a></aside></h3><p>Adds our action button to the screen of the passed viewer.</p><h3 id="proc/Trigger"><aside class="declaration">proc </aside>Trigger<aside>(/<a href="mob.html">mob</a>/clicker, trigger_flags)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L165"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 165"></a></aside></h3><p>Actually triggers the effects of the action.
Called when the on-screen button is clicked, for example.</p><h3 id="proc/apply_button_background"><aside class="declaration">proc </aside>apply_button_background<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/<a href="atom/movable/screen.html">screen</a>/<a href="atom/movable/screen/movable.html">movable</a>/<a href="atom/movable/screen/movable/action_button.html">action_button</a>/current_button, force)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L268"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 268"></a></aside></h3><p>Creates the background underlay for the button</p>
<p>current_button - what button are we editing?
force - whether an update is forced regardless of existing status</p><h3 id="proc/apply_button_icon"><aside class="declaration">proc </aside>apply_button_icon<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/<a href="atom/movable/screen.html">screen</a>/<a href="atom/movable/screen/movable.html">movable</a>/<a href="atom/movable/screen/movable/action_button.html">action_button</a>/current_button, force)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L300"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 300"></a></aside></h3><p>Applies our button icon and icon state to the button</p>
<p>current_button - what button are we editing?
force - whether an update is forced regardless of existing status</p><h3 id="proc/apply_button_overlay"><aside class="declaration">proc </aside>apply_button_overlay<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/<a href="atom/movable/screen.html">screen</a>/<a href="atom/movable/screen/movable.html">movable</a>/<a href="atom/movable/screen/movable/action_button.html">action_button</a>/current_button, force)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L313"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 313"></a></aside></h3><p>Applies any overlays to our button</p>
<p>current_button - what button are we editing?
force - whether an update is forced regardless of existing status</p><h3 id="proc/build_all_button_icons"><aside class="declaration">proc </aside>build_all_button_icons<aside>(update_flags, force)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L214"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 214"></a></aside></h3><p>Builds / updates all buttons we have shared or given out</p><h3 id="proc/build_button_icon"><aside class="declaration">proc </aside>build_button_icon<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/<a href="atom/movable/screen.html">screen</a>/<a href="atom/movable/screen/movable.html">movable</a>/<a href="atom/movable/screen/movable/action_button.html">action_button</a>/button, update_flags, force)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L230"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 230"></a></aside></h3><p>Builds the icon of the button.</p>
<p>Concept:</p>
<ul>
<li>Underlay (Background icon)</li>
<li>Icon (button icon)</li>
<li>Maptext</li>
<li>Overlay (Background border)</li>
</ul>
<p>button - which button we are modifying the icon of
force - whether we're forcing a full update</p><h3 id="proc/clear_ref"><aside class="declaration">proc </aside>clear_ref<aside>(/<a href="datum.html">datum</a>/ref)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L83"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 83"></a></aside></h3><p>Signal proc that clears any references based on the owner or target deleting
If the owner's deleted, we will simply remove from them, but if the target's deleted, we will self-delete</p><h3 id="proc/create_button"><aside class="declaration">proc </aside>create_button<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L375"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 375"></a></aside></h3><p>Creates an action button movable for the passed mob, and returns it.</p><h3 id="proc/is_action_active"><aside class="declaration">proc </aside>is_action_active<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/<a href="atom/movable/screen.html">screen</a>/<a href="atom/movable/screen/movable.html">movable</a>/<a href="atom/movable/screen/movable/action_button.html">action_button</a>/current_button)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L432"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 432"></a></aside></h3><p>Checks if our action is actively selected. Used for selecting icons primarily.</p><h3 id="proc/link_to"><aside class="declaration">proc </aside>link_to<aside>(Target)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L64"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 64"></a></aside></h3><p>Links the passed target to our action, registering any relevant signals</p><h3 id="proc/on_target_icon_update"><aside class="declaration">proc </aside>on_target_icon_update<aside>(/<a href="datum.html">datum</a>/source, updates, updated)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L400"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 400"></a></aside></h3><p>Updates our buttons if our target's icon was updated</p><h3 id="proc/on_target_mind_swapped"><aside class="declaration">proc </aside>on_target_mind_swapped<aside>(/<a href="datum.html">datum</a>/<a href="datum/mind.html">mind</a>/source, /<a href="mob.html">mob</a>/old_current)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L425"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 425"></a></aside></h3><p>Signal proc for COMSIG_MIND_TRANSFERRED - for minds, transfers our action to our new mob on mind transfer</p><h3 id="proc/set_key"><aside class="declaration">proc </aside>set_key<aside>(new_full_key)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L457"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 457"></a></aside></h3><p>Used for setting the keybind via external sources.</p><h3 id="proc/update_button_name"><aside class="declaration">proc </aside>update_button_name<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/<a href="atom/movable/screen.html">screen</a>/<a href="atom/movable/screen/movable.html">movable</a>/<a href="atom/movable/screen/movable/action_button.html">action_button</a>/button, force)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L257"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 257"></a></aside></h3><p>Updates the name and description of the button to match our action name and discription.</p>
<p>current_button - what button are we editing?
force - whether an update is forced regardless of existing status</p><h3 id="proc/update_button_status"><aside class="declaration">proc </aside>update_button_status<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/<a href="atom/movable/screen.html">screen</a>/<a href="atom/movable/screen/movable.html">movable</a>/<a href="atom/movable/screen/movable/action_button.html">action_button</a>/current_button, force)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L332"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 332"></a></aside></h3><p>Any other miscellaneous &quot;status&quot; updates within the action button is handled here,
such as redding out when unavailable or modifying maptext.</p>
<p>current_button - what button are we editing?
force - whether an update is forced regardless of existing status</p><h3 id="proc/update_status_on_signal"><aside class="declaration">proc </aside>update_status_on_signal<aside>(/<a href="datum.html">datum</a>/source, new_stat, old_stat)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/actions/action.dm#L419"><img src="git.png" width="16" height="16" title="code/datums/actions/action.dm 419"></a></aside></h3><p>A general use signal proc that reacts to an event and updates JUST our button's status</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>