<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/chemical_reaction - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> â€” <a href="datum/chemical_reaction.html#var">Var Details</a> - <a href="datum/chemical_reaction.html#proc">Proc Details</a></header><main><h1>chemical_reaction <aside>/<a href="datum.html">datum</a>/<a href="datum/chemical_reaction.html">chemical_reaction</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L8"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 8"></a></h1><p>#Chemical Reaction</p>
<p>Datum that makes the magic between reagents happen.</p>
<p>Chemical reactions is a class that is instantiated and stored in a global list 'chemical_reactions_list'</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/chemical_reaction.html#var/H_ion_release">H_ion_release</a></th><td>pH change per 1u reaction</td></tr><tr><th><a href="datum/chemical_reaction.html#var/determin_ph_range">determin_ph_range</a></th><td>How far out pH wil react, giving impurity place (Exponential phase)</td></tr><tr><th><a href="datum/chemical_reaction.html#var/is_cold_recipe">is_cold_recipe</a></th><td>Set to TRUE if you want the recipe to only react when it's BELOW the required temp.</td></tr><tr><th><a href="datum/chemical_reaction.html#var/mix_message">mix_message</a></th><td>The message shown to nearby people upon mixing, if applicable</td></tr><tr><th><a href="datum/chemical_reaction.html#var/mix_sound">mix_sound</a></th><td>The sound played upon mixing, if applicable</td></tr><tr><th><a href="datum/chemical_reaction.html#var/mob_react">mob_react</a></th><td>Determines if a chemical reaction can occur inside a mob</td></tr><tr><th><a href="datum/chemical_reaction.html#var/optimal_ph_max">optimal_ph_max</a></th><td>Higest value for above</td></tr><tr><th><a href="datum/chemical_reaction.html#var/optimal_ph_min">optimal_ph_min</a></th><td>Lowest value of pH determining pH a 1 value for pH based rate reactions (Plateu phase)</td></tr><tr><th><a href="datum/chemical_reaction.html#var/optimal_temp">optimal_temp</a></th><td>Upper end for above (i.e. the end of the curve section defined by temp_exponent_factor)</td></tr><tr><th><a href="datum/chemical_reaction.html#var/overheat_temp">overheat_temp</a></th><td>Temperature at which reaction explodes - If any reaction is this hot, it explodes!</td></tr><tr><th><a href="datum/chemical_reaction.html#var/ph_exponent_factor">ph_exponent_factor</a></th><td>How sharp the pH exponential curve is (to the power of value)</td></tr><tr><th><a href="datum/chemical_reaction.html#var/purity_min">purity_min</a></th><td>If purity is below 0.15, it calls OverlyImpure() too. Set to 0 to disable this.</td></tr><tr><th><a href="datum/chemical_reaction.html#var/rate_up_lim">rate_up_lim</a></th><td>Optimal/max rate possible if all conditions are perfect</td></tr><tr><th><a href="datum/chemical_reaction.html#var/reaction_flags">reaction_flags</a></th><td>bitflags for clear conversions; REACTION_CLEAR_IMPURE, REACTION_CLEAR_INVERSE, REACTION_CLEAR_RETAIN, REACTION_INSTANT</td></tr><tr><th><a href="datum/chemical_reaction.html#var/reaction_tags">reaction_tags</a></th><td>Tagging vars
A bitflag var for tagging reagents for the reagent loopup functon</td></tr><tr><th><a href="datum/chemical_reaction.html#var/required_catalysts">required_catalysts</a></th><td>Required chemicals that must be present in the container but are not USED.</td></tr><tr><th><a href="datum/chemical_reaction.html#var/required_container">required_container</a></th><td>If required_container_accepts_subtypes is FALSE, the exact type of what container this reaction can take place in. Otherwise, what type including subtypes are acceptable.</td></tr><tr><th><a href="datum/chemical_reaction.html#var/required_container_accepts_subtypes">required_container_accepts_subtypes</a></th><td>If required_container will check for the exact type, or will also accept subtypes</td></tr><tr><th><a href="datum/chemical_reaction.html#var/required_other">required_other</a></th><td>Set this to true to call pre_reaction_other_checks() on react and do some more interesting reaction logic</td></tr><tr><th><a href="datum/chemical_reaction.html#var/required_reagents">required_reagents</a></th><td>Required chemicals that are USED in the reaction</td></tr><tr><th><a href="datum/chemical_reaction.html#var/required_temp">required_temp</a></th><td>FermiChem! - See fermi_readme.md
Required temperature for the reaction to begin, for fermimechanics it defines the lower area of bell curve for determining heat based rate reactions, aka the minimum</td></tr><tr><th><a href="datum/chemical_reaction.html#var/results">results</a></th><td>Results of the chemical reactions</td></tr><tr><th><a href="datum/chemical_reaction.html#var/temp_exponent_factor">temp_exponent_factor</a></th><td>How sharp the temperature exponential curve is (to the power of value)</td></tr><tr><th><a href="datum/chemical_reaction.html#var/thermic_constant">thermic_constant</a></th><td>How much the temperature changes per unit of chem used. without REACTION_HEAT_ARBITARY flag the rate of change depends on the holder heat capacity else results are more accurate</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/chemical_reaction.html#proc/chemical_mob_spawn">chemical_mob_spawn</a></th><td>Magical mob spawning when chemicals react</td></tr><tr><th><a href="datum/chemical_reaction.html#proc/clear_products">clear_products</a></th><td>Clears the beaker of the product only</td></tr><tr><th><a href="datum/chemical_reaction.html#proc/clear_reactants">clear_reactants</a></th><td>Clears the beaker of the reagents only
if volume is not set, it will remove all of the reactant</td></tr><tr><th><a href="datum/chemical_reaction.html#proc/clear_reagents">clear_reagents</a></th><td>Clears the beaker of ALL reagents inside</td></tr><tr><th><a href="datum/chemical_reaction.html#proc/default_explode">default_explode</a></th><td>Generic explosions/failures</td></tr><tr><th><a href="datum/chemical_reaction.html#proc/explode_fire">explode_fire</a></th><td>BEGIN FIRE BASED EXPLOSIONS</td></tr><tr><th><a href="datum/chemical_reaction.html#proc/freeze_radius">freeze_radius</a></th><td>END FIRE BASED EXPLOSIONS</td></tr><tr><th><a href="datum/chemical_reaction.html#proc/on_reaction">on_reaction</a></th><td>Shit that happens on reaction
Only procs at the START of a reaction
use reaction_step() for each step of a reaction
or reaction_end() when the reaction stops
If reaction_flags &amp; REACTION_INSTANT then this is the only proc that is called.</td></tr><tr><th><a href="datum/chemical_reaction.html#proc/overheated">overheated</a></th><td>Occurs when a reation is overheated (i.e. past its overheatTemp)
Will be called every tick in the reaction that it is overheated
If you want this to be a once only proc (i.e. the reaction is stopped after) set reaction.toDelete = TRUE
The above is useful if you're writing an explosion
By default the parent proc will reduce the final yield slightly. If you don't want that don't add ..()</td></tr><tr><th><a href="datum/chemical_reaction.html#proc/overly_impure">overly_impure</a></th><td>Occurs when a reation is too impure (i.e. it's below purity_min)
Will be called every tick in the reaction that it is too impure
If you want this to be a once only proc (i.e. the reaction is stopped after) set reaction.toDelete = TRUE
The above is useful if you're writing an explosion
By default the parent proc will reduce the purity of all reagents involved in the reaction in the beaker slightly. If you don't want that don't add ..()</td></tr><tr><th><a href="datum/chemical_reaction.html#proc/pre_reaction_other_checks">pre_reaction_other_checks</a></th><td>REACTION PROCS
Checks if this reaction can occur. Only is ran if required_other is set to TRUE.</td></tr><tr><th><a href="datum/chemical_reaction.html#proc/reaction_clear_check">reaction_clear_check</a></th><td>REACTION_CLEAR handler
If the reaction has the REACTION_CLEAR flag, then it will split using purity methods in the beaker instead</td></tr><tr><th><a href="datum/chemical_reaction.html#proc/reaction_finish">reaction_finish</a></th><td>Stuff that occurs at the end of a reaction. This will proc if the beaker is forced to stop and start again (say for sudden temperature changes).
Only procs at the END of reaction
If reaction_flags &amp; REACTION_INSTANT then this isn't called
if reaction_flags REACTION_CLEAR_IMPURE then the impurity chem is handled here, producing the result in the beaker instead of in a mob
Likewise for REACTION_CLEAR_INVERSE the inverse chem is produced at the end of the reaction in the beaker
You should be calling ..() if you're writing a child function of this proc otherwise purity methods won't work correctly</td></tr><tr><th><a href="datum/chemical_reaction.html#proc/reaction_step">reaction_step</a></th><td>Stuff that occurs in the middle of a reaction
Only procs DURING a reaction
If reaction_flags &amp; REACTION_INSTANT then this isn't called
returning END_REACTION will END the reaction</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/H_ion_release"><aside class="declaration">var </aside>H_ion_release <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L52"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 52"></a></h3><p>pH change per 1u reaction</p><h3 id="var/determin_ph_range"><aside class="declaration">var </aside>determin_ph_range <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L44"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 44"></a></h3><p>How far out pH wil react, giving impurity place (Exponential phase)</p><h3 id="var/is_cold_recipe"><aside class="declaration">var </aside>is_cold_recipe <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L31"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 31"></a></h3><p>Set to TRUE if you want the recipe to only react when it's BELOW the required temp.</p><h3 id="var/mix_message"><aside class="declaration">var </aside>mix_message <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L26"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 26"></a></h3><p>The message shown to nearby people upon mixing, if applicable</p><h3 id="var/mix_sound"><aside class="declaration">var </aside>mix_sound <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L28"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 28"></a></h3><p>The sound played upon mixing, if applicable</p><h3 id="var/mob_react"><aside class="declaration">var </aside>mob_react <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L24"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 24"></a></h3><p>Determines if a chemical reaction can occur inside a mob</p><h3 id="var/optimal_ph_max"><aside class="declaration">var </aside>optimal_ph_max <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L42"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 42"></a></h3><p>Higest value for above</p><h3 id="var/optimal_ph_min"><aside class="declaration">var </aside>optimal_ph_min <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L40"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 40"></a></h3><p>Lowest value of pH determining pH a 1 value for pH based rate reactions (Plateu phase)</p><h3 id="var/optimal_temp"><aside class="declaration">var </aside>optimal_temp <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L36"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 36"></a></h3><p>Upper end for above (i.e. the end of the curve section defined by temp_exponent_factor)</p><h3 id="var/overheat_temp"><aside class="declaration">var </aside>overheat_temp <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L38"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 38"></a></h3><p>Temperature at which reaction explodes - If any reaction is this hot, it explodes!</p><h3 id="var/ph_exponent_factor"><aside class="declaration">var </aside>ph_exponent_factor <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L48"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 48"></a></h3><p>How sharp the pH exponential curve is (to the power of value)</p><h3 id="var/purity_min"><aside class="declaration">var </aside>purity_min <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L56"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 56"></a></h3><p>If purity is below 0.15, it calls OverlyImpure() too. Set to 0 to disable this.</p><h3 id="var/rate_up_lim"><aside class="declaration">var </aside>rate_up_lim <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L54"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 54"></a></h3><p>Optimal/max rate possible if all conditions are perfect</p><h3 id="var/reaction_flags"><aside class="declaration">var </aside>reaction_flags <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L58"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 58"></a></h3><p>bitflags for clear conversions; REACTION_CLEAR_IMPURE, REACTION_CLEAR_INVERSE, REACTION_CLEAR_RETAIN, REACTION_INSTANT</p><h3 id="var/reaction_tags"><aside class="declaration">var </aside>reaction_tags <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L61"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 61"></a></h3><p>Tagging vars
A bitflag var for tagging reagents for the reagent loopup functon</p><h3 id="var/required_catalysts"><aside class="declaration">var </aside>required_catalysts <aside>â€“ /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L14"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 14"></a></h3><p>Required chemicals that must be present in the container but are not USED.</p><h3 id="var/required_container"><aside class="declaration">var </aside>required_container <aside>â€“ /<a href="atom.html">atom</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L19"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 19"></a></h3><p>If required_container_accepts_subtypes is FALSE, the exact type of what container this reaction can take place in. Otherwise, what type including subtypes are acceptable.</p><h3 id="var/required_container_accepts_subtypes"><aside class="declaration">var </aside>required_container_accepts_subtypes <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L17"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 17"></a></h3><p>If required_container will check for the exact type, or will also accept subtypes</p><h3 id="var/required_other"><aside class="declaration">var </aside>required_other <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L21"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 21"></a></h3><p>Set this to true to call pre_reaction_other_checks() on react and do some more interesting reaction logic</p><h3 id="var/required_reagents"><aside class="declaration">var </aside>required_reagents <aside>â€“ /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L12"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 12"></a></h3><p>Required chemicals that are USED in the reaction</p><h3 id="var/required_temp"><aside class="declaration">var </aside>required_temp <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L34"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 34"></a></h3><p>FermiChem! - See fermi_readme.md
Required temperature for the reaction to begin, for fermimechanics it defines the lower area of bell curve for determining heat based rate reactions, aka the minimum</p><h3 id="var/results"><aside class="declaration">var </aside>results <aside>â€“ /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L10"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 10"></a></h3><p>Results of the chemical reactions</p><h3 id="var/temp_exponent_factor"><aside class="declaration">var </aside>temp_exponent_factor <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L46"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 46"></a></h3><p>How sharp the temperature exponential curve is (to the power of value)</p><h3 id="var/thermic_constant"><aside class="declaration">var </aside>thermic_constant <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L50"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 50"></a></h3><p>How much the temperature changes per unit of chem used. without REACTION_HEAT_ARBITARY flag the rate of change depends on the holder heat capacity else results are more accurate</p><h2 id="proc">Proc Details</h2><h3 id="proc/chemical_mob_spawn"><aside class="declaration">proc </aside>chemical_mob_spawn<aside>(/<a href="datum.html">datum</a>/<a href="datum/reagents.html">reagents</a>/holder, amount_to_spawn, reaction_name, mob_class, mob_faction, random)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L205"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 205"></a></aside></h3><p>Magical mob spawning when chemicals react</p>
<p>Your go to proc when you want to create new mobs from chemicals. please dont use on_reaction.
Arguments:</p>
<ul>
<li>holder - the datum that holds this reagent, be it a beaker or anything else</li>
<li>amount_to_spawn - how much /mob to spawn</li>
<li>reaction_name - what is the name of this reaction. be creative, the world is your oyster after all!</li>
<li>mob_class - determines if the mob will be friendly, neutral or hostile</li>
<li>mob_faction - used in determining targets, mobs from the same faction won't harm eachother.</li>
<li>random - creates random mobs. self explanatory.</li>
</ul><h3 id="proc/clear_products"><aside class="declaration">proc </aside>clear_products<aside>(/<a href="datum.html">datum</a>/<a href="datum/reagents.html">reagents</a>/holder, volume)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L513"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 513"></a></aside></h3><p>Clears the beaker of the product only</p><h3 id="proc/clear_reactants"><aside class="declaration">proc </aside>clear_reactants<aside>(/<a href="datum.html">datum</a>/<a href="datum/reagents.html">reagents</a>/holder, volume)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L506"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 506"></a></aside></h3><p>Clears the beaker of the reagents only
if volume is not set, it will remove all of the reactant</p><h3 id="proc/clear_reagents"><aside class="declaration">proc </aside>clear_reagents<aside>(/<a href="datum.html">datum</a>/<a href="datum/reagents.html">reagents</a>/holder, volume)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L521"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 521"></a></aside></h3><p>Clears the beaker of ALL reagents inside</p><h3 id="proc/default_explode"><aside class="declaration">proc </aside>default_explode<aside>(/<a href="datum.html">datum</a>/<a href="datum/reagents.html">reagents</a>/holder, created_volume, modifier, strengthdiv, clear_mob_reagents)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L285"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 285"></a></aside></h3><p>Generic explosions/failures</p><h3 id="proc/explode_fire"><aside class="declaration">proc </aside>explode_fire<aside>(/<a href="datum.html">datum</a>/<a href="datum/reagents.html">reagents</a>/holder, /<a href="datum.html">datum</a>/<a href="datum/equilibrium.html">equilibrium</a>/equilibrium, range)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L431"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 431"></a></aside></h3><p>BEGIN FIRE BASED EXPLOSIONS</p><h3 id="proc/freeze_radius"><aside class="declaration">proc </aside>freeze_radius<aside>(/<a href="datum.html">datum</a>/<a href="datum/reagents.html">reagents</a>/holder, /<a href="datum.html">datum</a>/<a href="datum/equilibrium.html">equilibrium</a>/equilibrium, temp, radius, freeze_duration, snowball_chance)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L494"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 494"></a></aside></h3><p>END FIRE BASED EXPLOSIONS</p><h3 id="proc/on_reaction"><aside class="declaration">proc </aside>on_reaction<aside>(/<a href="datum.html">datum</a>/<a href="datum/reagents.html">reagents</a>/holder, /<a href="datum.html">datum</a>/<a href="datum/equilibrium.html">equilibrium</a>/reaction, created_volume)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L84"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 84"></a></aside></h3><p>Shit that happens on reaction
Only procs at the START of a reaction
use reaction_step() for each step of a reaction
or reaction_end() when the reaction stops
If reaction_flags &amp; REACTION_INSTANT then this is the only proc that is called.</p>
<p>Proc where the additional magic happens.
You dont want to handle mob spawning in this since there is a dedicated proc for that.client
Arguments:</p>
<ul>
<li>holder - the datum that holds this reagent, be it a beaker or anything else</li>
<li>created_volume - volume created when this is mixed. look at 'var/list/results'.</li>
</ul><h3 id="proc/overheated"><aside class="declaration">proc </aside>overheated<aside>(/<a href="datum.html">datum</a>/<a href="datum/reagents.html">reagents</a>/holder, /<a href="datum.html">datum</a>/<a href="datum/equilibrium.html">equilibrium</a>/equilibrium, step_volume_added)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L165"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 165"></a></aside></h3><p>Occurs when a reation is overheated (i.e. past its overheatTemp)
Will be called every tick in the reaction that it is overheated
If you want this to be a once only proc (i.e. the reaction is stopped after) set reaction.toDelete = TRUE
The above is useful if you're writing an explosion
By default the parent proc will reduce the final yield slightly. If you don't want that don't add ..()</p>
<p>Arguments:</p>
<ul>
<li>holder - the datum that holds this reagent, be it a beaker or anything else</li>
<li>equilibrium - the equilibrium datum that contains the equilibrium reaction properties and methods</li>
<li>step_volume_added - how much product (across all products) was added for this single step</li>
</ul><h3 id="proc/overly_impure"><aside class="declaration">proc </aside>overly_impure<aside>(/<a href="datum.html">datum</a>/<a href="datum/reagents.html">reagents</a>/holder, /<a href="datum.html">datum</a>/<a href="datum/equilibrium.html">equilibrium</a>/equilibrium, step_volume_added)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L185"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 185"></a></aside></h3><p>Occurs when a reation is too impure (i.e. it's below purity_min)
Will be called every tick in the reaction that it is too impure
If you want this to be a once only proc (i.e. the reaction is stopped after) set reaction.toDelete = TRUE
The above is useful if you're writing an explosion
By default the parent proc will reduce the purity of all reagents involved in the reaction in the beaker slightly. If you don't want that don't add ..()</p>
<p>Arguments:</p>
<ul>
<li>holder - the datum that holds this reagent, be it a beaker or anything else</li>
<li>equilibrium - the equilibrium datum that contains the equilibrium reaction properties and methods</li>
<li>step_volume_added - how much product (across all products) was added for this single step</li>
</ul><h3 id="proc/pre_reaction_other_checks"><aside class="declaration">proc </aside>pre_reaction_other_checks<aside>(/<a href="datum.html">datum</a>/<a href="datum/reagents.html">reagents</a>/holder)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L68"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 68"></a></aside></h3><p>REACTION PROCS
Checks if this reaction can occur. Only is ran if required_other is set to TRUE.</p><h3 id="proc/reaction_clear_check"><aside class="declaration">proc </aside>reaction_clear_check<aside>(/<a href="datum.html">datum</a>/<a href="datum/reagent.html">reagent</a>/reagent, /<a href="datum.html">datum</a>/<a href="datum/reagents.html">reagents</a>/holder)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L138"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 138"></a></aside></h3><p>REACTION_CLEAR handler
If the reaction has the REACTION_CLEAR flag, then it will split using purity methods in the beaker instead</p>
<p>Arguments:</p>
<ul>
<li>reagent - the target reagent to convert</li>
</ul><h3 id="proc/reaction_finish"><aside class="declaration">proc </aside>reaction_finish<aside>(/<a href="datum.html">datum</a>/<a href="datum/reagents.html">reagents</a>/holder, /<a href="datum.html">datum</a>/<a href="datum/equilibrium.html">equilibrium</a>/reaction, react_vol)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L120"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 120"></a></aside></h3><p>Stuff that occurs at the end of a reaction. This will proc if the beaker is forced to stop and start again (say for sudden temperature changes).
Only procs at the END of reaction
If reaction_flags &amp; REACTION_INSTANT then this isn't called
if reaction_flags REACTION_CLEAR_IMPURE then the impurity chem is handled here, producing the result in the beaker instead of in a mob
Likewise for REACTION_CLEAR_INVERSE the inverse chem is produced at the end of the reaction in the beaker
You should be calling ..() if you're writing a child function of this proc otherwise purity methods won't work correctly</p>
<p>Proc where the additional magic happens.
You dont want to handle mob spawning in this since there is a dedicated proc for that.client
Arguments:</p>
<ul>
<li>holder - the datum that holds this reagent, be it a beaker or anything else</li>
<li>react_volume - volume created across the whole reaction</li>
</ul><h3 id="proc/reaction_step"><aside class="declaration">proc </aside>reaction_step<aside>(/<a href="datum.html">datum</a>/<a href="datum/reagents.html">reagents</a>/holder, /<a href="datum.html">datum</a>/<a href="datum/equilibrium.html">equilibrium</a>/reaction, delta_t, delta_ph, step_reaction_vol)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/reagents/chemistry/recipes.dm#L103"><img src="git.png" width="16" height="16" title="code/modules/reagents/chemistry/recipes.dm 103"></a></aside></h3><p>Stuff that occurs in the middle of a reaction
Only procs DURING a reaction
If reaction_flags &amp; REACTION_INSTANT then this isn't called
returning END_REACTION will END the reaction</p>
<p>Arguments:</p>
<ul>
<li>reaction - the equilibrium reaction holder that is reaction is processed within - use this to edit delta_t and delta</li>
<li>holder - the datum that holds this reagent, be it a beaker or anything else</li>
<li>created_volume - volume created per step</li>
<li>added_purity - how pure the created volume is per step</li>
</ul>
<p>Outputs:</p>
<ul>
<li>returning END_REACTION will end the associated reaction - flagging it for deletion and preventing any reaction in that timestep from happening. Make sure to set the vars in the holder to one that can't start it from starting up again.</li>
</ul></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/c41b333c9bc46606d2c5d5b517f7836d5953fbfd">c41b333</a> (master) â€” <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>