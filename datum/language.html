<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/language - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> â€” <a href="datum/language.html#var">Var Details</a> - <a href="datum/language.html#proc">Proc Details</a></header><main><h1>language <aside>/<a href="datum.html">datum</a>/<a href="datum/language.html">language</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L7"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 7"></a></h1><p>Datum based languages. Easily editable and modular.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/language.html#var/additional_syllable_high">additional_syllable_high</a></th><td>Scramble word interprets the word as this much longer than it really is (high end)
You can set this to an arbitarily large negative number to make all words only one syllable.</td></tr><tr><th><a href="datum/language.html#var/additional_syllable_low">additional_syllable_low</a></th><td>Scramble word interprets the word as this much longer than it really is (low end)
You can set this to an arbitarily large negative number to make all words only one syllable.</td></tr><tr><th><a href="datum/language.html#var/always_use_default_namelist">always_use_default_namelist</a></th><td>If TRUE, when generating names, we will always use the default human namelist, even if we have syllables set.
This is to be used for languages with very outlandish syllable lists (like pirates).</td></tr><tr><th><a href="datum/language.html#var/between_word_sentence_chance">between_word_sentence_chance</a></th><td>Likelihood of making a new sentence after each word.</td></tr><tr><th><a href="datum/language.html#var/between_word_space_chance">between_word_space_chance</a></th><td>Likelyhood of adding a space between words.</td></tr><tr><th><a href="datum/language.html#var/default_name_count">default_name_count</a></th><td>By default, random names picks this many names</td></tr><tr><th><a href="datum/language.html#var/default_name_syllable_max">default_name_syllable_max</a></th><td>By default, random names picks this many syllables (max)</td></tr><tr><th><a href="datum/language.html#var/default_name_syllable_min">default_name_syllable_min</a></th><td>By default, random names picks this many syllables (min)</td></tr><tr><th><a href="datum/language.html#var/default_priority">default_priority</a></th><td>The language that an atom knows with the highest &quot;default_priority&quot; is selected by default.</td></tr><tr><th><a href="datum/language.html#var/desc">desc</a></th><td>Short description for 'Check Languages'.</td></tr><tr><th><a href="datum/language.html#var/flags">flags</a></th><td>Various language flags.</td></tr><tr><th><a href="datum/language.html#var/icon">icon</a></th><td>Icon displayed in the chat window when speaking this language.
if you are seeing someone speak popcorn language, then something is wrong.</td></tr><tr><th><a href="datum/language.html#var/icon_state">icon_state</a></th><td>Icon state displayed in the chat window when speaking this language.</td></tr><tr><th><a href="datum/language.html#var/key">key</a></th><td>Character used to speak in language
If key is null, then the language isn't real or learnable.</td></tr><tr><th><a href="datum/language.html#var/last_sentence_cache">last_sentence_cache</a></th><td>Cache of recently spoken sentences
So if one person speaks over the radio, everyone hears the same thing.</td></tr><tr><th><a href="datum/language.html#var/most_common_cache">most_common_cache</a></th><td>Scramble cache, but for the 1000 most common words in the English language.
These are never rescrambled, so they will consistently be the same thing.</td></tr><tr><th><a href="datum/language.html#var/mutual_understanding">mutual_understanding</a></th><td>Assoc Lazylist of other language types that would have a degree of mutual understanding with this language.
For example, you could do <code>list(/datum/language/common = 50)</code> to say that this language has a 50% chance to understand common words
And yeah if you give a 100% chance, they can basically just understand the language.
Not sure why you would do that though.</td></tr><tr><th><a href="datum/language.html#var/name">name</a></th><td>Fluff name of language if any.</td></tr><tr><th><a href="datum/language.html#var/random_name_spacer">random_name_spacer</a></th><td>What char to place in between randomly generated names</td></tr><tr><th><a href="datum/language.html#var/scramble_cache">scramble_cache</a></th><td>Cache of recently scrambled text
This allows commonly reused words to not require a full re-scramble every time.
Is limited to the last SCRAMBLE_CACHE_LEN words spoken. After surpassing this limit,
the oldest word will be removed from the cache and rescrambled if spoken again.</td></tr><tr><th><a href="datum/language.html#var/sentence_chance">sentence_chance</a></th><td>Likelihood of making a new sentence after each syllable.</td></tr><tr><th><a href="datum/language.html#var/space_chance">space_chance</a></th><td>Likelihood of adding a space between syllables.</td></tr><tr><th><a href="datum/language.html#var/spans">spans</a></th><td>Spans to apply from this language</td></tr><tr><th><a href="datum/language.html#var/special_characters">special_characters</a></th><td>List of characters that will randomly be inserted between syllables.</td></tr><tr><th><a href="datum/language.html#var/syllables">syllables</a></th><td>Used when scrambling text for a non-speaker.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/language.html#proc/default_name">default_name</a></th><td>Simple helper for getting a default firstname lastname</td></tr><tr><th><a href="datum/language.html#proc/display_icon">display_icon</a></th><td>Checks whether we should display the language icon to the passed hearer.</td></tr><tr><th><a href="datum/language.html#proc/get_icon">get_icon</a></th><td>Returns the icon to display in the chat window when speaking this language.</td></tr><tr><th><a href="datum/language.html#proc/get_random_name">get_random_name</a></th><td>Generates a random name this language would use.</td></tr><tr><th><a href="datum/language.html#proc/get_random_unique_name">get_random_unique_name</a></th><td>Generates a random name, and attempts to ensure it is unique (IE, no other mob in the world has it)</td></tr><tr><th><a href="datum/language.html#proc/read_sentence_cache">read_sentence_cache</a></th><td>Checks the sentence cache for a sentence</td></tr><tr><th><a href="datum/language.html#proc/read_word_cache">read_word_cache</a></th><td>Checks the word cache for a word</td></tr><tr><th><a href="datum/language.html#proc/scramble_paragraph">scramble_paragraph</a></th><td>Scramble a paragraph in this language.</td></tr><tr><th><a href="datum/language.html#proc/scramble_sentence">scramble_sentence</a></th><td>Scrambles a sentence in this language.</td></tr><tr><th><a href="datum/language.html#proc/scramble_word">scramble_word</a></th><td>Scrambles a single word in this language.</td></tr><tr><th><a href="datum/language.html#proc/write_sentence_cache">write_sentence_cache</a></th><td>Adds a sentence to the cache, though the sentence should be modified with a key</td></tr><tr><th><a href="datum/language.html#proc/write_word_cache">write_word_cache</a></th><td>Adds a word to the cache</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/additional_syllable_high"><aside class="declaration">var </aside>additional_syllable_high <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L36"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 36"></a></h3><p>Scramble word interprets the word as this much longer than it really is (high end)
You can set this to an arbitarily large negative number to make all words only one syllable.</p><h3 id="var/additional_syllable_low"><aside class="declaration">var </aside>additional_syllable_low <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L33"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 33"></a></h3><p>Scramble word interprets the word as this much longer than it really is (low end)
You can set this to an arbitarily large negative number to make all words only one syllable.</p><h3 id="var/always_use_default_namelist"><aside class="declaration">var </aside>always_use_default_namelist <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L71"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 71"></a></h3><p>If TRUE, when generating names, we will always use the default human namelist, even if we have syllables set.
This is to be used for languages with very outlandish syllable lists (like pirates).</p><h3 id="var/between_word_sentence_chance"><aside class="declaration">var </aside>between_word_sentence_chance <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L26"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 26"></a></h3><p>Likelihood of making a new sentence after each word.</p><h3 id="var/between_word_space_chance"><aside class="declaration">var </aside>between_word_space_chance <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L30"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 30"></a></h3><p>Likelyhood of adding a space between words.</p><h3 id="var/default_name_count"><aside class="declaration">var </aside>default_name_count <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L79"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 79"></a></h3><p>By default, random names picks this many names</p><h3 id="var/default_name_syllable_max"><aside class="declaration">var </aside>default_name_syllable_max <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L83"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 83"></a></h3><p>By default, random names picks this many syllables (max)</p><h3 id="var/default_name_syllable_min"><aside class="declaration">var </aside>default_name_syllable_min <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L81"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 81"></a></h3><p>By default, random names picks this many syllables (min)</p><h3 id="var/default_priority"><aside class="declaration">var </aside>default_priority <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L68"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 68"></a></h3><p>The language that an atom knows with the highest &quot;default_priority&quot; is selected by default.</p><h3 id="var/desc"><aside class="declaration">var </aside>desc <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L11"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 11"></a></h3><p>Short description for 'Check Languages'.</p><h3 id="var/flags"><aside class="declaration">var </aside>flags <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L16"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 16"></a></h3><p>Various language flags.</p><h3 id="var/icon"><aside class="declaration">var </aside>icon <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L74"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 74"></a></h3><p>Icon displayed in the chat window when speaking this language.
if you are seeing someone speak popcorn language, then something is wrong.</p><h3 id="var/icon_state"><aside class="declaration">var </aside>icon_state <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L76"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 76"></a></h3><p>Icon state displayed in the chat window when speaking this language.</p><h3 id="var/key"><aside class="declaration">var </aside>key <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L14"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 14"></a></h3><p>Character used to speak in language
If key is null, then the language isn't real or learnable.</p><h3 id="var/last_sentence_cache"><aside class="declaration">var </aside>last_sentence_cache <aside>â€“ /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L65"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 65"></a></h3><p>Cache of recently spoken sentences
So if one person speaks over the radio, everyone hears the same thing.</p>
<p>This is an assoc list [sentence] = [key, scrambled_text]
Where key is a string that is used to determine context about the listener (like what languages they know)</p>
<p>Case sensitive, punctuation sensitive.</p><h3 id="var/most_common_cache"><aside class="declaration">var </aside>most_common_cache <aside>â€“ /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L55"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 55"></a></h3><p>Scramble cache, but for the 1000 most common words in the English language.
These are never rescrambled, so they will consistently be the same thing.</p>
<p>Case insensitive, punctuation insensitive.</p><h3 id="var/mutual_understanding"><aside class="declaration">var </aside>mutual_understanding <aside>â€“ /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L93"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 93"></a></h3><p>Assoc Lazylist of other language types that would have a degree of mutual understanding with this language.
For example, you could do <code>list(/datum/language/common = 50)</code> to say that this language has a 50% chance to understand common words
And yeah if you give a 100% chance, they can basically just understand the language.
Not sure why you would do that though.</p><h3 id="var/name"><aside class="declaration">var </aside>name <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L9"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 9"></a></h3><p>Fluff name of language if any.</p><h3 id="var/random_name_spacer"><aside class="declaration">var </aside>random_name_spacer <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L85"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 85"></a></h3><p>What char to place in between randomly generated names</p><h3 id="var/scramble_cache"><aside class="declaration">var </aside>scramble_cache <aside>â€“ /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L48"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 48"></a></h3><p>Cache of recently scrambled text
This allows commonly reused words to not require a full re-scramble every time.
Is limited to the last SCRAMBLE_CACHE_LEN words spoken. After surpassing this limit,
the oldest word will be removed from the cache and rescrambled if spoken again.</p>
<p>Case insensitive, punctuation insensitive.</p><h3 id="var/sentence_chance"><aside class="declaration">var </aside>sentence_chance <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L24"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 24"></a></h3><p>Likelihood of making a new sentence after each syllable.</p><h3 id="var/space_chance"><aside class="declaration">var </aside>space_chance <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L28"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 28"></a></h3><p>Likelihood of adding a space between syllables.</p><h3 id="var/spans"><aside class="declaration">var </aside>spans <aside>â€“ /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L39"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 39"></a></h3><p>Spans to apply from this language</p><h3 id="var/special_characters"><aside class="declaration">var </aside>special_characters <aside>â€“ /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L20"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 20"></a></h3><p>List of characters that will randomly be inserted between syllables.</p><h3 id="var/syllables"><aside class="declaration">var </aside>syllables <aside>â€“ /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L18"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 18"></a></h3><p>Used when scrambling text for a non-speaker.</p><h2 id="proc">Proc Details</h2><h3 id="proc/default_name"><aside class="declaration">proc </aside>default_name<aside>(gender)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L128"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 128"></a></aside></h3><p>Simple helper for getting a default firstname lastname</p><h3 id="proc/display_icon"><aside class="declaration">proc </aside>display_icon<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/hearer)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L114"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 114"></a></aside></h3><p>Checks whether we should display the language icon to the passed hearer.</p><h3 id="proc/get_icon"><aside class="declaration">proc </aside>get_icon<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L123"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 123"></a></aside></h3><p>Returns the icon to display in the chat window when speaking this language.</p><h3 id="proc/get_random_name"><aside class="declaration">proc </aside>get_random_name<aside>(gender, name_count, syllable_min, syllable_max, force_use_syllables)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L146"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 146"></a></aside></h3><p>Generates a random name this language would use.</p>
<ul>
<li>gender: What gender to generate from, if neuter / plural coin flips between male and female</li>
<li>name_count: How many names to generate in, by default 2, for firstname lastname</li>
<li>syllable_count: How many syllables to generate in each name, min</li>
<li>syllable_max: How many syllables to generate in each name, max</li>
<li>force_use_syllables: If the name should be generated from the syllables list.
Only used for subtypes which implement custom name lists. Also requires the language has syllables set.</li>
</ul><h3 id="proc/get_random_unique_name"><aside class="declaration">proc </aside>get_random_unique_name<aside>(...)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L168"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 168"></a></aside></h3><p>Generates a random name, and attempts to ensure it is unique (IE, no other mob in the world has it)</p><h3 id="proc/read_sentence_cache"><aside class="declaration">proc </aside>read_sentence_cache<aside>(input)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L207"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 207"></a></aside></h3><p>Checks the sentence cache for a sentence</p><h3 id="proc/read_word_cache"><aside class="declaration">proc </aside>read_word_cache<aside>(input)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L178"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 178"></a></aside></h3><p>Checks the word cache for a word</p><h3 id="proc/scramble_paragraph"><aside class="declaration">proc </aside>scramble_paragraph<aside>(input, /list/mutual_languages)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L233"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 233"></a></aside></h3><p>Scramble a paragraph in this language.</p>
<p>Takes into account any languages the hearer knows that has mutual understanding with this language.</p><h3 id="proc/scramble_sentence"><aside class="declaration">proc </aside>scramble_sentence<aside>(input, /list/mutual_languages)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L249"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 249"></a></aside></h3><p>Scrambles a sentence in this language.</p>
<p>Takes into account any languages the hearer knows that has mutual understanding with this language.</p><h3 id="proc/scramble_word"><aside class="declaration">proc </aside>scramble_word<aside>(input)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L307"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 307"></a></aside></h3><p>Scrambles a single word in this language.</p><h3 id="proc/write_sentence_cache"><aside class="declaration">proc </aside>write_sentence_cache<aside>(input, key, result_scramble)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L220"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 220"></a></aside></h3><p>Adds a sentence to the cache, though the sentence should be modified with a key</p><h3 id="proc/write_word_cache"><aside class="declaration">proc </aside>write_word_cache<aside>(input, scrambled_text)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language.dm#L194"><img src="git.png" width="16" height="16" title="code/modules/language/_language.dm 194"></a></aside></h3><p>Adds a word to the cache</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/c41b333c9bc46606d2c5d5b517f7836d5953fbfd">c41b333</a> (master) â€” <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>