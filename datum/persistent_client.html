<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/persistent_client - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/persistent_client.html#var">Var Details</a> - <a href="datum/persistent_client.html#proc">Proc Details</a></header><main><h1>persistent_client <aside>/<a href="datum.html">datum</a>/<a href="datum/persistent_client.html">persistent_client</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/client/persistent_client.dm#L8"><img src="git.png" width="16" height="16" title="code/modules/client/persistent_client.dm 8"></a></h1><p>Tracks information about a client between log in and log outs</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/persistent_client.html#var/achievements">achievements</a></th><td>Tracks achievements they have earned</td></tr><tr><th><a href="datum/persistent_client.html#var/byond_build">byond_build</a></th><td>Build number of BYOND this client was last using.</td></tr><tr><th><a href="datum/persistent_client.html#var/byond_version">byond_version</a></th><td>Major version of BYOND this client was last using.</td></tr><tr><th><a href="datum/persistent_client.html#var/client">client</a></th><td>The true client</td></tr><tr><th><a href="datum/persistent_client.html#var/joined_as_slots">joined_as_slots</a></th><td>Lazylist of preference slots this client has joined the round under
Numbers are stored as strings</td></tr><tr><th><a href="datum/persistent_client.html#var/logging">logging</a></th><td>Tracks client action logging</td></tr><tr><th><a href="datum/persistent_client.html#var/mob">mob</a></th><td>The mob this persistent client is currently bound to.</td></tr><tr><th><a href="datum/persistent_client.html#var/played_names">played_names</a></th><td>List of names this key played under this round
assoc list of name -&gt; mob tag</td></tr><tr><th><a href="datum/persistent_client.html#var/player_actions">player_actions</a></th><td>Action datums assigned to this player</td></tr><tr><th><a href="datum/persistent_client.html#var/post_login_callbacks">post_login_callbacks</a></th><td>Callbacks invoked when this client logs in again</td></tr><tr><th><a href="datum/persistent_client.html#var/post_logout_callbacks">post_logout_callbacks</a></th><td>Callbacks invoked when this client logs out</td></tr><tr><th><a href="datum/persistent_client.html#var/time_of_death">time_of_death</a></th><td>World.time this player last died</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/persistent_client.html#proc/full_byond_version">full_byond_version</a></th><td>Returns the full version string (i.e 515.1642) of the BYOND version and build.</td></tr><tr><th><a href="datum/persistent_client.html#proc/get_played_names">get_played_names</a></th><td>Writes all of the <code>played_names</code> into an HTML-escaped string.</td></tr><tr><th><a href="datum/persistent_client.html#proc/set_client">set_client</a></th><td>Setter for the client var, updates any vars we have that might be dependent on client state</td></tr><tr><th><a href="datum/persistent_client.html#proc/set_mob">set_mob</a></th><td>Setter for the mob var, handles both references.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/achievements"><aside class="declaration">var </aside>achievements <aside>– /<a href="datum.html">datum</a>/<a href="datum/achievement_data.html">achievement_data</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/client/persistent_client.dm#L37"><img src="git.png" width="16" height="16" title="code/modules/client/persistent_client.dm 37"></a></h3><p>Tracks achievements they have earned</p><h3 id="var/byond_build"><aside class="declaration">var </aside>byond_build <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/client/persistent_client.dm#L17"><img src="git.png" width="16" height="16" title="code/modules/client/persistent_client.dm 17"></a></h3><p>Build number of BYOND this client was last using.</p><h3 id="var/byond_version"><aside class="declaration">var </aside>byond_version <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/client/persistent_client.dm#L15"><img src="git.png" width="16" height="16" title="code/modules/client/persistent_client.dm 15"></a></h3><p>Major version of BYOND this client was last using.</p><h3 id="var/client"><aside class="declaration">var </aside>client <aside>– /<a href="client.html">client</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/client/persistent_client.dm#L10"><img src="git.png" width="16" height="16" title="code/modules/client/persistent_client.dm 10"></a></h3><p>The true client</p><h3 id="var/joined_as_slots"><aside class="declaration">var </aside>joined_as_slots <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/client/persistent_client.dm#L34"><img src="git.png" width="16" height="16" title="code/modules/client/persistent_client.dm 34"></a></h3><p>Lazylist of preference slots this client has joined the round under
Numbers are stored as strings</p><h3 id="var/logging"><aside class="declaration">var </aside>logging <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/client/persistent_client.dm#L22"><img src="git.png" width="16" height="16" title="code/modules/client/persistent_client.dm 22"></a></h3><p>Tracks client action logging</p><h3 id="var/mob"><aside class="declaration">var </aside>mob <aside>– /<a href="mob.html">mob</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/client/persistent_client.dm#L12"><img src="git.png" width="16" height="16" title="code/modules/client/persistent_client.dm 12"></a></h3><p>The mob this persistent client is currently bound to.</p><h3 id="var/played_names"><aside class="declaration">var </aside>played_names <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/client/persistent_client.dm#L31"><img src="git.png" width="16" height="16" title="code/modules/client/persistent_client.dm 31"></a></h3><p>List of names this key played under this round
assoc list of name -&gt; mob tag</p><h3 id="var/player_actions"><aside class="declaration">var </aside>player_actions <aside>– /list/<a href="datum.html">datum</a>/<a href="datum/action.html">action</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/client/persistent_client.dm#L20"><img src="git.png" width="16" height="16" title="code/modules/client/persistent_client.dm 20"></a></h3><p>Action datums assigned to this player</p><h3 id="var/post_login_callbacks"><aside class="declaration">var </aside>post_login_callbacks <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/client/persistent_client.dm#L25"><img src="git.png" width="16" height="16" title="code/modules/client/persistent_client.dm 25"></a></h3><p>Callbacks invoked when this client logs in again</p><h3 id="var/post_logout_callbacks"><aside class="declaration">var </aside>post_logout_callbacks <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/client/persistent_client.dm#L27"><img src="git.png" width="16" height="16" title="code/modules/client/persistent_client.dm 27"></a></h3><p>Callbacks invoked when this client logs out</p><h3 id="var/time_of_death"><aside class="declaration">var </aside>time_of_death <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/client/persistent_client.dm#L40"><img src="git.png" width="16" height="16" title="code/modules/client/persistent_client.dm 40"></a></h3><p>World.time this player last died</p><h2 id="proc">Proc Details</h2><h3 id="proc/full_byond_version"><aside class="declaration">proc </aside>full_byond_version<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/client/persistent_client.dm#L84"><img src="git.png" width="16" height="16" title="code/modules/client/persistent_client.dm 84"></a></aside></h3><p>Returns the full version string (i.e 515.1642) of the BYOND version and build.</p><h3 id="proc/get_played_names"><aside class="declaration">proc </aside>get_played_names<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/client/persistent_client.dm#L77"><img src="git.png" width="16" height="16" title="code/modules/client/persistent_client.dm 77"></a></aside></h3><p>Writes all of the <code>played_names</code> into an HTML-escaped string.</p><h3 id="proc/set_client"><aside class="declaration">proc </aside>set_client<aside>(/<a href="client.html">client</a>/new_client)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/client/persistent_client.dm#L53"><img src="git.png" width="16" height="16" title="code/modules/client/persistent_client.dm 53"></a></aside></h3><p>Setter for the client var, updates any vars we have that might be dependent on client state</p><h3 id="proc/set_mob"><aside class="declaration">proc </aside>set_mob<aside>(/<a href="mob.html">mob</a>/new_mob)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/client/persistent_client.dm#L66"><img src="git.png" width="16" height="16" title="code/modules/client/persistent_client.dm 66"></a></aside></h3><p>Setter for the mob var, handles both references.</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>