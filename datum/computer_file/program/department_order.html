<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/computer_file/program/department_order - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/computer_file/program/department_order.html#var">Var Details</a> - <a href="datum/computer_file/program/department_order.html#proc">Proc Details</a></header><main><h1>department_order <aside>/<a href="datum.html">datum</a>/<a href="datum/computer_file.html">computer_file</a>/<a href="datum/computer_file/program.html">program</a>/<a href="datum/computer_file/program/department_order.html">department_order</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/modular_computers/file_system/programs/dept_order.dm#L4"><img src="git.png" width="16" height="16" title="code/modules/modular_computers/file_system/programs/dept_order.dm 4"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/computer_file/program/department_order.html#var/department_cooldowns">department_cooldowns</a></th><td>Stores the time when we can next place an order for each department.</td></tr><tr><th><a href="datum/computer_file/program/department_order.html#var/department_order">department_order</a></th><td>Reference to the order we've made UNTIL it gets sent on the supply shuttle. this is so heads can cancel it</td></tr><tr><th><a href="datum/computer_file/program/department_order.html#var/dept_to_radio_channel">dept_to_radio_channel</a></th><td>Maps what department should report to what radio channel
I could've put this on the job department datum but it felt unnecessary</td></tr><tr><th><a href="datum/computer_file/program/department_order.html#var/linked_department">linked_department</a></th><td>The department we are linked to, typepath.</td></tr><tr><th><a href="datum/computer_file/program/department_order.html#var/radio_channel">radio_channel</a></th><td>The radio channel we will speak into by default.</td></tr><tr><th><a href="datum/computer_file/program/department_order.html#var/use_access">use_access</a></th><td>Filled via set_linked_department. Serves as &quot;who can place orders&quot;.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/computer_file/program/department_order.html#proc/calculate_cooldown">calculate_cooldown</a></th><td>Calculates the cooldown it will take for this department's free order, based on its credit cost</td></tr><tr><th><a href="datum/computer_file/program/department_order.html#proc/can_see_pack">can_see_pack</a></th><td>Checks if we can &quot;see&quot; the passed supply pack</td></tr><tr><th><a href="datum/computer_file/program/department_order.html#proc/check_cooldown">check_cooldown</a></th><td>Checks if the cooldown is up and resets it if so.</td></tr><tr><th><a href="datum/computer_file/program/department_order.html#proc/finalize_department_order">finalize_department_order</a></th><td>Signal when the supply shuttle begins to spawn orders. We forget the current order preventing it from being overridden (since it's already past the point of no return on undoing the order)</td></tr><tr><th><a href="datum/computer_file/program/department_order.html#proc/find_department_to_link">find_department_to_link</a></th><td>Looks through all possible departments and finds one this ID card &quot;corresponds&quot; to.</td></tr><tr><th><a href="datum/computer_file/program/department_order.html#proc/set_linked_department">set_linked_department</a></th><td>Sets the passed department type as the active department for this computer file.</td></tr><tr><th><a href="datum/computer_file/program/department_order.html#proc/submit_order">submit_order</a></th><td>Submits the order with the specified supply pack id as the specified orderer</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/department_cooldowns"><aside class="declaration">var </aside>department_cooldowns <aside>– /static/list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/modular_computers/file_system/programs/dept_order.dm#L26"><img src="git.png" width="16" height="16" title="code/modules/modular_computers/file_system/programs/dept_order.dm 26"></a></h3><p>Stores the time when we can next place an order for each department.</p><h3 id="var/department_order"><aside class="declaration">var </aside>department_order <aside>– /<a href="datum.html">datum</a>/<a href="datum/supply_order.html">supply_order</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/modular_computers/file_system/programs/dept_order.dm#L34"><img src="git.png" width="16" height="16" title="code/modules/modular_computers/file_system/programs/dept_order.dm 34"></a></h3><p>Reference to the order we've made UNTIL it gets sent on the supply shuttle. this is so heads can cancel it</p><h3 id="var/dept_to_radio_channel"><aside class="declaration">var </aside>dept_to_radio_channel <aside>– /static/list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/modular_computers/file_system/programs/dept_order.dm#L39"><img src="git.png" width="16" height="16" title="code/modules/modular_computers/file_system/programs/dept_order.dm 39"></a></h3><p>Maps what department should report to what radio channel
I could've put this on the job department datum but it felt unnecessary</p><h3 id="var/linked_department"><aside class="declaration">var </aside>linked_department <aside>– /<a href="datum.html">datum</a>/<a href="datum/job_department.html">job_department</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/modular_computers/file_system/programs/dept_order.dm#L24"><img src="git.png" width="16" height="16" title="code/modules/modular_computers/file_system/programs/dept_order.dm 24"></a></h3><p>The department we are linked to, typepath.</p><h3 id="var/radio_channel"><aside class="declaration">var </aside>radio_channel <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/modular_computers/file_system/programs/dept_order.dm#L36"><img src="git.png" width="16" height="16" title="code/modules/modular_computers/file_system/programs/dept_order.dm 36"></a></h3><p>The radio channel we will speak into by default.</p><h3 id="var/use_access"><aside class="declaration">var </aside>use_access <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/modular_computers/file_system/programs/dept_order.dm#L21"><img src="git.png" width="16" height="16" title="code/modules/modular_computers/file_system/programs/dept_order.dm 21"></a></h3><p>Filled via set_linked_department. Serves as &quot;who can place orders&quot;.</p><h2 id="proc">Proc Details</h2><h3 id="proc/calculate_cooldown"><aside class="declaration">proc </aside>calculate_cooldown<aside>(credits)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/modular_computers/file_system/programs/dept_order.dm#L247"><img src="git.png" width="16" height="16" title="code/modules/modular_computers/file_system/programs/dept_order.dm 247"></a></aside></h3><p>Calculates the cooldown it will take for this department's free order, based on its credit cost</p><h3 id="proc/can_see_pack"><aside class="declaration">proc </aside>can_see_pack<aside>(/<a href="datum.html">datum</a>/<a href="datum/supply_pack.html">supply_pack</a>/to_check)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/modular_computers/file_system/programs/dept_order.dm#L106"><img src="git.png" width="16" height="16" title="code/modules/modular_computers/file_system/programs/dept_order.dm 106"></a></aside></h3><p>Checks if we can &quot;see&quot; the passed supply pack</p><h3 id="proc/check_cooldown"><aside class="declaration">proc </aside>check_cooldown<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/modular_computers/file_system/programs/dept_order.dm#L262"><img src="git.png" width="16" height="16" title="code/modules/modular_computers/file_system/programs/dept_order.dm 262"></a></aside></h3><p>Checks if the cooldown is up and resets it if so.</p><h3 id="proc/finalize_department_order"><aside class="declaration">proc </aside>finalize_department_order<aside>(/<a href="datum.html">datum</a>/subsystem)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/modular_computers/file_system/programs/dept_order.dm#L240"><img src="git.png" width="16" height="16" title="code/modules/modular_computers/file_system/programs/dept_order.dm 240"></a></aside></h3><p>Signal when the supply shuttle begins to spawn orders. We forget the current order preventing it from being overridden (since it's already past the point of no return on undoing the order)</p><h3 id="proc/find_department_to_link"><aside class="declaration">proc </aside>find_department_to_link<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/card.html">card</a>/<a href="obj/item/card/id.html">id</a>/id_card)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/modular_computers/file_system/programs/dept_order.dm#L119"><img src="git.png" width="16" height="16" title="code/modules/modular_computers/file_system/programs/dept_order.dm 119"></a></aside></h3><p>Looks through all possible departments and finds one this ID card &quot;corresponds&quot; to.</p><h3 id="proc/set_linked_department"><aside class="declaration">proc </aside>set_linked_department<aside>(/<a href="datum.html">datum</a>/<a href="datum/job_department.html">job_department</a>/department)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/modular_computers/file_system/programs/dept_order.dm#L48"><img src="git.png" width="16" height="16" title="code/modules/modular_computers/file_system/programs/dept_order.dm 48"></a></aside></h3><p>Sets the passed department type as the active department for this computer file.</p><h3 id="proc/submit_order"><aside class="declaration">proc </aside>submit_order<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/orderer, id)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/modular_computers/file_system/programs/dept_order.dm#L187"><img src="git.png" width="16" height="16" title="code/modules/modular_computers/file_system/programs/dept_order.dm 187"></a></aside></h3><p>Submits the order with the specified supply pack id as the specified orderer</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/c41b333c9bc46606d2c5d5b517f7836d5953fbfd">c41b333</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>