<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/asset_cache_item - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/asset_cache_item.html#var">Var Details</a> - <a href="datum/asset_cache_item.html#proc">Proc Details</a></header><main><h1>asset_cache_item <aside>/<a href="datum.html">datum</a>/<a href="datum/asset_cache_item.html">asset_cache_item</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/asset_cache/asset_cache_item.dm#L6"><img src="git.png" width="16" height="16" title="code/modules/asset_cache/asset_cache_item.dm 6"></a></h1><p>An internal datum containing info on items in the asset cache. Mainly used to cache md5 info for speed.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/asset_cache_item.html#var/ext">ext</a></th><td>our file extension e.g. .png, .gif, etc</td></tr><tr><th><a href="datum/asset_cache_item.html#var/hash">hash</a></th><td>md5() of the file this asset item represents.</td></tr><tr><th><a href="datum/asset_cache_item.html#var/keep_local_name">keep_local_name</a></th><td>TRUE for keeping local asset names when browse_rsc backend is used</td></tr><tr><th><a href="datum/asset_cache_item.html#var/legacy">legacy</a></th><td>Should this file also be sent via the legacy browse_rsc system
when cdn transports are enabled?</td></tr><tr><th><a href="datum/asset_cache_item.html#var/name">name</a></th><td>the name of this asset item, becomes the key in SSassets.cache list</td></tr><tr><th><a href="datum/asset_cache_item.html#var/namespace">namespace</a></th><td>Used by the cdn system to keep legacy css assets with their parent
css file. (css files resolve urls relative to the css file, so the
legacy system can't be used if the css file itself could go out over
the cdn)</td></tr><tr><th><a href="datum/asset_cache_item.html#var/namespace_parent">namespace_parent</a></th><td>True if this is the parent css or html file for an asset's namespace</td></tr><tr><th><a href="datum/asset_cache_item.html#var/resource">resource</a></th><td>the file this asset represents</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/asset_cache_item.html#proc/New">New</a></th><td>pass in a valid file_hash if you have one to save it from needing to do it again.
pass in a valid dmi file path string e.g. &quot;icons/path/to/dmi_file.dmi&quot; to make generating the hash less expensive</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/ext"><aside class="declaration">var </aside>ext <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/asset_cache/asset_cache_item.dm#L14"><img src="git.png" width="16" height="16" title="code/modules/asset_cache/asset_cache_item.dm 14"></a></h3><p>our file extension e.g. .png, .gif, etc</p><h3 id="var/hash"><aside class="declaration">var </aside>hash <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/asset_cache/asset_cache_item.dm#L10"><img src="git.png" width="16" height="16" title="code/modules/asset_cache/asset_cache_item.dm 10"></a></h3><p>md5() of the file this asset item represents.</p><h3 id="var/keep_local_name"><aside class="declaration">var </aside>keep_local_name <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/asset_cache/asset_cache_item.dm#L26"><img src="git.png" width="16" height="16" title="code/modules/asset_cache/asset_cache_item.dm 26"></a></h3><p>TRUE for keeping local asset names when browse_rsc backend is used</p><h3 id="var/legacy"><aside class="declaration">var </aside>legacy <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/asset_cache/asset_cache_item.dm#L17"><img src="git.png" width="16" height="16" title="code/modules/asset_cache/asset_cache_item.dm 17"></a></h3><p>Should this file also be sent via the legacy browse_rsc system
when cdn transports are enabled?</p><h3 id="var/name"><aside class="declaration">var </aside>name <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/asset_cache/asset_cache_item.dm#L8"><img src="git.png" width="16" height="16" title="code/modules/asset_cache/asset_cache_item.dm 8"></a></h3><p>the name of this asset item, becomes the key in SSassets.cache list</p><h3 id="var/namespace"><aside class="declaration">var </aside>namespace <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/asset_cache/asset_cache_item.dm#L22"><img src="git.png" width="16" height="16" title="code/modules/asset_cache/asset_cache_item.dm 22"></a></h3><p>Used by the cdn system to keep legacy css assets with their parent
css file. (css files resolve urls relative to the css file, so the
legacy system can't be used if the css file itself could go out over
the cdn)</p><h3 id="var/namespace_parent"><aside class="declaration">var </aside>namespace_parent <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/asset_cache/asset_cache_item.dm#L24"><img src="git.png" width="16" height="16" title="code/modules/asset_cache/asset_cache_item.dm 24"></a></h3><p>True if this is the parent css or html file for an asset's namespace</p><h3 id="var/resource"><aside class="declaration">var </aside>resource <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/asset_cache/asset_cache_item.dm#L12"><img src="git.png" width="16" height="16" title="code/modules/asset_cache/asset_cache_item.dm 12"></a></h3><p>the file this asset represents</p><h2 id="proc">Proc Details</h2><h3 id="proc/New">New<aside>(name, file, file_hash, dmi_file_path)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/asset_cache/asset_cache_item.dm#L30"><img src="git.png" width="16" height="16" title="code/modules/asset_cache/asset_cache_item.dm 30"></a></aside></h3><p>pass in a valid file_hash if you have one to save it from needing to do it again.
pass in a valid dmi file path string e.g. &quot;icons/path/to/dmi_file.dmi&quot; to make generating the hash less expensive</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>