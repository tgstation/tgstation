<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/action/item_action/skybulge - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/action/item_action/skybulge.html#var">Var Details</a> - <a href="datum/action/item_action/skybulge.html#proc">Proc Details</a></header><main><h1>skybulge <aside>/<a href="datum.html">datum</a>/<a href="datum/action.html">action</a>/<a href="datum/action/item_action/skybulge.html">item_action/skybulge</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/objects/items/spear.dm#L310"><img src="git.png" width="16" height="16" title="code/game/objects/items/spear.dm 310"></a></h1><p>The action button the spear gives, usable once a minute.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/action/item_action/skybulge.html#var/gave_pass_flags">gave_pass_flags</a></th><td>boolean we set every time we jump, to know if we should take away the passflags we give,
so we don't give/take when they have it from other sources (since we don't have traits, we have
no way to tell which pass flags they get from what source.)</td></tr><tr><th><a href="datum/action/item_action/skybulge.html#var/jump_cooldown_time">jump_cooldown_time</a></th><td>Cooldown time between jumps.</td></tr><tr><th><a href="datum/action/item_action/skybulge.html#var/jump_timer">jump_timer</a></th><td>Ref to the addtimer we have between jumping up and falling down, used to cancel early if you're incapacitated mid-jump.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/action/item_action/skybulge.html#proc/jump_up">jump_up</a></th><td>Sends the owner up in the air and calls them back down, calling land() for aftereffects.</td></tr><tr><th><a href="datum/action/item_action/skybulge.html#proc/land">land</a></th><td></td></tr><tr><th><a href="datum/action/item_action/skybulge.html#proc/on_attack_during_jump">on_attack_during_jump</a></th><td>Called when the person holding us is trying to attack something mid-jump.
You're technically in mid-air, so block any attempts at getting extra hits in.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/gave_pass_flags"><aside class="declaration">var </aside>gave_pass_flags <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/objects/items/spear.dm#L323"><img src="git.png" width="16" height="16" title="code/game/objects/items/spear.dm 323"></a></h3><p>boolean we set every time we jump, to know if we should take away the passflags we give,
so we don't give/take when they have it from other sources (since we don't have traits, we have
no way to tell which pass flags they get from what source.)</p><h3 id="var/jump_cooldown_time"><aside class="declaration">var </aside>jump_cooldown_time <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/objects/items/spear.dm#L317"><img src="git.png" width="16" height="16" title="code/game/objects/items/spear.dm 317"></a></h3><p>Cooldown time between jumps.</p><h3 id="var/jump_timer"><aside class="declaration">var </aside>jump_timer <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/objects/items/spear.dm#L315"><img src="git.png" width="16" height="16" title="code/game/objects/items/spear.dm 315"></a></h3><p>Ref to the addtimer we have between jumping up and falling down, used to cancel early if you're incapacitated mid-jump.</p><h2 id="proc">Proc Details</h2><h3 id="proc/jump_up"><aside class="declaration">proc </aside>jump_up<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/objects/items/spear.dm#L342"><img src="git.png" width="16" height="16" title="code/game/objects/items/spear.dm 342"></a></aside></h3><p>Sends the owner up in the air and calls them back down, calling land() for aftereffects.</p><h3 id="proc/land"><aside class="declaration">proc </aside>land<aside>(do_effects, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/mob_doing_effects)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/objects/items/spear.dm#L384"><img src="git.png" width="16" height="16" title="code/game/objects/items/spear.dm 384"></a></aside></h3><h2 id="land">land()</h2>
<p>Called by jump_up, this is the post-jump effects, damaging objects and mobs it lands on.
Args:
do_effects - Whether we'll do the attacking effects of the land (damaging mobs &amp; sound),
we set this to false if we were forced out of the jump, they lost their ability to do the hit.
mob_doing_effects - This is who we use for aftereffects, passing the mob using the ability, with owner as fallback.
ourselves.</p><h3 id="proc/on_attack_during_jump"><aside class="declaration">proc </aside>on_attack_during_jump<aside>(/<a href="atom.html">atom</a>/source, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/target_mob, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user, params)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/objects/items/spear.dm#L420"><img src="git.png" width="16" height="16" title="code/game/objects/items/spear.dm 420"></a></aside></h3><p>Called when the person holding us is trying to attack something mid-jump.
You're technically in mid-air, so block any attempts at getting extra hits in.</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/c41b333c9bc46606d2c5d5b517f7836d5953fbfd">c41b333</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>