<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/greyscale_layer - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/greyscale_layer.html#proc">Proc Details</a></header><main><h1>greyscale_layer <aside>/<a href="datum.html">datum</a>/<a href="datum/greyscale_layer.html">greyscale_layer</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/greyscale/layer.dm#L1"><img src="git.png" width="16" height="16" title="code/datums/greyscale/layer.dm 1"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/greyscale_layer.html#proc/CrossVerify">CrossVerify</a></th><td>Use this proc for extra verification needed by a particular layer, gets run after all greyscale configs have finished reading their json files.</td></tr><tr><th><a href="datum/greyscale_layer.html#proc/DiskRefresh">DiskRefresh</a></th><td>Override this if you need to do something during a full config refresh from disk, return TRUE if something was changed</td></tr><tr><th><a href="datum/greyscale_layer.html#proc/Generate">Generate</a></th><td>Used to actually create the layer using the given colors
Do not override, use InternalGenerate instead</td></tr><tr><th><a href="datum/greyscale_layer.html#proc/GenerateUniversalIcon">GenerateUniversalIcon</a></th><td>Used to actualy create the layer using the given colors
Do not override, use InternalGenerate instead</td></tr><tr><th><a href="datum/greyscale_layer.html#proc/GetExpectedValues">GetExpectedValues</a></th><td>Gathers information from the layer about what variables are expected in the json.
Override and add to the two argument lists if you want extra information in your layer.
The lists are formatted like keyname:keytype_define.
The key name is assigned to the var named the same on the layer type.</td></tr><tr><th><a href="datum/greyscale_layer.html#proc/Initialize">Initialize</a></th><td>Override this to do initial set up</td></tr><tr><th><a href="datum/greyscale_layer.html#proc/InternalGenerate">InternalGenerate</a></th><td>Override this to implement layers.
The colors var will only contain colors that this layer is configured to use.</td></tr><tr><th><a href="datum/greyscale_layer.html#proc/InternalGenerateUniversalIcon">InternalGenerateUniversalIcon</a></th><td>Override this to implement layers.
The colors var will only contain colors that this layer is configured to use.</td></tr><tr><th><a href="datum/greyscale_layer.html#proc/ReadJsonData">ReadJsonData</a></th><td>Handles the processing of the json data and conversion to correct value types.
Will error on incorrect, missing, or unexpected values.</td></tr></table><h2 id="proc">Proc Details</h2><h3 id="proc/CrossVerify"><aside class="declaration">proc </aside>CrossVerify<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/greyscale/layer.dm#L64"><img src="git.png" width="16" height="16" title="code/datums/greyscale/layer.dm 64"></a></aside></h3><p>Use this proc for extra verification needed by a particular layer, gets run after all greyscale configs have finished reading their json files.</p><h3 id="proc/DiskRefresh"><aside class="declaration">proc </aside>DiskRefresh<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/greyscale/layer.dm#L24"><img src="git.png" width="16" height="16" title="code/datums/greyscale/layer.dm 24"></a></aside></h3><p>Override this if you need to do something during a full config refresh from disk, return TRUE if something was changed</p><h3 id="proc/Generate"><aside class="declaration">proc </aside>Generate<aside>(/list/colors, /list/render_steps, /icon/new_icon)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/greyscale/layer.dm#L69"><img src="git.png" width="16" height="16" title="code/datums/greyscale/layer.dm 69"></a></aside></h3><p>Used to actually create the layer using the given colors
Do not override, use InternalGenerate instead</p><h3 id="proc/GenerateUniversalIcon"><aside class="declaration">proc </aside>GenerateUniversalIcon<aside>(/list/colors, /<a href="datum.html">datum</a>/<a href="datum/universal_icon.html">universal_icon</a>/new_icon)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/greyscale/layer.dm#L81"><img src="git.png" width="16" height="16" title="code/datums/greyscale/layer.dm 81"></a></aside></h3><p>Used to actualy create the layer using the given colors
Do not override, use InternalGenerate instead</p><h3 id="proc/GetExpectedValues"><aside class="declaration">proc </aside>GetExpectedValues<aside>(/list/required_values, /list/optional_values)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/greyscale/layer.dm#L59"><img src="git.png" width="16" height="16" title="code/datums/greyscale/layer.dm 59"></a></aside></h3><p>Gathers information from the layer about what variables are expected in the json.
Override and add to the two argument lists if you want extra information in your layer.
The lists are formatted like keyname:keytype_define.
The key name is assigned to the var named the same on the layer type.</p><h3 id="proc/Initialize"><aside class="declaration">proc </aside>Initialize<aside>(icon_file)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/greyscale/layer.dm#L20"><img src="git.png" width="16" height="16" title="code/datums/greyscale/layer.dm 20"></a></aside></h3><p>Override this to do initial set up</p><h3 id="proc/InternalGenerate"><aside class="declaration">proc </aside>InternalGenerate<aside>(/list/colors, /list/render_steps, /icon/new_icon)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/greyscale/layer.dm#L93"><img src="git.png" width="16" height="16" title="code/datums/greyscale/layer.dm 93"></a></aside></h3><p>Override this to implement layers.
The colors var will only contain colors that this layer is configured to use.</p><h3 id="proc/InternalGenerateUniversalIcon"><aside class="declaration">proc </aside>InternalGenerateUniversalIcon<aside>(/list/colors, /<a href="datum.html">datum</a>/<a href="datum/universal_icon.html">universal_icon</a>/new_icon)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/greyscale/layer.dm#L97"><img src="git.png" width="16" height="16" title="code/datums/greyscale/layer.dm 97"></a></aside></h3><p>Override this to implement layers.
The colors var will only contain colors that this layer is configured to use.</p><h3 id="proc/ReadJsonData"><aside class="declaration">proc </aside>ReadJsonData<aside>(/list/json_data)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/greyscale/layer.dm#L29"><img src="git.png" width="16" height="16" title="code/datums/greyscale/layer.dm 29"></a></aside></h3><p>Handles the processing of the json data and conversion to correct value types.
Will error on incorrect, missing, or unexpected values.</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>