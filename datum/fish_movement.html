<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/fish_movement - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/fish_movement.html#var">Var Details</a> - <a href="datum/fish_movement.html#proc">Proc Details</a></header><main><h1>fish_movement <aside>/<a href="datum.html">datum</a>/<a href="datum/fish_movement.html">fish_movement</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/fishing/fish_movement.dm#L11"><img src="git.png" width="16" height="16" title="code/modules/fishing/fish_movement.dm 11"></a></h1><p>Fish movements are simple datums, generated by the fishing minigame, that represent how the fish moves suring the minigame.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/fish_movement.html#var/can_interrupt_move">can_interrupt_move</a></th><td>If true, the fish can jump while a target position is set, thus overriding it</td></tr><tr><th><a href="datum/fish_movement.html#var/current_velocity_limit">current_velocity_limit</a></th><td>The current speed limit used</td></tr><tr><th><a href="datum/fish_movement.html#var/fish_idle_velocity">fish_idle_velocity</a></th><td>The base velocity of the fish, which may affect jump distances and falling speed.</td></tr><tr><th><a href="datum/fish_movement.html#var/fish_velocity">fish_velocity</a></th><td>The current speed the fish is moving at</td></tr><tr><th><a href="datum/fish_movement.html#var/long_jump_chance">long_jump_chance</a></th><td>How likely the fish is to perform a long jump, then multiplied by difficulty</td></tr><tr><th><a href="datum/fish_movement.html#var/long_jump_velocity_limit">long_jump_velocity_limit</a></th><td>The speed limit for the long jump</td></tr><tr><th><a href="datum/fish_movement.html#var/master">master</a></th><td>The minigame that spawned us</td></tr><tr><th><a href="datum/fish_movement.html#var/short_jump_chance">short_jump_chance</a></th><td>How likely the fish is to perform a standard jump, then multiplied by difficulty</td></tr><tr><th><a href="datum/fish_movement.html#var/short_jump_velocity_limit">short_jump_velocity_limit</a></th><td>The speed limit for the short jump</td></tr><tr><th><a href="datum/fish_movement.html#var/target_position">target_position</a></th><td>A position on the slider the fish wants to get to</td></tr><tr><th><a href="datum/fish_movement.html#var/times_fired">times_fired</a></th><td>How many times move_fish() has been called</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/fish_movement.html#proc/adjust_to_difficulty">adjust_to_difficulty</a></th><td>Proc that adjusts movement values to the difficulty of the minigame.
The operations can be a tad complex, but basically it ensures that jump
chances with a probability higher than 1% increase in a smooth curve so that
they still reach 100% prob when the difficulty peakes.</td></tr><tr><th><a href="datum/fish_movement.html#proc/get_acceleration">get_acceleration</a></th><td>Proc that returns the acceleration of the fish during the minigame.</td></tr><tr><th><a href="datum/fish_movement.html#proc/move_fish">move_fish</a></th><td>The main proc, called by minigame every SSfishing tick while it's in the 'active' phase.</td></tr><tr><th><a href="datum/fish_movement.html#proc/set_fish_position">set_fish_position</a></th><td>Called at the end of move_fish(), for updating the position of the fish in the fishing minigame.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/can_interrupt_move"><aside class="declaration">var </aside>can_interrupt_move <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/fishing/fish_movement.dm#L31"><img src="git.png" width="16" height="16" title="code/modules/fishing/fish_movement.dm 31"></a></h3><p>If true, the fish can jump while a target position is set, thus overriding it</p><h3 id="var/current_velocity_limit"><aside class="declaration">var </aside>current_velocity_limit <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/fishing/fish_movement.dm#L25"><img src="git.png" width="16" height="16" title="code/modules/fishing/fish_movement.dm 25"></a></h3><p>The current speed limit used</p><h3 id="var/fish_idle_velocity"><aside class="declaration">var </aside>fish_idle_velocity <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/fishing/fish_movement.dm#L27"><img src="git.png" width="16" height="16" title="code/modules/fishing/fish_movement.dm 27"></a></h3><p>The base velocity of the fish, which may affect jump distances and falling speed.</p><h3 id="var/fish_velocity"><aside class="declaration">var </aside>fish_velocity <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/fishing/fish_movement.dm#L33"><img src="git.png" width="16" height="16" title="code/modules/fishing/fish_movement.dm 33"></a></h3><p>The current speed the fish is moving at</p><h3 id="var/long_jump_chance"><aside class="declaration">var </aside>long_jump_chance <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/fishing/fish_movement.dm#L19"><img src="git.png" width="16" height="16" title="code/modules/fishing/fish_movement.dm 19"></a></h3><p>How likely the fish is to perform a long jump, then multiplied by difficulty</p><h3 id="var/long_jump_velocity_limit"><aside class="declaration">var </aside>long_jump_velocity_limit <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/fishing/fish_movement.dm#L23"><img src="git.png" width="16" height="16" title="code/modules/fishing/fish_movement.dm 23"></a></h3><p>The speed limit for the long jump</p><h3 id="var/master"><aside class="declaration">var </aside>master <aside>– /<a href="datum.html">datum</a>/<a href="datum/fishing_challenge.html">fishing_challenge</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/fishing/fish_movement.dm#L13"><img src="git.png" width="16" height="16" title="code/modules/fishing/fish_movement.dm 13"></a></h3><p>The minigame that spawned us</p><h3 id="var/short_jump_chance"><aside class="declaration">var </aside>short_jump_chance <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/fishing/fish_movement.dm#L17"><img src="git.png" width="16" height="16" title="code/modules/fishing/fish_movement.dm 17"></a></h3><p>How likely the fish is to perform a standard jump, then multiplied by difficulty</p><h3 id="var/short_jump_velocity_limit"><aside class="declaration">var </aside>short_jump_velocity_limit <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/fishing/fish_movement.dm#L21"><img src="git.png" width="16" height="16" title="code/modules/fishing/fish_movement.dm 21"></a></h3><p>The speed limit for the short jump</p><h3 id="var/target_position"><aside class="declaration">var </aside>target_position <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/fishing/fish_movement.dm#L29"><img src="git.png" width="16" height="16" title="code/modules/fishing/fish_movement.dm 29"></a></h3><p>A position on the slider the fish wants to get to</p><h3 id="var/times_fired"><aside class="declaration">var </aside>times_fired <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/fishing/fish_movement.dm#L15"><img src="git.png" width="16" height="16" title="code/modules/fishing/fish_movement.dm 15"></a></h3><p>How many times move_fish() has been called</p><h2 id="proc">Proc Details</h2><h3 id="proc/adjust_to_difficulty"><aside class="declaration">proc </aside>adjust_to_difficulty<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/fishing/fish_movement.dm#L44"><img src="git.png" width="16" height="16" title="code/modules/fishing/fish_movement.dm 44"></a></aside></h3><p>Proc that adjusts movement values to the difficulty of the minigame.
The operations can be a tad complex, but basically it ensures that jump
chances with a probability higher than 1% increase in a smooth curve so that
they still reach 100% prob when the difficulty peakes.</p><h3 id="proc/get_acceleration"><aside class="declaration">proc </aside>get_acceleration<aside>(seconds_per_tick)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/fishing/fish_movement.dm#L146"><img src="git.png" width="16" height="16" title="code/modules/fishing/fish_movement.dm 146"></a></aside></h3><p>Proc that returns the acceleration of the fish during the minigame.</p><h3 id="proc/move_fish"><aside class="declaration">proc </aside>move_fish<aside>(seconds_per_tick)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/fishing/fish_movement.dm#L61"><img src="git.png" width="16" height="16" title="code/modules/fishing/fish_movement.dm 61"></a></aside></h3><p>The main proc, called by minigame every SSfishing tick while it's in the 'active' phase.</p><h3 id="proc/set_fish_position"><aside class="declaration">proc </aside>set_fish_position<aside>(seconds_per_tick)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/fishing/fish_movement.dm#L150"><img src="git.png" width="16" height="16" title="code/modules/fishing/fish_movement.dm 150"></a></aside></h3><p>Called at the end of move_fish(), for updating the position of the fish in the fishing minigame.</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/c41b333c9bc46606d2c5d5b517f7836d5953fbfd">c41b333</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>