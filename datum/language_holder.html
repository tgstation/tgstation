<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/language_holder - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/language_holder.html#var">Var Details</a> - <a href="datum/language_holder.html#proc">Proc Details</a></header><main><h1>language_holder <aside>/<a href="datum.html">datum</a>/<a href="datum/language_holder.html">language_holder</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language_holder.dm#L38"><img src="git.png" width="16" height="16" title="code/modules/language/_language_holder.dm 38"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/language_holder.html#var/best_mutual_languages">best_mutual_languages</a></th><td>Cached form of the mutual language list which only contains the best understanding available to each language</td></tr><tr><th><a href="datum/language_holder.html#var/blocked_speaking">blocked_speaking</a></th><td>Lazyassoclist of languages we are blocked from speaking, used for certain mobs, mutations, quirks, etc.</td></tr><tr><th><a href="datum/language_holder.html#var/blocked_understanding">blocked_understanding</a></th><td>Lazyassoclist of languages we are blocked from understanding, used for certain mobs, mutations, quirks, etc.</td></tr><tr><th><a href="datum/language_holder.html#var/language_menu">language_menu</a></th><td>Handles displaying the language menu UI.</td></tr><tr><th><a href="datum/language_holder.html#var/mutual_understanding">mutual_understanding</a></th><td>Lazyassoclist of all mutual understanding this holder has
You generally don't want to access this, you want [best_mutual_languages] instead
Format: list(language_type = list(source = % of understanding))</td></tr><tr><th><a href="datum/language_holder.html#var/omnitongue">omnitongue</a></th><td>If true, overrides tongue aforementioned limitations.</td></tr><tr><th><a href="datum/language_holder.html#var/owner">owner</a></th><td>Tracks the entity that owns the holder.</td></tr><tr><th><a href="datum/language_holder.html#var/selected_language">selected_language</a></th><td>Currently spoken language</td></tr><tr><th><a href="datum/language_holder.html#var/spoken_languages">spoken_languages</a></th><td>Lazyassoclist of languages that can be spoken.
Tongue organ may also set limits beyond this list.</td></tr><tr><th><a href="datum/language_holder.html#var/understood_languages">understood_languages</a></th><td>Lazyassoclist of all understood languages</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/language_holder.html#proc/New">New</a></th><td>Initializes, and copies in the languages from the current atom if available.</td></tr><tr><th><a href="datum/language_holder.html#proc/add_blocked_language">add_blocked_language</a></th><td>Adds a single language or list of languages to the blocked language list.</td></tr><tr><th><a href="datum/language_holder.html#proc/calculate_best_mutual_language">calculate_best_mutual_language</a></th><td>Calculates the &quot;best mutual language list&quot;</td></tr><tr><th><a href="datum/language_holder.html#proc/can_speak_language">can_speak_language</a></th><td>Checks if you can speak the language. Tongue limitations should be supplied as an argument.</td></tr><tr><th><a href="datum/language_holder.html#proc/copy_languages">copy_languages</a></th><td>Copies all languages from the supplied atom/language holder. Source should be overridden when you
do not want the language overwritten by later atom updates or want to avoid blocked languages.</td></tr><tr><th><a href="datum/language_holder.html#proc/gain_partial_understanding_from_language">gain_partial_understanding_from_language</a></th><td>Helper to get all the partial understanding from the passed language
Does effectively nothing if given a language already understood</td></tr><tr><th><a href="datum/language_holder.html#proc/get_random_spoken_language">get_random_spoken_language</a></th><td>Gets a random spoken language, useful for forced speech and such.</td></tr><tr><th><a href="datum/language_holder.html#proc/get_random_spoken_uncommon_language">get_random_spoken_uncommon_language</a></th><td>Gets a random spoken language, trying to get a non-common language.</td></tr><tr><th><a href="datum/language_holder.html#proc/get_random_understood_language">get_random_understood_language</a></th><td>Gets a random understood language, useful for hallucinations and such.</td></tr><tr><th><a href="datum/language_holder.html#proc/get_selected_language">get_selected_language</a></th><td>Returns selected language if it can be spoken, or decides, sets and returns a new selected language if possible.</td></tr><tr><th><a href="datum/language_holder.html#proc/grant_all_languages">grant_all_languages</a></th><td>Grants every language to understood and spoken, and gives omnitongue.</td></tr><tr><th><a href="datum/language_holder.html#proc/grant_language">grant_language</a></th><td>Grants the supplied language.</td></tr><tr><th><a href="datum/language_holder.html#proc/grant_partial_language">grant_partial_language</a></th><td>Grants partial understanding of the passed language.
Giving 100 understanding is basically equivalent to knowning the language, just with butchered punctuation.</td></tr><tr><th><a href="datum/language_holder.html#proc/has_language">has_language</a></th><td>Checks if you have the language passed.</td></tr><tr><th><a href="datum/language_holder.html#proc/lose_partial_understanding_from_language">lose_partial_understanding_from_language</a></th><td>Helper to remove all the partial understanding from the passed language</td></tr><tr><th><a href="datum/language_holder.html#proc/open_language_menu">open_language_menu</a></th><td>Opens a language menu reading from the language holder.</td></tr><tr><th><a href="datum/language_holder.html#proc/remove_all_languages">remove_all_languages</a></th><td>Removes every language and optionally sets omnitongue false. If a non default source is supplied, only removes that source.</td></tr><tr><th><a href="datum/language_holder.html#proc/remove_all_partial_languages">remove_all_partial_languages</a></th><td>Removes all partial understandings of all languages.</td></tr><tr><th><a href="datum/language_holder.html#proc/remove_blocked_language">remove_blocked_language</a></th><td>Removes a single language or list of languages from the blocked language list.</td></tr><tr><th><a href="datum/language_holder.html#proc/remove_language">remove_language</a></th><td>Removes a single language or source, removing all sources returns the pre-removal state of the language.</td></tr><tr><th><a href="datum/language_holder.html#proc/remove_partial_language">remove_partial_language</a></th><td>Removes partial understanding of the passed language.</td></tr><tr><th><a href="datum/language_holder.html#proc/transfer_mind_languages">transfer_mind_languages</a></th><td>Transfers all mind languages to the supplied language holder.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/best_mutual_languages"><aside class="declaration">var </aside>best_mutual_languages <aside>– /final/list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language_holder.dm#L61"><img src="git.png" width="16" height="16" title="code/modules/language/_language_holder.dm 61"></a></h3><p>Cached form of the mutual language list which only contains the best understanding available to each language</p><h3 id="var/blocked_speaking"><aside class="declaration">var </aside>blocked_speaking <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language_holder.dm#L47"><img src="git.png" width="16" height="16" title="code/modules/language/_language_holder.dm 47"></a></h3><p>Lazyassoclist of languages we are blocked from speaking, used for certain mobs, mutations, quirks, etc.</p><h3 id="var/blocked_understanding"><aside class="declaration">var </aside>blocked_understanding <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language_holder.dm#L45"><img src="git.png" width="16" height="16" title="code/modules/language/_language_holder.dm 45"></a></h3><p>Lazyassoclist of languages we are blocked from understanding, used for certain mobs, mutations, quirks, etc.</p><h3 id="var/language_menu"><aside class="declaration">var </aside>language_menu <aside>– /final/<a href="datum.html">datum</a>/language_menu</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language_holder.dm#L51"><img src="git.png" width="16" height="16" title="code/modules/language/_language_holder.dm 51"></a></h3><p>Handles displaying the language menu UI.</p><h3 id="var/mutual_understanding"><aside class="declaration">var </aside>mutual_understanding <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language_holder.dm#L59"><img src="git.png" width="16" height="16" title="code/modules/language/_language_holder.dm 59"></a></h3><p>Lazyassoclist of all mutual understanding this holder has
You generally don't want to access this, you want [best_mutual_languages] instead
Format: list(language_type = list(source = % of understanding))</p><h3 id="var/omnitongue"><aside class="declaration">var </aside>omnitongue <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language_holder.dm#L49"><img src="git.png" width="16" height="16" title="code/modules/language/_language_holder.dm 49"></a></h3><p>If true, overrides tongue aforementioned limitations.</p><h3 id="var/owner"><aside class="declaration">var </aside>owner <aside>– /final/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language_holder.dm#L55"><img src="git.png" width="16" height="16" title="code/modules/language/_language_holder.dm 55"></a></h3><p>Tracks the entity that owns the holder.</p><h3 id="var/selected_language"><aside class="declaration">var </aside>selected_language <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language_holder.dm#L53"><img src="git.png" width="16" height="16" title="code/modules/language/_language_holder.dm 53"></a></h3><p>Currently spoken language</p><h3 id="var/spoken_languages"><aside class="declaration">var </aside>spoken_languages <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language_holder.dm#L43"><img src="git.png" width="16" height="16" title="code/modules/language/_language_holder.dm 43"></a></h3><p>Lazyassoclist of languages that can be spoken.
Tongue organ may also set limits beyond this list.</p><h3 id="var/understood_languages"><aside class="declaration">var </aside>understood_languages <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language_holder.dm#L40"><img src="git.png" width="16" height="16" title="code/modules/language/_language_holder.dm 40"></a></h3><p>Lazyassoclist of all understood languages</p><h2 id="proc">Proc Details</h2><h3 id="proc/New">New<aside>(/<a href="atom.html">atom</a>/new_owner)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language_holder.dm#L64"><img src="git.png" width="16" height="16" title="code/modules/language/_language_holder.dm 64"></a></aside></h3><p>Initializes, and copies in the languages from the current atom if available.</p><h3 id="proc/add_blocked_language"><aside class="declaration">proc </aside>add_blocked_language<aside>(languages, language_flags, source)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language_holder.dm#L194"><img src="git.png" width="16" height="16" title="code/modules/language/_language_holder.dm 194"></a></aside></h3><p>Adds a single language or list of languages to the blocked language list.</p><h3 id="proc/calculate_best_mutual_language"><aside class="declaration">proc </aside>calculate_best_mutual_language<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language_holder.dm#L103"><img src="git.png" width="16" height="16" title="code/modules/language/_language_holder.dm 103"></a></aside></h3><p>Calculates the &quot;best mutual language list&quot;</p><h3 id="proc/can_speak_language"><aside class="declaration">proc </aside>can_speak_language<aside>(language)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language_holder.dm#L236"><img src="git.png" width="16" height="16" title="code/modules/language/_language_holder.dm 236"></a></aside></h3><p>Checks if you can speak the language. Tongue limitations should be supplied as an argument.</p><h3 id="proc/copy_languages"><aside class="declaration">proc </aside>copy_languages<aside>(/<a href="datum.html">datum</a>/<a href="datum/language_holder.html">language_holder</a>/from_holder, source_override)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language_holder.dm#L283"><img src="git.png" width="16" height="16" title="code/modules/language/_language_holder.dm 283"></a></aside></h3><p>Copies all languages from the supplied atom/language holder. Source should be overridden when you
do not want the language overwritten by later atom updates or want to avoid blocked languages.</p><h3 id="proc/gain_partial_understanding_from_language"><aside class="declaration">proc </aside>gain_partial_understanding_from_language<aside>(language)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language_holder.dm#L87"><img src="git.png" width="16" height="16" title="code/modules/language/_language_holder.dm 87"></a></aside></h3><p>Helper to get all the partial understanding from the passed language
Does effectively nothing if given a language already understood</p><h3 id="proc/get_random_spoken_language"><aside class="declaration">proc </aside>get_random_spoken_language<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language_holder.dm#L260"><img src="git.png" width="16" height="16" title="code/modules/language/_language_holder.dm 260"></a></aside></h3><p>Gets a random spoken language, useful for forced speech and such.</p><h3 id="proc/get_random_spoken_uncommon_language"><aside class="declaration">proc </aside>get_random_spoken_uncommon_language<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language_holder.dm#L264"><img src="git.png" width="16" height="16" title="code/modules/language/_language_holder.dm 264"></a></aside></h3><p>Gets a random spoken language, trying to get a non-common language.</p><h3 id="proc/get_random_understood_language"><aside class="declaration">proc </aside>get_random_understood_language<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language_holder.dm#L256"><img src="git.png" width="16" height="16" title="code/modules/language/_language_holder.dm 256"></a></aside></h3><p>Gets a random understood language, useful for hallucinations and such.</p><h3 id="proc/get_selected_language"><aside class="declaration">proc </aside>get_selected_language<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language_holder.dm#L241"><img src="git.png" width="16" height="16" title="code/modules/language/_language_holder.dm 241"></a></aside></h3><p>Returns selected language if it can be spoken, or decides, sets and returns a new selected language if possible.</p><h3 id="proc/grant_all_languages"><aside class="declaration">proc </aside>grant_all_languages<aside>(language_flags, grant_omnitongue, source)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language_holder.dm#L126"><img src="git.png" width="16" height="16" title="code/modules/language/_language_holder.dm 126"></a></aside></h3><p>Grants every language to understood and spoken, and gives omnitongue.</p><h3 id="proc/grant_language"><aside class="declaration">proc </aside>grant_language<aside>(language, language_flags, source)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language_holder.dm#L114"><img src="git.png" width="16" height="16" title="code/modules/language/_language_holder.dm 114"></a></aside></h3><p>Grants the supplied language.</p><h3 id="proc/grant_partial_language"><aside class="declaration">proc </aside>grant_partial_language<aside>(language, amount, source)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language_holder.dm#L135"><img src="git.png" width="16" height="16" title="code/modules/language/_language_holder.dm 135"></a></aside></h3><p>Grants partial understanding of the passed language.
Giving 100 understanding is basically equivalent to knowning the language, just with butchered punctuation.</p><h3 id="proc/has_language"><aside class="declaration">proc </aside>has_language<aside>(language, flag_to_check)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language_holder.dm#L226"><img src="git.png" width="16" height="16" title="code/modules/language/_language_holder.dm 226"></a></aside></h3><p>Checks if you have the language passed.</p><h3 id="proc/lose_partial_understanding_from_language"><aside class="declaration">proc </aside>lose_partial_understanding_from_language<aside>(language)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language_holder.dm#L95"><img src="git.png" width="16" height="16" title="code/modules/language/_language_holder.dm 95"></a></aside></h3><p>Helper to remove all the partial understanding from the passed language</p><h3 id="proc/open_language_menu"><aside class="declaration">proc </aside>open_language_menu<aside>(/<a href="mob.html">mob</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language_holder.dm#L276"><img src="git.png" width="16" height="16" title="code/modules/language/_language_holder.dm 276"></a></aside></h3><p>Opens a language menu reading from the language holder.</p><h3 id="proc/remove_all_languages"><aside class="declaration">proc </aside>remove_all_languages<aside>(source, remove_omnitongue)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language_holder.dm#L162"><img src="git.png" width="16" height="16" title="code/modules/language/_language_holder.dm 162"></a></aside></h3><p>Removes every language and optionally sets omnitongue false. If a non default source is supplied, only removes that source.</p><h3 id="proc/remove_all_partial_languages"><aside class="declaration">proc </aside>remove_all_partial_languages<aside>(source)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language_holder.dm#L188"><img src="git.png" width="16" height="16" title="code/modules/language/_language_holder.dm 188"></a></aside></h3><p>Removes all partial understandings of all languages.</p><h3 id="proc/remove_blocked_language"><aside class="declaration">proc </aside>remove_blocked_language<aside>(languages, language_flags, source)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language_holder.dm#L207"><img src="git.png" width="16" height="16" title="code/modules/language/_language_holder.dm 207"></a></aside></h3><p>Removes a single language or list of languages from the blocked language list.</p><h3 id="proc/remove_language"><aside class="declaration">proc </aside>remove_language<aside>(language, language_flags, source)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language_holder.dm#L142"><img src="git.png" width="16" height="16" title="code/modules/language/_language_holder.dm 142"></a></aside></h3><p>Removes a single language or source, removing all sources returns the pre-removal state of the language.</p><h3 id="proc/remove_partial_language"><aside class="declaration">proc </aside>remove_partial_language<aside>(language, source)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language_holder.dm#L170"><img src="git.png" width="16" height="16" title="code/modules/language/_language_holder.dm 170"></a></aside></h3><p>Removes partial understanding of the passed language.</p><h3 id="proc/transfer_mind_languages"><aside class="declaration">proc </aside>transfer_mind_languages<aside>(/<a href="datum.html">datum</a>/<a href="datum/language_holder.html">language_holder</a>/to_holder)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/language/_language_holder.dm#L301"><img src="git.png" width="16" height="16" title="code/modules/language/_language_holder.dm 301"></a></aside></h3><p>Transfers all mind languages to the supplied language holder.</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/c41b333c9bc46606d2c5d5b517f7836d5953fbfd">c41b333</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>