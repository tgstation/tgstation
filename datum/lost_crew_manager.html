<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/lost_crew_manager - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/lost_crew_manager.html#var">Var Details</a> - <a href="datum/lost_crew_manager.html#proc">Proc Details</a></header><main><h1>lost_crew_manager <aside>/<a href="datum.html">datum</a>/<a href="datum/lost_crew_manager.html">lost_crew_manager</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/lost_crew/lost_crew_manager.dm#L5"><img src="git.png" width="16" height="16" title="code/modules/lost_crew/lost_crew_manager.dm 5"></a></h1><p>Handles procs and timers for the lost crew bodies</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/lost_crew_manager.html#var/credits_on_succes">credits_on_succes</a></th><td>How many credits we reward the medical budget on a successful revive</td></tr><tr><th><a href="datum/lost_crew_manager.html#var/starting_funds">starting_funds</a></th><td>How much the revived crew start with on their cards</td></tr><tr><th><a href="datum/lost_crew_manager.html#var/succes_check_time">succes_check_time</a></th><td>How long after successful revival we check to see if theyre still alive, and give rewards</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/lost_crew_manager.html#proc/award_succes">award_succes</a></th><td>Give medbay a happy announcement and put some money into their budget</td></tr><tr><th><a href="datum/lost_crew_manager.html#proc/create_lost_crew">create_lost_crew</a></th><td>Creates a body with random background and injuries</td></tr><tr><th><a href="datum/lost_crew_manager.html#proc/on_successful_revive">on_successful_revive</a></th><td>Set a timer for awarding succes and drop some awesome deathlore</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/credits_on_succes"><aside class="declaration">var </aside>credits_on_succes <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/lost_crew/lost_crew_manager.dm#L7"><img src="git.png" width="16" height="16" title="code/modules/lost_crew/lost_crew_manager.dm 7"></a></h3><p>How many credits we reward the medical budget on a successful revive</p><h3 id="var/starting_funds"><aside class="declaration">var </aside>starting_funds <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/lost_crew/lost_crew_manager.dm#L11"><img src="git.png" width="16" height="16" title="code/modules/lost_crew/lost_crew_manager.dm 11"></a></h3><p>How much the revived crew start with on their cards</p><h3 id="var/succes_check_time"><aside class="declaration">var </aside>succes_check_time <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/lost_crew/lost_crew_manager.dm#L9"><img src="git.png" width="16" height="16" title="code/modules/lost_crew/lost_crew_manager.dm 9"></a></h3><p>How long after successful revival we check to see if theyre still alive, and give rewards</p><h2 id="proc">Proc Details</h2><h3 id="proc/award_succes"><aside class="declaration">proc </aside>award_succes<aside>(/<a href="datum.html">datum</a>/<a href="datum/mind.html">mind</a>/revived_mind, /list/death_lore)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/lost_crew/lost_crew_manager.dm#L106"><img src="git.png" width="16" height="16" title="code/modules/lost_crew/lost_crew_manager.dm 106"></a></aside></h3><p>Give medbay a happy announcement and put some money into their budget</p><h3 id="proc/create_lost_crew"><aside class="declaration">proc </aside>create_lost_crew<aside>(revivable, /<a href="datum.html">datum</a>/<a href="datum/corpse_damage_class.html">corpse_damage_class</a>/forced_class, /list/recovered_items, /list/protected_items, /list/body_data)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/lost_crew/lost_crew_manager.dm#L24"><img src="git.png" width="16" height="16" title="code/modules/lost_crew/lost_crew_manager.dm 24"></a></aside></h3><p>Creates a body with random background and injuries</p>
<p>Arguments:</p>
<ul>
<li>revivable - Whether or not we can be revived to grand a ghost controle</li>
<li>container - Humans really dont like not having a loc, so please either give the container where you want to spawn it or a turf</li>
<li>forced_class - To force a specific damage class for some specific lore reason</li>
<li>recovered_items - Items recovered, such as some organs, dropped directly with the body</li>
<li>protected_items - Items that can only be recovered by the revived player</li>
<li>body_data - Debug data we can use to get a readout of what has been done</li>
</ul><h3 id="proc/on_successful_revive"><aside class="declaration">proc </aside>on_successful_revive<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/organ.html">organ</a>/<a href="obj/item/organ/brain.html">brain</a>/brain, /list/death_lore, /list/<a href="datum.html">datum</a>/<a href="datum/callback.html">callback</a>/on_revive_and_player_occupancy)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/lost_crew/lost_crew_manager.dm#L79"><img src="git.png" width="16" height="16" title="code/modules/lost_crew/lost_crew_manager.dm 79"></a></aside></h3><p>Set a timer for awarding succes and drop some awesome deathlore</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/c41b333c9bc46606d2c5d5b517f7836d5953fbfd">c41b333</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>