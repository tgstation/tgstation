<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/unit_test - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/unit_test.html#var">Var Details</a> - <a href="datum/unit_test.html#proc">Proc Details</a></header><main><h1>unit_test <aside>/<a href="datum.html">datum</a>/<a href="datum/unit_test.html">unit_test</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/unit_tests/unit_test.dm#L35"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/unit_test.dm 35"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/unit_test.html#var/abstract_type">abstract_type</a></th><td>Do not instantiate if type matches this</td></tr><tr><th><a href="datum/unit_test.html#var/priority">priority</a></th><td>The priority of the test, the larger it is the later it fires</td></tr><tr><th><a href="datum/unit_test.html#var/run_loc_floor_bottom_left">run_loc_floor_bottom_left</a></th><td>The bottom left floor turf of the testing zone</td></tr><tr><th><a href="datum/unit_test.html#var/run_loc_floor_top_right">run_loc_floor_top_right</a></th><td>The top right floor turf of the testing zone</td></tr><tr><th><a href="datum/unit_test.html#var/uncreatables">uncreatables</a></th><td>List of atoms that we don't want to ever initialize in an agnostic context, like for Create and Destroy. Stored on the base datum for usability in other relevant tests that need this data.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/unit_test.html#proc/allocate">allocate</a></th><td>Allocates an instance of the provided type, and places it somewhere in an available loc
Instances allocated through this proc will be destroyed when the test is over</td></tr><tr><th><a href="datum/unit_test.html#proc/build_list_of_uncreatables">build_list_of_uncreatables</a></th><td>Builds (and returns) a list of atoms that we shouldn't initialize in generic testing, like Create and Destroy.
It is appreciated to add the reason why the atom shouldn't be initialized if you add it to this list.</td></tr><tr><th><a href="datum/unit_test.html#proc/click_wrapper">click_wrapper</a></th><td>Helper to perform a click</td></tr><tr><th><a href="datum/unit_test.html#proc/get_flat_icon_for_all_directions">get_flat_icon_for_all_directions</a></th><td>Helper for screenshot tests to take an image of an atom from all directions and insert it into one icon</td></tr><tr><th><a href="datum/unit_test.html#proc/log_for_test">log_for_test</a></th><td>Logs a test message. Will use GitHub action syntax found at https://docs.github.com/en/actions/using-workflows/workflow-commands-for-github-actions</td></tr><tr><th><a href="datum/unit_test.html#proc/restore_atmos">restore_atmos</a></th><td>Resets the air of our testing room to its default</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/abstract_type"><aside class="parent"><a title="/datum" href="datum.html#var/abstract_type">↑</a></aside>abstract_type <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/unit_tests/unit_test.dm#L37"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/unit_test.dm 37"></a></h3><p>Do not instantiate if type matches this</p><h3 id="var/priority"><aside class="declaration">var </aside>priority <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/unit_tests/unit_test.dm#L48"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/unit_test.dm 48"></a></h3><p>The priority of the test, the larger it is the later it fires</p><h3 id="var/run_loc_floor_bottom_left"><aside class="declaration">var </aside>run_loc_floor_bottom_left <aside>– /<a href="turf.html">turf</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/unit_tests/unit_test.dm#L43"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/unit_test.dm 43"></a></h3><p>The bottom left floor turf of the testing zone</p><h3 id="var/run_loc_floor_top_right"><aside class="declaration">var </aside>run_loc_floor_top_right <aside>– /<a href="turf.html">turf</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/unit_tests/unit_test.dm#L46"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/unit_test.dm 46"></a></h3><p>The top right floor turf of the testing zone</p><h3 id="var/uncreatables"><aside class="declaration">var </aside>uncreatables <aside>– /static/list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/unit_tests/unit_test.dm#L56"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/unit_test.dm 56"></a></h3><p>List of atoms that we don't want to ever initialize in an agnostic context, like for Create and Destroy. Stored on the base datum for usability in other relevant tests that need this data.</p><h2 id="proc">Proc Details</h2><h3 id="proc/allocate"><aside class="declaration">proc </aside>allocate<aside>(type, ...)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/unit_tests/unit_test.dm#L106"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/unit_test.dm 106"></a></aside></h3><p>Allocates an instance of the provided type, and places it somewhere in an available loc
Instances allocated through this proc will be destroyed when the test is over</p><h3 id="proc/build_list_of_uncreatables"><aside class="declaration">proc </aside>build_list_of_uncreatables<aside>() <span class="as"> as </span>/list <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/unit_tests/unit_test.dm#L259"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/unit_test.dm 259"></a></aside></h3><p>Builds (and returns) a list of atoms that we shouldn't initialize in generic testing, like Create and Destroy.
It is appreciated to add the reason why the atom shouldn't be initialized if you add it to this list.</p><h3 id="proc/click_wrapper"><aside class="declaration">proc </aside>click_wrapper<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/clicker, /<a href="atom.html">atom</a>/clicked_on, /list/passed_params)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/unit_tests/unit_test.dm#L189"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/unit_test.dm 189"></a></aside></h3><p>Helper to perform a click</p>
<ul>
<li>clicker: The mob that will be clicking</li>
<li>clicked_on: The atom that will be clicked</li>
<li>passed_params: A list of parameters to pass to the click</li>
</ul><h3 id="proc/get_flat_icon_for_all_directions"><aside class="declaration">proc </aside>get_flat_icon_for_all_directions<aside>(/<a href="atom.html">atom</a>/thing, no_anim)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/unit_tests/unit_test.dm#L163"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/unit_test.dm 163"></a></aside></h3><p>Helper for screenshot tests to take an image of an atom from all directions and insert it into one icon</p><h3 id="proc/log_for_test"><aside class="declaration">proc </aside>log_for_test<aside>(text, priority, file, line)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/unit_tests/unit_test.dm#L173"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/unit_test.dm 173"></a></aside></h3><p>Logs a test message. Will use GitHub action syntax found at https://docs.github.com/en/actions/using-workflows/workflow-commands-for-github-actions</p><h3 id="proc/restore_atmos"><aside class="declaration">proc </aside>restore_atmos<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/unit_tests/unit_test.dm#L126"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/unit_test.dm 126"></a></aside></h3><p>Resets the air of our testing room to its default</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>