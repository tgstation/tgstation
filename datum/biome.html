<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/biome - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/biome.html#var">Var Details</a> - <a href="datum/biome.html#proc">Proc Details</a></header><main><h1>biome <aside>/<a href="datum.html">datum</a>/<a href="datum/biome.html">biome</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/mapgen/biomes/_biome.dm#L2"><img src="git.png" width="16" height="16" title="code/datums/mapgen/biomes/_biome.dm 2"></a></h1><p>This datum handles the transitioning from a turf to a specific biome, and handles spawning decorative structures and mobs.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/biome.html#var/fauna_density">fauna_density</a></th><td>Chance of having a mob from the fauna types list spawn</td></tr><tr><th><a href="datum/biome.html#var/fauna_types">fauna_types</a></th><td>Weighted list of type paths of fauna that can be spawned when the
turf spawns fauna.</td></tr><tr><th><a href="datum/biome.html#var/feature_density">feature_density</a></th><td>Chance of spawning special features, such as geysers.</td></tr><tr><th><a href="datum/biome.html#var/feature_types">feature_types</a></th><td>Weighted list of extra features that can spawn in the biome, such as
geysers. Gets expanded automatically.</td></tr><tr><th><a href="datum/biome.html#var/flora_density">flora_density</a></th><td>Chance of having a structure from the flora types list spawn</td></tr><tr><th><a href="datum/biome.html#var/flora_types">flora_types</a></th><td>Weighted list of type paths of flora that can be spawned when the
turf spawns flora.</td></tr><tr><th><a href="datum/biome.html#var/turf_type">turf_type</a></th><td>Type of turf this biome creates</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/biome.html#proc/generate_turf">generate_turf</a></th><td>This proc handles the creation of a turf of a specific biome type</td></tr><tr><th><a href="datum/biome.html#proc/generate_turf_for_terrain">generate_turf_for_terrain</a></th><td>This proc handles the creation of a turf of a specific biome type, assuming
that the turf has not been initialized yet. Don't call this unless you know
what you're doing.</td></tr><tr><th><a href="datum/biome.html#proc/generate_turfs_for_terrain">generate_turfs_for_terrain</a></th><td>This proc handles the sequential creation of turfs of a specific biome type
in order to optimize the generation for large amount of turfs.</td></tr><tr><th><a href="datum/biome.html#proc/populate_turf">populate_turf</a></th><td>This proc handles populating the given turf based on whether flora,
features and fauna are allowed. Does not take megafauna into account.</td></tr><tr><th><a href="datum/biome.html#proc/populate_turfs">populate_turfs</a></th><td>This proc handles populating the given turfs based on whether flora, features
and fauna are allowed. Does not take megafauna into account.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/fauna_density"><aside class="declaration">var </aside>fauna_density <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/mapgen/biomes/_biome.dm#L10"><img src="git.png" width="16" height="16" title="code/datums/mapgen/biomes/_biome.dm 10"></a></h3><p>Chance of having a mob from the fauna types list spawn</p><h3 id="var/fauna_types"><aside class="declaration">var </aside>fauna_types <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/mapgen/biomes/_biome.dm#L19"><img src="git.png" width="16" height="16" title="code/datums/mapgen/biomes/_biome.dm 19"></a></h3><p>Weighted list of type paths of fauna that can be spawned when the
turf spawns fauna.</p><h3 id="var/feature_density"><aside class="declaration">var </aside>feature_density <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/mapgen/biomes/_biome.dm#L8"><img src="git.png" width="16" height="16" title="code/datums/mapgen/biomes/_biome.dm 8"></a></h3><p>Chance of spawning special features, such as geysers.</p><h3 id="var/feature_types"><aside class="declaration">var </aside>feature_types <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/mapgen/biomes/_biome.dm#L16"><img src="git.png" width="16" height="16" title="code/datums/mapgen/biomes/_biome.dm 16"></a></h3><p>Weighted list of extra features that can spawn in the biome, such as
geysers. Gets expanded automatically.</p><h3 id="var/flora_density"><aside class="declaration">var </aside>flora_density <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/mapgen/biomes/_biome.dm#L6"><img src="git.png" width="16" height="16" title="code/datums/mapgen/biomes/_biome.dm 6"></a></h3><p>Chance of having a structure from the flora types list spawn</p><h3 id="var/flora_types"><aside class="declaration">var </aside>flora_types <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/mapgen/biomes/_biome.dm#L13"><img src="git.png" width="16" height="16" title="code/datums/mapgen/biomes/_biome.dm 13"></a></h3><p>Weighted list of type paths of flora that can be spawned when the
turf spawns flora.</p><h3 id="var/turf_type"><aside class="declaration">var </aside>turf_type <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/mapgen/biomes/_biome.dm#L4"><img src="git.png" width="16" height="16" title="code/datums/mapgen/biomes/_biome.dm 4"></a></h3><p>Type of turf this biome creates</p><h2 id="proc">Proc Details</h2><h3 id="proc/generate_turf"><aside class="declaration">proc </aside>generate_turf<aside>(/<a href="turf.html">turf</a>/gen_turf)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/mapgen/biomes/_biome.dm#L35"><img src="git.png" width="16" height="16" title="code/datums/mapgen/biomes/_biome.dm 35"></a></aside></h3><p>This proc handles the creation of a turf of a specific biome type</p><h3 id="proc/generate_turf_for_terrain"><aside class="declaration">proc </aside>generate_turf_for_terrain<aside>(/<a href="turf.html">turf</a>/gen_turf)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/mapgen/biomes/_biome.dm#L55"><img src="git.png" width="16" height="16" title="code/datums/mapgen/biomes/_biome.dm 55"></a></aside></h3><p>This proc handles the creation of a turf of a specific biome type, assuming
that the turf has not been initialized yet. Don't call this unless you know
what you're doing.</p><h3 id="proc/generate_turfs_for_terrain"><aside class="declaration">proc </aside>generate_turfs_for_terrain<aside>(/list/<a href="turf.html">turf</a>/gen_turfs)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/mapgen/biomes/_biome.dm#L69"><img src="git.png" width="16" height="16" title="code/datums/mapgen/biomes/_biome.dm 69"></a></aside></h3><p>This proc handles the sequential creation of turfs of a specific biome type
in order to optimize the generation for large amount of turfs.</p>
<p>Arguments:</p>
<ul>
<li>gen_turfs - List of turfs to use for turf generation.</li>
</ul>
<p>Returns a new list of turfs that were generated by the biome.</p><h3 id="proc/populate_turf"><aside class="declaration">proc </aside>populate_turf<aside>(/<a href="turf.html">turf</a>/target_turf, flora_allowed, features_allowed, fauna_allowed)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/mapgen/biomes/_biome.dm#L86"><img src="git.png" width="16" height="16" title="code/datums/mapgen/biomes/_biome.dm 86"></a></aside></h3><p>This proc handles populating the given turf based on whether flora,
features and fauna are allowed. Does not take megafauna into account.</p><h3 id="proc/populate_turfs"><aside class="declaration">proc </aside>populate_turfs<aside>(/list/<a href="turf.html">turf</a>/target_turfs, flora_allowed, features_allowed, fauna_allowed)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/mapgen/biomes/_biome.dm#L135"><img src="git.png" width="16" height="16" title="code/datums/mapgen/biomes/_biome.dm 135"></a></aside></h3><p>This proc handles populating the given turfs based on whether flora, features
and fauna are allowed. Does not take megafauna into account.</p>
<p>Does nothing if <code>flora_allowed</code>, <code>features_allowed</code> and <code>fauna_allowed</code> are
<code>FALSE</code>, or if there's no flora, feature or fauna types for the matching
allowed type. Aka, we return early if the proc wouldn't do anything anyway.</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>