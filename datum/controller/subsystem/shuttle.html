<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/controller/subsystem/shuttle - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/controller/subsystem/shuttle.html#var">Var Details</a> - <a href="datum/controller/subsystem/shuttle.html#proc">Proc Details</a></header><main><h1>shuttle <aside>/<a href="datum.html">datum</a>/<a href="datum/controller/subsystem.html">controller/subsystem</a>/<a href="datum/controller/subsystem/shuttle.html">shuttle</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L9"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 9"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/admin_emergency_no_recall">admin_emergency_no_recall</a></th><td>Did admins force-prevent the recall of the shuttle?</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/arrivals">arrivals</a></th><td>The mobile docking port of the arrivals shuttle.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/assoc_mobile">assoc_mobile</a></th><td>Now it's only for ID generation in /obj/docking_port/mobile/register()</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/assoc_stationary">assoc_stationary</a></th><td>Now it's only for ID generation in /obj/docking_port/stationary/register()</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/backup_shuttle">backup_shuttle</a></th><td>The mobile docking port of the backup emergency shuttle.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/beacon_list">beacon_list</a></th><td>A list of all the beacons that can be docked to.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/centcom_message">centcom_message</a></th><td>Remarks from CentCom on how well you checked the last order.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/chef_groceries">chef_groceries</a></th><td>Queued supplies to be purchased for the chef.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/custom_shuttles">custom_shuttles</a></th><td>A list of all the custom shuttles.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/discovered_plants">discovered_plants</a></th><td>Typepaths for unusual plants we've already sent CentCom, associated with their potencies.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/emergency">emergency</a></th><td>Emergency shuttle stuff
The mobile docking port of the emergency shuttle.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/emergencyCallAmount">emergencyCallAmount</a></th><td>How many times was the escape shuttle called?</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/emergency_call_time">emergency_call_time</a></th><td>Time taken for emergency shuttle to reach the station when called (in deciseconds).</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/emergency_dock_time">emergency_dock_time</a></th><td>Time taken for emergency shuttle to leave again once it has docked (in deciseconds).</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/emergency_escape_time">emergency_escape_time</a></th><td>Time taken for emergency shuttle to reach a safe distance after leaving station (in deciseconds).</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/emergency_last_call_loc">emergency_last_call_loc</a></th><td>Where was the emergency shuttle last called from?</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/emergency_no_escape">emergency_no_escape</a></th><td>Is the departure of the shuttle currently prevented? FALSE for no, any other number for yes (thanks shuttle code).</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/emergency_no_recall">emergency_no_recall</a></th><td>Do we prevent the recall of the shuttle?</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/existing_shuttle">existing_shuttle</a></th><td>The existing shuttle associated with the selected shuttle map_template.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/express_consoles">express_consoles</a></th><td>List of express consoles that are waiting for pack initialization</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/has_purchase_shuttle_access">has_purchase_shuttle_access</a></th><td>A list of job accesses that are able to purchase any shuttles.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/hidden_shuttle_turf_images">hidden_shuttle_turf_images</a></th><td>Only the images from the <a href="datum/controller/subsystem/shuttle.html#var/hidden_shuttle_turfs" title="/datum/controller/subsystem/shuttle">/datum/controller/subsystem/shuttle/hidden_shuttle_turfs</a> list.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/hidden_shuttle_turfs">hidden_shuttle_turfs</a></th><td>All turfs hidden from navigation computers associated with a list containing the image hiding them and the type of the turf they are pretending to be</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/hostile_environments">hostile_environments</a></th><td>Things blocking escape shuttle from leaving.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/last_call_time">last_call_time</a></th><td>Previous time left to the call, only useful for disabling and re-enabling the shuttle for admins so it doesn't have to start the whole timer again.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/last_mode">last_mode</a></th><td>Previous mode of the shuttle before it was forcefully disabled by admins.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/lockdown">lockdown</a></th><td>Disallow transit after nuke goes off</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/mobile_docking_ports">mobile_docking_ports</a></th><td>A list of all the mobile docking ports.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/order_number">order_number</a></th><td>Order number given to next order.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/points">points</a></th><td>Number of trade-points we have (basically money).</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/preview_reservation">preview_reservation</a></th><td>The turf reservation for the current previewed shuttle.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/preview_shuttle">preview_shuttle</a></th><td>The docking port associated to the preview_template that's currently being previewed.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/preview_template">preview_template</a></th><td>The shuttle map_template of the shuttle we want to preview.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/request_list">request_list</a></th><td>Wishlist items made by crew for cargo to purchase at their leisure.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/selected">selected</a></th><td>The currently selected shuttle map_template in the shuttle manipulator's template viewer.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/shopping_list">shopping_list</a></th><td>Queued supply packs to be purchased.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/shuttle_insurance">shuttle_insurance</a></th><td>If the event happens where the crew can purchase shuttle insurance, catastrophe can't run.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/shuttle_loading">shuttle_loading</a></th><td>Are we currently in the process of loading a shuttle? Useful to ensure we don't load more than one at once, to avoid weird inconsistencies and possible runtimes.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/shuttle_loan">shuttle_loan</a></th><td>The current shuttle loan event, if any.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/shuttle_purchase_requirements_met">shuttle_purchase_requirements_met</a></th><td>For keeping track of ingame events that would unlock new shuttles, such as defeating a boss or discovering a secret item.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/stationary_docking_ports">stationary_docking_ports</a></th><td>A list of all the stationary docking ports.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/supermatter_cascade">supermatter_cascade</a></th><td>Did the supermatter start a cascade event?</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/supply">supply</a></th><td>Supply shuttle stuff
The current cargo shuttle's mobile docking port.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/supply_blocked">supply_blocked</a></th><td>Is the cargo shuttle currently blocked from leaving?</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/supply_packs">supply_packs</a></th><td>All of the possible supply packs that can be purchased by cargo.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/trade_blockade">trade_blockade</a></th><td>Things blocking the cargo shuttle from leaving.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/transit_docking_ports">transit_docking_ports</a></th><td>A list of all the transit docking ports.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/transit_request_failures">transit_request_failures</a></th><td>An associative list of the mobile docking ports that have failed a transit request, with the amount of times they've actually failed that transit request, up to MAX_TRANSIT_REQUEST_RETRIES</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/transit_requesters">transit_requesters</a></th><td>A list of all the mobile docking ports currently requesting a spot in hyperspace.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/transit_utilized">transit_utilized</a></th><td>How many turfs our shuttles are currently utilizing in reservation space</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#proc/action_load">action_load</a></th><td>Loads a shuttle template and sends it to a given destination port, optionally replacing the existing shuttle</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#proc/admin_recall">admin_recall</a></th><td>Handle admin level overrides of recalling the shuttle. We assume that the user passed is an admin.
If a special state exists, we prompt the admin to confirm they want to override the wishes of other admins/game code. Returns TRUE if they elect to do so, FALSE otherwise.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#proc/call_evac_shuttle">call_evac_shuttle</a></th><td>Call the emergency shuttle.
If you are doing this on behalf of a player, use requestEvac instead.
<code>signal_origin</code> is fluff occasionally provided to players.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#proc/canEvac">canEvac</a></th><td>Check if we can call the evac shuttle.
Returns TRUE if we can. Otherwise, returns a string detailing the problem.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#proc/can_recall">can_recall</a></th><td>Can this user recall the emergency shuttle? Returns TRUE if they can, otherwise returns FALSE.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#proc/cancel_evac">cancel_evac</a></th><td>Actually work on canceling the emergency shuttle recall. Returns TRUE if successful, FALSE otherwise.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#proc/centcom_recall">centcom_recall</a></th><td>Does a fluffy CentCom recall of the emergency shuttle with additional message as desired.
Returns TRUE on success, FALSE otherwise.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#proc/load_template">load_template</a></th><td>Loads a shuttle template into the transit Z level, usually referred to elsewhere in the code as a shuttle preview.
Does not register the shuttle so it can't be used yet, that's handled in action_load()</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#proc/moveShuttle">moveShuttle</a></th><td>Moves a shuttle to a new location</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#proc/past_restriction_point">past_restriction_point</a></th><td>Are we past the restriction point (i.e. more than half of the shuttle timer has elapsed) for recalling the shuttle? Returns TRUE if we are, FALSE otherwise.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#proc/requestEvac">requestEvac</a></th><td>Calls the emergency shuttle.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#proc/transit_space_clearing">transit_space_clearing</a></th><td>Gotta manage our space brother</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#proc/unload_preview">unload_preview</a></th><td>Removes the preview_shuttle from the transit Z-level</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/admin_emergency_no_recall"><aside class="declaration">var </aside>admin_emergency_no_recall <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L68"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 68"></a></h3><p>Did admins force-prevent the recall of the shuttle?</p><h3 id="var/arrivals"><aside class="declaration">var </aside>arrivals <aside>– /<a href="obj.html">obj</a>/<a href="obj/docking_port.html">docking_port</a>/<a href="obj/docking_port/mobile.html">mobile</a>/<a href="obj/docking_port/mobile/arrivals.html">arrivals</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L50"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 50"></a></h3><p>The mobile docking port of the arrivals shuttle.</p><h3 id="var/assoc_mobile"><aside class="declaration">var </aside>assoc_mobile <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L32"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 32"></a></h3><p>Now it's only for ID generation in /obj/docking_port/mobile/register()</p><h3 id="var/assoc_stationary"><aside class="declaration">var </aside>assoc_stationary <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L34"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 34"></a></h3><p>Now it's only for ID generation in /obj/docking_port/stationary/register()</p><h3 id="var/backup_shuttle"><aside class="declaration">var </aside>backup_shuttle <aside>– /<a href="obj.html">obj</a>/<a href="obj/docking_port.html">docking_port</a>/<a href="obj/docking_port/mobile.html">mobile</a>/<a href="obj/docking_port/mobile/emergency.html">emergency</a>/backup</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L52"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 52"></a></h3><p>The mobile docking port of the backup emergency shuttle.</p><h3 id="var/beacon_list"><aside class="declaration">var </aside>beacon_list <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L27"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 27"></a></h3><p>A list of all the beacons that can be docked to.</p><h3 id="var/centcom_message"><aside class="declaration">var </aside>centcom_message <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L88"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 88"></a></h3><p>Remarks from CentCom on how well you checked the last order.</p><h3 id="var/chef_groceries"><aside class="declaration">var </aside>chef_groceries <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L101"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 101"></a></h3><p>Queued supplies to be purchased for the chef.</p><h3 id="var/custom_shuttles"><aside class="declaration">var </aside>custom_shuttles <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L25"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 25"></a></h3><p>A list of all the custom shuttles.</p><h3 id="var/discovered_plants"><aside class="declaration">var </aside>discovered_plants <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L90"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 90"></a></h3><p>Typepaths for unusual plants we've already sent CentCom, associated with their potencies.</p><h3 id="var/emergency"><aside class="declaration">var </aside>emergency <aside>– /<a href="obj.html">obj</a>/<a href="obj/docking_port.html">docking_port</a>/<a href="obj/docking_port/mobile.html">mobile</a>/<a href="obj/docking_port/mobile/emergency.html">emergency</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L48"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 48"></a></h3><p>Emergency shuttle stuff
The mobile docking port of the emergency shuttle.</p><h3 id="var/emergencyCallAmount"><aside class="declaration">var </aside>emergencyCallAmount <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L62"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 62"></a></h3><p>How many times was the escape shuttle called?</p><h3 id="var/emergency_call_time"><aside class="declaration">var </aside>emergency_call_time <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L54"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 54"></a></h3><p>Time taken for emergency shuttle to reach the station when called (in deciseconds).</p><h3 id="var/emergency_dock_time"><aside class="declaration">var </aside>emergency_dock_time <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L56"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 56"></a></h3><p>Time taken for emergency shuttle to leave again once it has docked (in deciseconds).</p><h3 id="var/emergency_escape_time"><aside class="declaration">var </aside>emergency_escape_time <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L58"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 58"></a></h3><p>Time taken for emergency shuttle to reach a safe distance after leaving station (in deciseconds).</p><h3 id="var/emergency_last_call_loc"><aside class="declaration">var </aside>emergency_last_call_loc <aside>– /<a href="area.html">area</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L60"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 60"></a></h3><p>Where was the emergency shuttle last called from?</p><h3 id="var/emergency_no_escape"><aside class="declaration">var </aside>emergency_no_escape <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L64"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 64"></a></h3><p>Is the departure of the shuttle currently prevented? FALSE for no, any other number for yes (thanks shuttle code).</p><h3 id="var/emergency_no_recall"><aside class="declaration">var </aside>emergency_no_recall <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L66"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 66"></a></h3><p>Do we prevent the recall of the shuttle?</p><h3 id="var/existing_shuttle"><aside class="declaration">var </aside>existing_shuttle <aside>– /<a href="obj.html">obj</a>/<a href="obj/docking_port.html">docking_port</a>/<a href="obj/docking_port/mobile.html">mobile</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L134"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 134"></a></h3><p>The existing shuttle associated with the selected shuttle map_template.</p><h3 id="var/express_consoles"><aside class="declaration">var </aside>express_consoles <aside>– /list/<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/computer.html">computer</a>/<a href="obj/machinery/computer/cargo.html">cargo</a>/<a href="obj/machinery/computer/cargo/express.html">express</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L150"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 150"></a></h3><p>List of express consoles that are waiting for pack initialization</p><h3 id="var/has_purchase_shuttle_access"><aside class="declaration">var </aside>has_purchase_shuttle_access <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L110"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 110"></a></h3><p>A list of job accesses that are able to purchase any shuttles.</p><h3 id="var/hidden_shuttle_turf_images"><aside class="declaration">var </aside>hidden_shuttle_turf_images <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L115"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 115"></a></h3><p>Only the images from the <a href="datum/controller/subsystem/shuttle.html#var/hidden_shuttle_turfs" title="/datum/controller/subsystem/shuttle">/datum/controller/subsystem/shuttle/hidden_shuttle_turfs</a> list.</p><h3 id="var/hidden_shuttle_turfs"><aside class="declaration">var </aside>hidden_shuttle_turfs <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L113"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 113"></a></h3><p>All turfs hidden from navigation computers associated with a list containing the image hiding them and the type of the turf they are pretending to be</p><h3 id="var/hostile_environments"><aside class="declaration">var </aside>hostile_environments <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L75"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 75"></a></h3><p>Things blocking escape shuttle from leaving.</p><h3 id="var/last_call_time"><aside class="declaration">var </aside>last_call_time <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L72"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 72"></a></h3><p>Previous time left to the call, only useful for disabling and re-enabling the shuttle for admins so it doesn't have to start the whole timer again.</p><h3 id="var/last_mode"><aside class="declaration">var </aside>last_mode <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L70"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 70"></a></h3><p>Previous mode of the shuttle before it was forcefully disabled by admins.</p><h3 id="var/lockdown"><aside class="declaration">var </aside>lockdown <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L128"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 128"></a></h3><p>Disallow transit after nuke goes off</p><h3 id="var/mobile_docking_ports"><aside class="declaration">var </aside>mobile_docking_ports <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L21"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 21"></a></h3><p>A list of all the mobile docking ports.</p><h3 id="var/order_number"><aside class="declaration">var </aside>order_number <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L84"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 84"></a></h3><p>Order number given to next order.</p><h3 id="var/points"><aside class="declaration">var </aside>points <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L86"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 86"></a></h3><p>Number of trade-points we have (basically money).</p><h3 id="var/preview_reservation"><aside class="declaration">var </aside>preview_reservation <aside>– /<a href="datum.html">datum</a>/<a href="datum/turf_reservation.html">turf_reservation</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L142"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 142"></a></h3><p>The turf reservation for the current previewed shuttle.</p><h3 id="var/preview_shuttle"><aside class="declaration">var </aside>preview_shuttle <aside>– /<a href="obj.html">obj</a>/<a href="obj/docking_port.html">docking_port</a>/<a href="obj/docking_port/mobile.html">mobile</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L139"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 139"></a></h3><p>The docking port associated to the preview_template that's currently being previewed.</p><h3 id="var/preview_template"><aside class="declaration">var </aside>preview_template <aside>– /<a href="datum.html">datum</a>/<a href="datum/map_template.html">map_template</a>/<a href="datum/map_template/shuttle.html">shuttle</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L137"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 137"></a></h3><p>The shuttle map_template of the shuttle we want to preview.</p><h3 id="var/request_list"><aside class="declaration">var </aside>request_list <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L107"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 107"></a></h3><p>Wishlist items made by crew for cargo to purchase at their leisure.</p><h3 id="var/selected"><aside class="declaration">var </aside>selected <aside>– /<a href="datum.html">datum</a>/<a href="datum/map_template.html">map_template</a>/<a href="datum/map_template/shuttle.html">shuttle</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L131"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 131"></a></h3><p>The currently selected shuttle map_template in the shuttle manipulator's template viewer.</p><h3 id="var/shopping_list"><aside class="declaration">var </aside>shopping_list <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L104"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 104"></a></h3><p>Queued supply packs to be purchased.</p><h3 id="var/shuttle_insurance"><aside class="declaration">var </aside>shuttle_insurance <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L121"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 121"></a></h3><p>If the event happens where the crew can purchase shuttle insurance, catastrophe can't run.</p><h3 id="var/shuttle_loading"><aside class="declaration">var </aside>shuttle_loading <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L145"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 145"></a></h3><p>Are we currently in the process of loading a shuttle? Useful to ensure we don't load more than one at once, to avoid weird inconsistencies and possible runtimes.</p><h3 id="var/shuttle_loan"><aside class="declaration">var </aside>shuttle_loan <aside>– /<a href="datum.html">datum</a>/<a href="datum/round_event.html">round_event</a>/<a href="datum/round_event/shuttle_loan.html">shuttle_loan</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L118"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 118"></a></h3><p>The current shuttle loan event, if any.</p><h3 id="var/shuttle_purchase_requirements_met"><aside class="declaration">var </aside>shuttle_purchase_requirements_met <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L125"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 125"></a></h3><p>For keeping track of ingame events that would unlock new shuttles, such as defeating a boss or discovering a secret item.</p><h3 id="var/stationary_docking_ports"><aside class="declaration">var </aside>stationary_docking_ports <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L23"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 23"></a></h3><p>A list of all the stationary docking ports.</p><h3 id="var/supermatter_cascade"><aside class="declaration">var </aside>supermatter_cascade <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L147"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 147"></a></h3><p>Did the supermatter start a cascade event?</p><h3 id="var/supply"><aside class="declaration">var </aside>supply <aside>– /<a href="obj.html">obj</a>/<a href="obj/docking_port.html">docking_port</a>/<a href="obj/docking_port/mobile.html">mobile</a>/<a href="obj/docking_port/mobile/supply.html">supply</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L82"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 82"></a></h3><p>Supply shuttle stuff
The current cargo shuttle's mobile docking port.</p><h3 id="var/supply_blocked"><aside class="declaration">var </aside>supply_blocked <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L95"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 95"></a></h3><p>Is the cargo shuttle currently blocked from leaving?</p><h3 id="var/supply_packs"><aside class="declaration">var </aside>supply_packs <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L98"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 98"></a></h3><p>All of the possible supply packs that can be purchased by cargo.</p><h3 id="var/trade_blockade"><aside class="declaration">var </aside>trade_blockade <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L93"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 93"></a></h3><p>Things blocking the cargo shuttle from leaving.</p><h3 id="var/transit_docking_ports"><aside class="declaration">var </aside>transit_docking_ports <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L29"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 29"></a></h3><p>A list of all the transit docking ports.</p><h3 id="var/transit_request_failures"><aside class="declaration">var </aside>transit_request_failures <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L39"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 39"></a></h3><p>An associative list of the mobile docking ports that have failed a transit request, with the amount of times they've actually failed that transit request, up to MAX_TRANSIT_REQUEST_RETRIES</p><h3 id="var/transit_requesters"><aside class="declaration">var </aside>transit_requesters <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L37"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 37"></a></h3><p>A list of all the mobile docking ports currently requesting a spot in hyperspace.</p><h3 id="var/transit_utilized"><aside class="declaration">var </aside>transit_utilized <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L41"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 41"></a></h3><p>How many turfs our shuttles are currently utilizing in reservation space</p><h2 id="proc">Proc Details</h2><h3 id="proc/action_load"><aside class="declaration">proc </aside>action_load<aside>(/<a href="datum.html">datum</a>/<a href="datum/map_template.html">map_template</a>/<a href="datum/map_template/shuttle.html">shuttle</a>/loading_template, /<a href="obj.html">obj</a>/<a href="obj/docking_port.html">docking_port</a>/<a href="obj/docking_port/stationary.html">stationary</a>/destination_port, replace)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L912"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 912"></a></aside></h3><p>Loads a shuttle template and sends it to a given destination port, optionally replacing the existing shuttle</p>
<p>Arguments:</p>
<ul>
<li>loading_template - The shuttle template to load</li>
<li>destination_port - The station docking port to send the shuttle to once loaded</li>
<li>replace - Whether to replace the shuttle or create a new one</li>
</ul><h3 id="proc/admin_recall"><aside class="declaration">proc </aside>admin_recall<aside>(/<a href="mob.html">mob</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L496"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 496"></a></aside></h3><p>Handle admin level overrides of recalling the shuttle. We assume that the user passed is an admin.
If a special state exists, we prompt the admin to confirm they want to override the wishes of other admins/game code. Returns TRUE if they elect to do so, FALSE otherwise.</p><h3 id="proc/call_evac_shuttle"><aside class="declaration">proc </aside>call_evac_shuttle<aside>(call_reason, signal_origin)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L399"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 399"></a></aside></h3><p>Call the emergency shuttle.
If you are doing this on behalf of a player, use requestEvac instead.
<code>signal_origin</code> is fluff occasionally provided to players.</p><h3 id="proc/canEvac"><aside class="declaration">proc </aside>canEvac<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L325"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 325"></a></aside></h3><p>Check if we can call the evac shuttle.
Returns TRUE if we can. Otherwise, returns a string detailing the problem.</p><h3 id="proc/can_recall"><aside class="declaration">proc </aside>can_recall<aside>(/<a href="mob.html">mob</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L465"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 465"></a></aside></h3><p>Can this user recall the emergency shuttle? Returns TRUE if they can, otherwise returns FALSE.</p><h3 id="proc/cancel_evac"><aside class="declaration">proc </aside>cancel_evac<aside>(/<a href="mob.html">mob</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L454"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 454"></a></aside></h3><p>Actually work on canceling the emergency shuttle recall. Returns TRUE if successful, FALSE otherwise.</p><h3 id="proc/centcom_recall"><aside class="declaration">proc </aside>centcom_recall<aside>(/<a href="mob.html">mob</a>/user, old_timer, admiral_message)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L422"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 422"></a></aside></h3><p>Does a fluffy CentCom recall of the emergency shuttle with additional message as desired.
Returns TRUE on success, FALSE otherwise.</p><h3 id="proc/load_template"><aside class="declaration">proc </aside>load_template<aside>(/<a href="datum.html">datum</a>/<a href="datum/map_template.html">map_template</a>/<a href="datum/map_template/shuttle.html">shuttle</a>/loading_template)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L983"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 983"></a></aside></h3><p>Loads a shuttle template into the transit Z level, usually referred to elsewhere in the code as a shuttle preview.
Does not register the shuttle so it can't be used yet, that's handled in action_load()</p>
<p>Arguments:</p>
<ul>
<li>loading_template - The shuttle template to load</li>
</ul><h3 id="proc/moveShuttle"><aside class="declaration">proc </aside>moveShuttle<aside>(shuttle_id, dock_id, timed)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L638"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 638"></a></aside></h3><p>Moves a shuttle to a new location</p>
<p>Arguments:</p>
<ul>
<li>shuttle_id - The ID of the shuttle (mobile docking port) to move</li>
<li>dock_id - The ID of the destination (stationary docking port) to move to</li>
<li>timed - If true, have the shuttle follow normal spool-up, jump, dock process. If false, immediately move to the new location.</li>
</ul><h3 id="proc/past_restriction_point"><aside class="declaration">proc </aside>past_restriction_point<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L479"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 479"></a></aside></h3><p>Are we past the restriction point (i.e. more than half of the shuttle timer has elapsed) for recalling the shuttle? Returns TRUE if we are, FALSE otherwise.</p><h3 id="proc/requestEvac"><aside class="declaration">proc </aside>requestEvac<aside>(/<a href="mob.html">mob</a>/user, call_reason)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L372"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 372"></a></aside></h3><p>Calls the emergency shuttle.</p>
<p>Arguments:</p>
<ul>
<li>user - The mob that called the shuttle.</li>
<li>call_reason - The reason the shuttle was called, which should be non-html-encoded text.</li>
</ul><h3 id="proc/transit_space_clearing"><aside class="declaration">proc </aside>transit_space_clearing<aside>(/<a href="datum.html">datum</a>/<a href="datum/turf_reservation.html">turf_reservation</a>/source)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L766"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 766"></a></aside></h3><p>Gotta manage our space brother</p><h3 id="proc/unload_preview"><aside class="declaration">proc </aside>unload_preview<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/controllers/subsystem/shuttle.dm#L1032"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 1032"></a></aside></h3><p>Removes the preview_shuttle from the transit Z-level</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>