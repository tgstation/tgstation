<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/controller/subsystem/lag_switch - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/controller/subsystem/lag_switch.html#var">Var Details</a> - <a href="datum/controller/subsystem/lag_switch.html#proc">Proc Details</a></header><main><h1>lag_switch <aside>/<a href="datum.html">datum</a>/<a href="datum/controller/subsystem.html">controller/subsystem</a>/<a href="datum/controller/subsystem/lag_switch.html">lag_switch</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/controllers/subsystem/lag_switch.dm#L2"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/lag_switch.dm 2"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/controller/subsystem/lag_switch.html#var/auto_measures">auto_measures</a></th><td>List of measures that toggle automatically</td></tr><tr><th><a href="datum/controller/subsystem/lag_switch.html#var/auto_switch">auto_switch</a></th><td>If the lag switch measures should attempt to trigger automatically, TRUE if a config value exists</td></tr><tr><th><a href="datum/controller/subsystem/lag_switch.html#var/measures">measures</a></th><td>List of bools corresponding to code/__DEFINES/lag_switch.dm</td></tr><tr><th><a href="datum/controller/subsystem/lag_switch.html#var/slowmode_cooldown">slowmode_cooldown</a></th><td>Cooldown between say verb uses when slowmode is enabled</td></tr><tr><th><a href="datum/controller/subsystem/lag_switch.html#var/trigger_pop">trigger_pop</a></th><td>Amount of connected clients at which the Lag Switch should engage, set via config or admin panel</td></tr><tr><th><a href="datum/controller/subsystem/lag_switch.html#var/veto_timer_id">veto_timer_id</a></th><td>Timer ID for the automatic veto period</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/controller/subsystem/lag_switch.html#proc/cancel_auto_enable_in_progress">cancel_auto_enable_in_progress</a></th><td>Called from an admin chat link</td></tr><tr><th><a href="datum/controller/subsystem/lag_switch.html#proc/change_slowmode_cooldown">change_slowmode_cooldown</a></th><td>Update the slowmode timer length and clear existing ones if reduced</td></tr><tr><th><a href="datum/controller/subsystem/lag_switch.html#proc/set_all_measures">set_all_measures</a></th><td>Helper to loop over all measures for mass changes</td></tr><tr><th><a href="datum/controller/subsystem/lag_switch.html#proc/set_measure">set_measure</a></th><td>Handle the state change for individual measures</td></tr><tr><th><a href="datum/controller/subsystem/lag_switch.html#proc/toggle_auto_enable">toggle_auto_enable</a></th><td>(En/Dis)able automatic triggering of switches based on client count</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/auto_measures"><aside class="declaration">var </aside>auto_measures <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/controllers/subsystem/lag_switch.dm#L13"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/lag_switch.dm 13"></a></h3><p>List of measures that toggle automatically</p><h3 id="var/auto_switch"><aside class="declaration">var </aside>auto_switch <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/controllers/subsystem/lag_switch.dm#L7"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/lag_switch.dm 7"></a></h3><p>If the lag switch measures should attempt to trigger automatically, TRUE if a config value exists</p><h3 id="var/measures"><aside class="declaration">var </aside>measures <aside>– /static/list/list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/controllers/subsystem/lag_switch.dm#L11"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/lag_switch.dm 11"></a></h3><p>List of bools corresponding to code/__DEFINES/lag_switch.dm</p><h3 id="var/slowmode_cooldown"><aside class="declaration">var </aside>slowmode_cooldown <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/controllers/subsystem/lag_switch.dm#L17"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/lag_switch.dm 17"></a></h3><p>Cooldown between say verb uses when slowmode is enabled</p><h3 id="var/trigger_pop"><aside class="declaration">var </aside>trigger_pop <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/controllers/subsystem/lag_switch.dm#L9"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/lag_switch.dm 9"></a></h3><p>Amount of connected clients at which the Lag Switch should engage, set via config or admin panel</p><h3 id="var/veto_timer_id"><aside class="declaration">var </aside>veto_timer_id <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/controllers/subsystem/lag_switch.dm#L15"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/lag_switch.dm 15"></a></h3><p>Timer ID for the automatic veto period</p><h2 id="proc">Proc Details</h2><h3 id="proc/cancel_auto_enable_in_progress"><aside class="declaration">proc </aside>cancel_auto_enable_in_progress<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/controllers/subsystem/lag_switch.dm#L49"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/lag_switch.dm 49"></a></aside></h3><p>Called from an admin chat link</p><h3 id="proc/change_slowmode_cooldown"><aside class="declaration">proc </aside>change_slowmode_cooldown<aside>(length)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/controllers/subsystem/lag_switch.dm#L58"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/lag_switch.dm 58"></a></aside></h3><p>Update the slowmode timer length and clear existing ones if reduced</p><h3 id="proc/set_all_measures"><aside class="declaration">proc </aside>set_all_measures<aside>(state, automatic)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/controllers/subsystem/lag_switch.dm#L131"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/lag_switch.dm 131"></a></aside></h3><p>Helper to loop over all measures for mass changes</p><h3 id="proc/set_measure"><aside class="declaration">proc </aside>set_measure<aside>(measure_key, state)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/controllers/subsystem/lag_switch.dm#L76"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/lag_switch.dm 76"></a></aside></h3><p>Handle the state change for individual measures</p><h3 id="proc/toggle_auto_enable"><aside class="declaration">proc </aside>toggle_auto_enable<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/controllers/subsystem/lag_switch.dm#L41"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/lag_switch.dm 41"></a></aside></h3><p>(En/Dis)able automatic triggering of switches based on client count</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/c41b333c9bc46606d2c5d5b517f7836d5953fbfd">c41b333</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>