<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/embedding - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/embedding.html#var">Var Details</a> - <a href="datum/embedding.html#proc">Proc Details</a></header><main><h1>embedding <aside>/<a href="datum.html">datum</a>/<a href="datum/embedding.html">embedding</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L13"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 13"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/embedding.html#var/embed_chance">embed_chance</a></th><td>Chance for an object to embed into somebody when thrown</td></tr><tr><th><a href="datum/embedding.html#var/fall_chance">fall_chance</a></th><td>Chance for embedded object to fall out (causing pain but removing the object)</td></tr><tr><th><a href="datum/embedding.html#var/ignore_throwspeed_threshold">ignore_throwspeed_threshold</a></th><td>If this should ignore throw speed threshold of 4</td></tr><tr><th><a href="datum/embedding.html#var/immune_traits">immune_traits</a></th><td>Traits which make target immune to us embedding into them, any trait from the list works</td></tr><tr><th><a href="datum/embedding.html#var/impact_pain_mult">impact_pain_mult</a></th><td>Coefficient of multiplication for the damage the item does when it first embeds (this*item.w_class)</td></tr><tr><th><a href="datum/embedding.html#var/jostle_chance">jostle_chance</a></th><td>Chance for embedded objects to cause pain every time they move (jostle)</td></tr><tr><th><a href="datum/embedding.html#var/jostle_pain_mult">jostle_pain_mult</a></th><td>Coefficient of multiplication for the damage the item does while</td></tr><tr><th><a href="datum/embedding.html#var/owner">owner</a></th><td>Mob we've embedded into, if any</td></tr><tr><th><a href="datum/embedding.html#var/owner_limb">owner_limb</a></th><td>Limb we've embedded into in whose contents we reside</td></tr><tr><th><a href="datum/embedding.html#var/pain_chance">pain_chance</a></th><td>Chance for embedded objects to cause pain (damage user)</td></tr><tr><th><a href="datum/embedding.html#var/pain_mult">pain_mult</a></th><td>Coefficient of multiplication for the damage the item does while embedded (this*item.w_class)</td></tr><tr><th><a href="datum/embedding.html#var/pain_stam_pct">pain_stam_pct</a></th><td>This percentage of all pain will be dealt as stam damage rather than brute (0-1)</td></tr><tr><th><a href="datum/embedding.html#var/parent">parent</a></th><td>Thing that we're attached to</td></tr><tr><th><a href="datum/embedding.html#var/remove_pain_mult">remove_pain_mult</a></th><td>Coefficient of multiplication for the damage the item does when it falls out or is removed without a surgery (this*item.w_class)</td></tr><tr><th><a href="datum/embedding.html#var/rip_time">rip_time</a></th><td>Time in ticks, total removal time = (this*item.w_class)</td></tr><tr><th><a href="datum/embedding.html#var/stealthy_embed">stealthy_embed</a></th><td>The embed doesn't show up on examine, only on health analyzers.
(Note: This means you can't rip it out)
It will also hide its name (and downplay its severity) when referring to in messages.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/embedding.html#proc/can_embed">can_embed</a></th><td>Is passed victim a valid target for us to embed into?</td></tr><tr><th><a href="datum/embedding.html#proc/create_copy">create_copy</a></th><td>Creates a copy and sets all of its <em>relevant</em> variables
Children should override this with new variables if they add any &quot;generic&quot; ones</td></tr><tr><th><a href="datum/embedding.html#proc/damaging_removal_effect">damaging_removal_effect</a></th><td>Handles damage effects upon forceful removal</td></tr><tr><th><a href="datum/embedding.html#proc/examined_tags">examined_tags</a></th><td>Someone inspected our embeddable item</td></tr><tr><th><a href="datum/embedding.html#proc/failed_embed">failed_embed</a></th><td>We've tried to embed into something and failed
Random being TRUE means we've lost the roulette, FALSE means we've either been blocked or the target is invalid</td></tr><tr><th><a href="datum/embedding.html#proc/fall_out">fall_out</a></th><td>Called when then item randomly falls out of a carbon. This handles the damage and descriptors, then calls remove_embedding()</td></tr><tr><th><a href="datum/embedding.html#proc/is_harmless">is_harmless</a></th><td>Does this item deal any damage when embedding or jostling inside of someone?</td></tr><tr><th><a href="datum/embedding.html#proc/jostle_effects">jostle_effects</a></th><td>Effects which should occur when the owner moves, sometimes</td></tr><tr><th><a href="datum/embedding.html#proc/magic_pull">magic_pull</a></th><td>Called when an object is ripped out of someone's body by magic or other abnormal means</td></tr><tr><th><a href="datum/embedding.html#proc/on_attackby">on_attackby</a></th><td>When someone attempts to pluck us with tweezers or wirecutters</td></tr><tr><th><a href="datum/embedding.html#proc/on_ex_act">on_ex_act</a></th><td>So the sticky grenades chain-detonate, because mobs are very careful with which of their contents they blow up</td></tr><tr><th><a href="datum/embedding.html#proc/on_removed">on_removed</a></th><td>Move self to owner's turf when our limb gets removed</td></tr><tr><th><a href="datum/embedding.html#proc/on_successful_embed">on_successful_embed</a></th><td>Proc which is called upon successfully embedding into someone/something, for children to override</td></tr><tr><th><a href="datum/embedding.html#proc/owner_moved">owner_moved</a></th><td>When owner moves around, attempt to jostle the item</td></tr><tr><th><a href="datum/embedding.html#proc/process_effect">process_effect</a></th><td>Called every process, return TRUE in order to abort further processing - if it falls out, etc</td></tr><tr><th><a href="datum/embedding.html#proc/register_on">register_on</a></th><td>Registers ourselves with an item</td></tr><tr><th><a href="datum/embedding.html#proc/remove_embedding">remove_embedding</a></th><td>The proper proc to call when you want to remove something. If a mob is passed, the item will be put in its hands - otherwise it's just dumped onto the ground</td></tr><tr><th><a href="datum/embedding.html#proc/rip_out">rip_out</a></th><td>Someone attempted to pull us out! Either the owner by inspecting themselves, or someone else by examining the owner and clicking the link.</td></tr><tr><th><a href="datum/embedding.html#proc/roll_embed_chance">roll_embed_chance</a></th><td>Calculates the actual chance to embed based on armour penetration and throwing speed, then returns true if we pass that probability check</td></tr><tr><th><a href="datum/embedding.html#proc/set_owner">set_owner</a></th><td>Registers signals that our owner should have
Handles jostling, tweezing embedded items out and grenade chain reactions</td></tr><tr><th><a href="datum/embedding.html#proc/setup_shrapnel">setup_shrapnel</a></th><td>Used for custom logic while setting up shrapnel payload</td></tr><tr><th><a href="datum/embedding.html#proc/stop_embedding">stop_embedding</a></th><td>Avoid calling this directly as this doesn't move the object from its owner's contents
Returns TRUE if the item got deleted due to DROPDEL flag</td></tr><tr><th><a href="datum/embedding.html#proc/try_embed">try_embed</a></th><td>Attempts to embed an object</td></tr><tr><th><a href="datum/embedding.html#proc/try_embed_projectile">try_embed_projectile</a></th><td>Attempts to embed shrapnel from a projectile</td></tr><tr><th><a href="datum/embedding.html#proc/try_pluck">try_pluck</a></th><td>Attempt to pluck out the embedded item using tweezers of some kind</td></tr><tr><th><a href="datum/embedding.html#proc/weapon_disappeared">weapon_disappeared</a></th><td>Whenever the parent item is forcefully moved by some weird means</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/embed_chance"><aside class="declaration">var </aside>embed_chance <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L15"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 15"></a></h3><p>Chance for an object to embed into somebody when thrown</p><h3 id="var/fall_chance"><aside class="declaration">var </aside>fall_chance <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L17"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 17"></a></h3><p>Chance for embedded object to fall out (causing pain but removing the object)</p><h3 id="var/ignore_throwspeed_threshold"><aside class="declaration">var </aside>ignore_throwspeed_threshold <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L29"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 29"></a></h3><p>If this should ignore throw speed threshold of 4</p><h3 id="var/immune_traits"><aside class="declaration">var </aside>immune_traits <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L37"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 37"></a></h3><p>Traits which make target immune to us embedding into them, any trait from the list works</p><h3 id="var/impact_pain_mult"><aside class="declaration">var </aside>impact_pain_mult <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L23"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 23"></a></h3><p>Coefficient of multiplication for the damage the item does when it first embeds (this*item.w_class)</p><h3 id="var/jostle_chance"><aside class="declaration">var </aside>jostle_chance <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L31"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 31"></a></h3><p>Chance for embedded objects to cause pain every time they move (jostle)</p><h3 id="var/jostle_pain_mult"><aside class="declaration">var </aside>jostle_pain_mult <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L33"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 33"></a></h3><p>Coefficient of multiplication for the damage the item does while</p><h3 id="var/owner"><aside class="declaration">var </aside>owner <aside>– /final/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L46"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 46"></a></h3><p>Mob we've embedded into, if any</p><h3 id="var/owner_limb"><aside class="declaration">var </aside>owner_limb <aside>– /final/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L48"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 48"></a></h3><p>Limb we've embedded into in whose contents we reside</p><h3 id="var/pain_chance"><aside class="declaration">var </aside>pain_chance <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L19"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 19"></a></h3><p>Chance for embedded objects to cause pain (damage user)</p><h3 id="var/pain_mult"><aside class="declaration">var </aside>pain_mult <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L21"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 21"></a></h3><p>Coefficient of multiplication for the damage the item does while embedded (this*item.w_class)</p><h3 id="var/pain_stam_pct"><aside class="declaration">var </aside>pain_stam_pct <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L35"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 35"></a></h3><p>This percentage of all pain will be dealt as stam damage rather than brute (0-1)</p><h3 id="var/parent"><aside class="declaration">var </aside>parent <aside>– /final/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L44"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 44"></a></h3><p>Thing that we're attached to</p><h3 id="var/remove_pain_mult"><aside class="declaration">var </aside>remove_pain_mult <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L25"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 25"></a></h3><p>Coefficient of multiplication for the damage the item does when it falls out or is removed without a surgery (this*item.w_class)</p><h3 id="var/rip_time"><aside class="declaration">var </aside>rip_time <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L27"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 27"></a></h3><p>Time in ticks, total removal time = (this*item.w_class)</p><h3 id="var/stealthy_embed"><aside class="declaration">var </aside>stealthy_embed <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L41"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 41"></a></h3><p>The embed doesn't show up on examine, only on health analyzers.
(Note: This means you can't rip it out)
It will also hide its name (and downplay its severity) when referring to in messages.</p><h2 id="proc">Proc Details</h2><h3 id="proc/can_embed"><aside class="declaration">proc </aside>can_embed<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/source, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/victim, hit_zone, /<a href="datum.html">datum</a>/<a href="datum/thrownthing.html">thrownthing</a>/throwingdatum)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L105"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 105"></a></aside></h3><p>Is passed victim a valid target for us to embed into?</p><h3 id="proc/create_copy"><aside class="declaration">proc </aside>create_copy<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/new_owner)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L78"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 78"></a></aside></h3><p>Creates a copy and sets all of its <em>relevant</em> variables
Children should override this with new variables if they add any &quot;generic&quot; ones</p><h3 id="proc/damaging_removal_effect"><aside class="declaration">proc </aside>damaging_removal_effect<aside>(ouchies_multiplier)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L353"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 353"></a></aside></h3><p>Handles damage effects upon forceful removal</p><h3 id="proc/examined_tags"><aside class="declaration">proc </aside>examined_tags<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/source, /<a href="mob.html">mob</a>/user, /list/examine_list)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L96"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 96"></a></aside></h3><p>Someone inspected our embeddable item</p><h3 id="proc/failed_embed"><aside class="declaration">proc </aside>failed_embed<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/victim, hit_zone, random)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L203"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 203"></a></aside></h3><p>We've tried to embed into something and failed
Random being TRUE means we've lost the roulette, FALSE means we've either been blocked or the target is invalid</p><h3 id="proc/fall_out"><aside class="declaration">proc </aside>fall_out<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L525"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 525"></a></aside></h3><p>Called when then item randomly falls out of a carbon. This handles the damage and descriptors, then calls remove_embedding()</p><h3 id="proc/is_harmless"><aside class="declaration">proc </aside>is_harmless<aside>(consider_stamina)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L211"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 211"></a></aside></h3><p>Does this item deal any damage when embedding or jostling inside of someone?</p><h3 id="proc/jostle_effects"><aside class="declaration">proc </aside>jostle_effects<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L413"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 413"></a></aside></h3><p>Effects which should occur when the owner moves, sometimes</p><h3 id="proc/magic_pull"><aside class="declaration">proc </aside>magic_pull<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/weapon, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/caster)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L574"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 574"></a></aside></h3><p>Called when an object is ripped out of someone's body by magic or other abnormal means</p><h3 id="proc/on_attackby"><aside class="declaration">proc </aside>on_attackby<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/victim, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/tool, /<a href="mob.html">mob</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L417"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 417"></a></aside></h3><p>When someone attempts to pluck us with tweezers or wirecutters</p><h3 id="proc/on_ex_act"><aside class="declaration">proc </aside>on_ex_act<aside>(/<a href="atom.html">atom</a>/source, severity)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L560"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 560"></a></aside></h3><p>So the sticky grenades chain-detonate, because mobs are very careful with which of their contents they blow up</p><h3 id="proc/on_removed"><aside class="declaration">proc </aside>on_removed<aside>(/<a href="datum.html">datum</a>/source, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/old_owner)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L309"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 309"></a></aside></h3><p>Move self to owner's turf when our limb gets removed</p><h3 id="proc/on_successful_embed"><aside class="declaration">proc </aside>on_successful_embed<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/victim, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a>/target_limb)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L268"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 268"></a></aside></h3><p>Proc which is called upon successfully embedding into someone/something, for children to override</p><h3 id="proc/owner_moved"><aside class="declaration">proc </aside>owner_moved<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/source, /<a href="atom.html">atom</a>/old_loc, dir, forced, /list/old_locs)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L381"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 381"></a></aside></h3><p>When owner moves around, attempt to jostle the item</p><h3 id="proc/process_effect"><aside class="declaration">proc </aside>process_effect<aside>(seconds_per_tick)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L483"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 483"></a></aside></h3><p>Called every process, return TRUE in order to abort further processing - if it falls out, etc</p><h3 id="proc/register_on"><aside class="declaration">proc </aside>register_on<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/new_parent)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L56"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 56"></a></aside></h3><p>Registers ourselves with an item</p><h3 id="proc/remove_embedding"><aside class="declaration">proc </aside>remove_embedding<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/to_hands)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L372"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 372"></a></aside></h3><p>The proper proc to call when you want to remove something. If a mob is passed, the item will be put in its hands - otherwise it's just dumped onto the ground</p><h3 id="proc/rip_out"><aside class="declaration">proc </aside>rip_out<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/jack_the_ripper)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L315"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 315"></a></aside></h3><p>Someone attempted to pull us out! Either the owner by inspecting themselves, or someone else by examining the owner and clicking the link.</p><h3 id="proc/roll_embed_chance"><aside class="declaration">proc </aside>roll_embed_chance<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/victim, hit_zone, /<a href="datum.html">datum</a>/<a href="datum/thrownthing.html">thrownthing</a>/throwingdatum)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L174"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 174"></a></aside></h3><p>Calculates the actual chance to embed based on armour penetration and throwing speed, then returns true if we pass that probability check</p><h3 id="proc/set_owner"><aside class="declaration">proc </aside>set_owner<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/victim, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a>/target_limb)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L273"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 273"></a></aside></h3><p>Registers signals that our owner should have
Handles jostling, tweezing embedded items out and grenade chain reactions</p><h3 id="proc/setup_shrapnel"><aside class="declaration">proc </aside>setup_shrapnel<aside>(/<a href="obj.html">obj</a>/<a href="obj/projectile.html">projectile</a>/source, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/victim)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L161"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 161"></a></aside></h3><p>Used for custom logic while setting up shrapnel payload</p><h3 id="proc/stop_embedding"><aside class="declaration">proc </aside>stop_embedding<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L283"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 283"></a></aside></h3><p>Avoid calling this directly as this doesn't move the object from its owner's contents
Returns TRUE if the item got deleted due to DROPDEL flag</p><h3 id="proc/try_embed"><aside class="declaration">proc </aside>try_embed<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/weapon, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/victim, hit_zone, blocked, /<a href="datum.html">datum</a>/<a href="datum/thrownthing.html">thrownthing</a>/throwingdatum)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L125"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 125"></a></aside></h3><p>Attempts to embed an object</p><h3 id="proc/try_embed_projectile"><aside class="declaration">proc </aside>try_embed_projectile<aside>(/<a href="obj.html">obj</a>/<a href="obj/projectile.html">projectile</a>/source, /<a href="atom.html">atom</a>/hit, hit_zone, blocked, pierce_hit)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L141"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 141"></a></aside></h3><p>Attempts to embed shrapnel from a projectile</p><h3 id="proc/try_pluck"><aside class="declaration">proc </aside>try_pluck<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/tool, /<a href="mob.html">mob</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L487"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 487"></a></aside></h3><p>Attempt to pluck out the embedded item using tweezers of some kind</p><h3 id="proc/weapon_disappeared"><aside class="declaration">proc </aside>weapon_disappeared<aside>(/<a href="atom.html">atom</a>/old_loc, dir, forced)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/datums/embedding.dm#L552"><img src="git.png" width="16" height="16" title="code/datums/embedding.dm 552"></a></aside></h3><p>Whenever the parent item is forcefully moved by some weird means</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>