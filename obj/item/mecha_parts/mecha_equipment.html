<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/item/mecha_parts/mecha_equipment - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/item/mecha_parts/mecha_equipment.html#var">Var Details</a> - <a href="obj/item/mecha_parts/mecha_equipment.html#proc">Proc Details</a></header><main><h1>mecha_equipment <aside>/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/mecha_parts/mecha_equipment.html">mecha_parts/mecha_equipment</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/vehicles/mecha/equipment/mecha_equipment.dm#L5"><img src="git.png" width="16" height="16" title="code/modules/vehicles/mecha/equipment/mecha_equipment.dm 5"></a></h1><p>Mecha Equipment
All mech equippables are currently childs of this</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/item/mecha_parts/mecha_equipment.html#var/action_type">action_type</a></th><td>The action type to use for this equipment. Override for custom action buttons.</td></tr><tr><th><a href="obj/item/mecha_parts/mecha_equipment.html#var/active">active</a></th><td>Whether the module is currently active</td></tr><tr><th><a href="obj/item/mecha_parts/mecha_equipment.html#var/active_label">active_label</a></th><td>Label used in the ui next to the Activate/Enable/Disable buttons</td></tr><tr><th><a href="obj/item/mecha_parts/mecha_equipment.html#var/can_be_toggled">can_be_toggled</a></th><td>Whether you can turn this module on/off with a button</td></tr><tr><th><a href="obj/item/mecha_parts/mecha_equipment.html#var/can_be_triggered">can_be_triggered</a></th><td>Whether you can trigger this module with a button (activation only)</td></tr><tr><th><a href="obj/item/mecha_parts/mecha_equipment.html#var/chassis">chassis</a></th><td>Reference to mecha that this equipment is currently attached to</td></tr><tr><th><a href="obj/item/mecha_parts/mecha_equipment.html#var/destroy_sound">destroy_sound</a></th><td>Sound file: Sound to play when this equipment is destroyed while still attached to the mech</td></tr><tr><th><a href="obj/item/mecha_parts/mecha_equipment.html#var/detachable">detachable</a></th><td>boolean: FALSE if this equipment can not be removed/salvaged</td></tr><tr><th><a href="obj/item/mecha_parts/mecha_equipment.html#var/energy_drain">energy_drain</a></th><td>Chassis power cell quantity used on activation</td></tr><tr><th><a href="obj/item/mecha_parts/mecha_equipment.html#var/equip_cooldown">equip_cooldown</a></th><td>Cooldown in ticks required between activations of the equipment</td></tr><tr><th><a href="obj/item/mecha_parts/mecha_equipment.html#var/equipment_slot">equipment_slot</a></th><td>Determines what &quot;slot&quot; this attachment will try to attach to on a mech</td></tr><tr><th><a href="obj/item/mecha_parts/mecha_equipment.html#var/harmful">harmful</a></th><td>Boolean: whether a pacifist can use this equipment</td></tr><tr><th><a href="obj/item/mecha_parts/mecha_equipment.html#var/mech_flags">mech_flags</a></th><td>Bitflag. Used by exosuit fabricator to assign sub-categories based on which exosuits can equip this.</td></tr><tr><th><a href="obj/item/mecha_parts/mecha_equipment.html#var/range">range</a></th><td>Bitflag. Determines the range of the equipment.</td></tr><tr><th><a href="obj/item/mecha_parts/mecha_equipment.html#var/unstackable">unstackable</a></th><td>Can we stack multiple types of the same item?</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/item/mecha_parts/mecha_equipment.html#proc/action_checks">action_checks</a></th><td>Checks whether this mecha equipment can be active
Returns a bool
Arguments:</td></tr><tr><th><a href="obj/item/mecha_parts/mecha_equipment.html#proc/detach">detach</a></th><td>called to detach this equipment
Args:</td></tr><tr><th><a href="obj/item/mecha_parts/mecha_equipment.html#proc/do_after_checks">do_after_checks</a></th><td>do after checks for the mecha equipment do afters</td></tr><tr><th><a href="obj/item/mecha_parts/mecha_equipment.html#proc/do_after_cooldown">do_after_cooldown</a></th><td>Cooldown proc variant for using do_afters between activations instead of timers
Example of usage is mech drills, rcds
arguments:</td></tr><tr><th><a href="obj/item/mecha_parts/mecha_equipment.html#proc/do_after_mecha">do_after_mecha</a></th><td>Do after wrapper for mecha equipment</td></tr><tr><th><a href="obj/item/mecha_parts/mecha_equipment.html#proc/get_snowflake_data">get_snowflake_data</a></th><td></td></tr><tr><th><a href="obj/item/mecha_parts/mecha_equipment.html#proc/handle_ui_act">handle_ui_act</a></th><td>called after ui_act, for custom ui act handling</td></tr><tr><th><a href="obj/item/mecha_parts/mecha_equipment.html#proc/needs_rearm">needs_rearm</a></th><td>AI mech pilot: returns TRUE if the Ai should try to reload the mecha</td></tr><tr><th><a href="obj/item/mecha_parts/mecha_equipment.html#proc/rearm">rearm</a></th><td>Proc for reloading weapons from HTML UI or by AI
note that this is old and likely broken code</td></tr><tr><th><a href="obj/item/mecha_parts/mecha_equipment.html#proc/special_attaching_interaction">special_attaching_interaction</a></th><td>Special Attaching Interaction, used to bypass normal attachment procs.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/action_type"><aside class="declaration">var </aside>action_type <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/vehicles/mecha/equipment/mecha_equipment.dm#L41"><img src="git.png" width="16" height="16" title="code/modules/vehicles/mecha/equipment/mecha_equipment.dm 41"></a></h3><p>The action type to use for this equipment. Override for custom action buttons.</p><h3 id="var/active"><aside class="declaration">var </aside>active <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/vehicles/mecha/equipment/mecha_equipment.dm#L21"><img src="git.png" width="16" height="16" title="code/modules/vehicles/mecha/equipment/mecha_equipment.dm 21"></a></h3><p>Whether the module is currently active</p><h3 id="var/active_label"><aside class="declaration">var </aside>active_label <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/vehicles/mecha/equipment/mecha_equipment.dm#L25"><img src="git.png" width="16" height="16" title="code/modules/vehicles/mecha/equipment/mecha_equipment.dm 25"></a></h3><p>Label used in the ui next to the Activate/Enable/Disable buttons</p><h3 id="var/can_be_toggled"><aside class="declaration">var </aside>can_be_toggled <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/vehicles/mecha/equipment/mecha_equipment.dm#L17"><img src="git.png" width="16" height="16" title="code/modules/vehicles/mecha/equipment/mecha_equipment.dm 17"></a></h3><p>Whether you can turn this module on/off with a button</p><h3 id="var/can_be_triggered"><aside class="declaration">var </aside>can_be_triggered <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/vehicles/mecha/equipment/mecha_equipment.dm#L19"><img src="git.png" width="16" height="16" title="code/modules/vehicles/mecha/equipment/mecha_equipment.dm 19"></a></h3><p>Whether you can trigger this module with a button (activation only)</p><h3 id="var/chassis"><aside class="declaration">var </aside>chassis <aside>– /<a href="obj.html">obj</a>/<a href="obj/vehicle.html">vehicle</a>/<a href="obj/vehicle/sealed.html">sealed</a>/<a href="obj/vehicle/sealed/mecha.html">mecha</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/vehicles/mecha/equipment/mecha_equipment.dm#L29"><img src="git.png" width="16" height="16" title="code/modules/vehicles/mecha/equipment/mecha_equipment.dm 29"></a></h3><p>Reference to mecha that this equipment is currently attached to</p><h3 id="var/destroy_sound"><aside class="declaration">var </aside>destroy_sound <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/vehicles/mecha/equipment/mecha_equipment.dm#L39"><img src="git.png" width="16" height="16" title="code/modules/vehicles/mecha/equipment/mecha_equipment.dm 39"></a></h3><p>Sound file: Sound to play when this equipment is destroyed while still attached to the mech</p><h3 id="var/detachable"><aside class="declaration">var </aside>detachable <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/vehicles/mecha/equipment/mecha_equipment.dm#L35"><img src="git.png" width="16" height="16" title="code/modules/vehicles/mecha/equipment/mecha_equipment.dm 35"></a></h3><p>boolean: FALSE if this equipment can not be removed/salvaged</p><h3 id="var/energy_drain"><aside class="declaration">var </aside>energy_drain <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/vehicles/mecha/equipment/mecha_equipment.dm#L27"><img src="git.png" width="16" height="16" title="code/modules/vehicles/mecha/equipment/mecha_equipment.dm 27"></a></h3><p>Chassis power cell quantity used on activation</p><h3 id="var/equip_cooldown"><aside class="declaration">var </aside>equip_cooldown <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/vehicles/mecha/equipment/mecha_equipment.dm#L15"><img src="git.png" width="16" height="16" title="code/modules/vehicles/mecha/equipment/mecha_equipment.dm 15"></a></h3><p>Cooldown in ticks required between activations of the equipment</p><h3 id="var/equipment_slot"><aside class="declaration">var </aside>equipment_slot <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/vehicles/mecha/equipment/mecha_equipment.dm#L13"><img src="git.png" width="16" height="16" title="code/modules/vehicles/mecha/equipment/mecha_equipment.dm 13"></a></h3><p>Determines what &quot;slot&quot; this attachment will try to attach to on a mech</p><h3 id="var/harmful"><aside class="declaration">var </aside>harmful <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/vehicles/mecha/equipment/mecha_equipment.dm#L37"><img src="git.png" width="16" height="16" title="code/modules/vehicles/mecha/equipment/mecha_equipment.dm 37"></a></h3><p>Boolean: whether a pacifist can use this equipment</p><h3 id="var/mech_flags"><aside class="declaration">var </aside>mech_flags <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/vehicles/mecha/equipment/mecha_equipment.dm#L33"><img src="git.png" width="16" height="16" title="code/modules/vehicles/mecha/equipment/mecha_equipment.dm 33"></a></h3><p>Bitflag. Used by exosuit fabricator to assign sub-categories based on which exosuits can equip this.</p><h3 id="var/range"><aside class="declaration">var </aside>range <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/vehicles/mecha/equipment/mecha_equipment.dm#L31"><img src="git.png" width="16" height="16" title="code/modules/vehicles/mecha/equipment/mecha_equipment.dm 31"></a></h3><p>Bitflag. Determines the range of the equipment.</p><h3 id="var/unstackable"><aside class="declaration">var </aside>unstackable <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/vehicles/mecha/equipment/mecha_equipment.dm#L23"><img src="git.png" width="16" height="16" title="code/modules/vehicles/mecha/equipment/mecha_equipment.dm 23"></a></h3><p>Can we stack multiple types of the same item?</p><h2 id="proc">Proc Details</h2><h3 id="proc/action_checks"><aside class="declaration">proc </aside>action_checks<aside>(/<a href="atom.html">atom</a>/target)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/vehicles/mecha/equipment/mecha_equipment.dm#L100"><img src="git.png" width="16" height="16" title="code/modules/vehicles/mecha/equipment/mecha_equipment.dm 100"></a></aside></h3><p>Checks whether this mecha equipment can be active
Returns a bool
Arguments:</p>
<ul>
<li>target: atom we are activating/clicked on</li>
</ul><h3 id="proc/detach"><aside class="declaration">proc </aside>detach<aside>(/<a href="atom.html">atom</a>/moveto)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/vehicles/mecha/equipment/mecha_equipment.dm#L226"><img src="git.png" width="16" height="16" title="code/modules/vehicles/mecha/equipment/mecha_equipment.dm 226"></a></aside></h3><p>called to detach this equipment
Args:</p>
<ul>
<li>moveto: optional target to move this equipment to</li>
</ul><h3 id="proc/do_after_checks"><aside class="declaration">proc </aside>do_after_checks<aside>(/<a href="atom.html">atom</a>/target, flags)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/vehicles/mecha/equipment/mecha_equipment.dm#L147"><img src="git.png" width="16" height="16" title="code/modules/vehicles/mecha/equipment/mecha_equipment.dm 147"></a></aside></h3><p>do after checks for the mecha equipment do afters</p><h3 id="proc/do_after_cooldown"><aside class="declaration">proc </aside>do_after_cooldown<aside>(/<a href="atom.html">atom</a>/target, /<a href="mob.html">mob</a>/user, interaction_key, flags)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/vehicles/mecha/equipment/mecha_equipment.dm#L136"><img src="git.png" width="16" height="16" title="code/modules/vehicles/mecha/equipment/mecha_equipment.dm 136"></a></aside></h3><p>Cooldown proc variant for using do_afters between activations instead of timers
Example of usage is mech drills, rcds
arguments:</p>
<ul>
<li>target: targeted atom for action activation</li>
<li>user: occupant to display do after for</li>
<li>interaction_key: interaction key to pass to <a href="global.html#proc/do_after" title="/global">/proc/do_after</a></li>
<li>flags: bitfield for different checks on do_after_checks</li>
</ul><h3 id="proc/do_after_mecha"><aside class="declaration">proc </aside>do_after_mecha<aside>(/<a href="atom.html">atom</a>/target, /<a href="mob.html">mob</a>/user, delay, flags)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/vehicles/mecha/equipment/mecha_equipment.dm#L143"><img src="git.png" width="16" height="16" title="code/modules/vehicles/mecha/equipment/mecha_equipment.dm 143"></a></aside></h3><p>Do after wrapper for mecha equipment</p><h3 id="proc/get_snowflake_data"><aside class="declaration">proc </aside>get_snowflake_data<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/vehicles/mecha/equipment/mecha_equipment.dm#L262"><img src="git.png" width="16" height="16" title="code/modules/vehicles/mecha/equipment/mecha_equipment.dm 262"></a></aside></h3><h2 id="get-snowflake-data">get_snowflake_data</h2>
<p>handles the returning of snowflake data required by the UI of the mecha
not the prettiest of procs honeslty
returns:</p>
<ul>
<li>an assoc list</li>
<li>must include an list(&quot;snowflake_id&quot; = snowflake_id)</li>
</ul><h3 id="proc/handle_ui_act"><aside class="declaration">proc </aside>handle_ui_act<aside>(action, /list/params, /<a href="datum.html">datum</a>/<a href="datum/tgui.html">tgui</a>/ui, /<a href="datum.html">datum</a>/<a href="datum/ui_state.html">ui_state</a>/state)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/vehicles/mecha/equipment/mecha_equipment.dm#L91"><img src="git.png" width="16" height="16" title="code/modules/vehicles/mecha/equipment/mecha_equipment.dm 91"></a></aside></h3><p>called after ui_act, for custom ui act handling</p><h3 id="proc/needs_rearm"><aside class="declaration">proc </aside>needs_rearm<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/vehicles/mecha/equipment/mecha_equipment.dm#L273"><img src="git.png" width="16" height="16" title="code/modules/vehicles/mecha/equipment/mecha_equipment.dm 273"></a></aside></h3><p>AI mech pilot: returns TRUE if the Ai should try to reload the mecha</p><h3 id="proc/rearm"><aside class="declaration">proc </aside>rearm<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/vehicles/mecha/equipment/mecha_equipment.dm#L269"><img src="git.png" width="16" height="16" title="code/modules/vehicles/mecha/equipment/mecha_equipment.dm 269"></a></aside></h3><p>Proc for reloading weapons from HTML UI or by AI
note that this is old and likely broken code</p><h3 id="proc/special_attaching_interaction"><aside class="declaration">proc </aside>special_attaching_interaction<aside>(attach_right, /<a href="obj.html">obj</a>/<a href="obj/vehicle.html">vehicle</a>/<a href="obj/vehicle/sealed.html">sealed</a>/<a href="obj/vehicle/sealed/mecha.html">mecha</a>/mech, /<a href="mob.html">mob</a>/user, checkonly)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/vehicles/mecha/equipment/mecha_equipment.dm#L200"><img src="git.png" width="16" height="16" title="code/modules/vehicles/mecha/equipment/mecha_equipment.dm 200"></a></aside></h3><p>Special Attaching Interaction, used to bypass normal attachment procs.</p>
<p>If an equipment needs to bypass the regular chain of events, this proc can be used to allow for that. If used, it
must handle actually calling attach(), as well as any feedback to the user.
Args:</p>
<ul>
<li>attach_right: True if attaching the the right-hand equipment slot, false otherwise.</li>
<li>mech: ref to the mecha that we're attaching onto.</li>
<li>user: ref to the mob doing the attaching</li>
<li>checkonly: check if we are able to handle the attach procedure ourselves, but don't actually do it yet.</li>
</ul></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/c41b333c9bc46606d2c5d5b517f7836d5953fbfd">c41b333</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>