<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/item/tank - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/item/tank.html#var">Var Details</a> - <a href="obj/item/tank.html#proc">Proc Details</a></header><main><h1>Gas Tank <aside>/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/tank.html">tank</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/objects/items/tanks/tanks.dm#L14"><img src="git.png" width="16" height="16" title="code/game/objects/items/tanks/tanks.dm 14"></a></h1><p>Handheld gas canisters
Can rupture explosively if overpressurized</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/item/tank.html#var/air_contents">air_contents</a></th><td>The gases this tank contains. Don't modify this directly, use return_air() to get it instead</td></tr><tr><th><a href="obj/item/tank.html#var/bomb_status">bomb_status</a></th><td>Whether or not it will try to explode when it receives a signal</td></tr><tr><th><a href="obj/item/tank.html#var/breathing_mob">breathing_mob</a></th><td>Mob that is currently breathing from the tank.</td></tr><tr><th><a href="obj/item/tank.html#var/distribute_pressure">distribute_pressure</a></th><td>The pressure of the gases this tank supplies to internals.</td></tr><tr><th><a href="obj/item/tank.html#var/excited">excited</a></th><td>Used by process() to track if there's a reason to process each tick</td></tr><tr><th><a href="obj/item/tank.html#var/explosion_info">explosion_info</a></th><td>How our particular tank explodes.</td></tr><tr><th><a href="obj/item/tank.html#var/igniting">igniting</a></th><td>If we are in the process of exploding, stops multi explosions</td></tr><tr><th><a href="obj/item/tank.html#var/leaking">leaking</a></th><td>Whether the tank is currently leaking.</td></tr><tr><th><a href="obj/item/tank.html#var/reaction_info">reaction_info</a></th><td>List containing reactions happening inside our tank.</td></tr><tr><th><a href="obj/item/tank.html#var/tank_assembly">tank_assembly</a></th><td>Attached assembly, can either detonate the tank or release its contents when receiving a signal</td></tr><tr><th><a href="obj/item/tank.html#var/tank_holder_icon_state">tank_holder_icon_state</a></th><td>Icon state when in a tank holder or a surgical table. Null makes it incompatible with tank holder.</td></tr><tr><th><a href="obj/item/tank.html#var/volume">volume</a></th><td>The volume of this tank. Among other things gas tank explosions (including TTVs) scale off of this. Be sure to account for that if you change this or you will break <del>toxins</del> ordinance.</td></tr><tr><th><a href="obj/item/tank.html#var/volume_bar">volume_bar</a></th><td>Progress bar showing how much volume is in the tank when equipped.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/item/tank.html#proc/after_internals_closed">after_internals_closed</a></th><td>Called by carbons after they disconnect the tank from their breathing apparatus.</td></tr><tr><th><a href="obj/item/tank.html#proc/after_internals_opened">after_internals_opened</a></th><td>Called by carbons after they connect the tank to their breathing apparatus.</td></tr><tr><th><a href="obj/item/tank.html#proc/atom_break">atom_break</a></th><td>Handles the tank springing a leak.</td></tr><tr><th><a href="obj/item/tank.html#proc/atom_destruction">atom_destruction</a></th><td>Handles rupturing and fragmenting</td></tr><tr><th><a href="obj/item/tank.html#proc/bomb_assemble">bomb_assemble</a></th><td>Attaches an assembly holder to the tank to create a bomb.</td></tr><tr><th><a href="obj/item/tank.html#proc/bomb_disassemble">bomb_disassemble</a></th><td>Detaches an assembly holder from the tank, disarming the bomb</td></tr><tr><th><a href="obj/item/tank.html#proc/equipped">equipped</a></th><td>Closes the tank if given to another mob while open.</td></tr><tr><th><a href="obj/item/tank.html#proc/handle_tolerances">handle_tolerances</a></th><td>Handles the minimum and maximum pressure tolerances of the tank.</td></tr><tr><th><a href="obj/item/tank.html#proc/ignite">ignite</a></th><td>Ignites the contents of the tank. Called when receiving a signal if the tank is welded and has an igniter attached.</td></tr><tr><th><a href="obj/item/tank.html#proc/release">release</a></th><td>Releases air stored in the tank. Called when signaled without being welded, or when ignited without enough pressure to explode.</td></tr><tr><th><a href="obj/item/tank.html#proc/remove_air_volume">remove_air_volume</a></th><td>Removes some volume of the tanks gases as the tanks distribution pressure.</td></tr><tr><th><a href="obj/item/tank.html#proc/toggle_internals">toggle_internals</a></th><td>Attempts to toggle the mob's internals on or off using this tank. Returns TRUE if successful.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/air_contents"><aside class="declaration">var </aside>air_contents <aside>– /<a href="datum.html">datum</a>/<a href="datum/gas_mixture.html">gas_mixture</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/objects/items/tanks/tanks.dm#L43"><img src="git.png" width="16" height="16" title="code/game/objects/items/tanks/tanks.dm 43"></a></h3><p>The gases this tank contains. Don't modify this directly, use return_air() to get it instead</p><h3 id="var/bomb_status"><aside class="declaration">var </aside>bomb_status <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/objects/items/tanks/tanks.dm#L65"><img src="git.png" width="16" height="16" title="code/game/objects/items/tanks/tanks.dm 65"></a></h3><p>Whether or not it will try to explode when it receives a signal</p><h3 id="var/breathing_mob"><aside class="declaration">var </aside>breathing_mob <aside>– /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/objects/items/tanks/tanks.dm#L59"><img src="git.png" width="16" height="16" title="code/game/objects/items/tanks/tanks.dm 59"></a></h3><p>Mob that is currently breathing from the tank.</p><h3 id="var/distribute_pressure"><aside class="declaration">var </aside>distribute_pressure <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/objects/items/tanks/tanks.dm#L49"><img src="git.png" width="16" height="16" title="code/game/objects/items/tanks/tanks.dm 49"></a></h3><p>The pressure of the gases this tank supplies to internals.</p><h3 id="var/excited"><aside class="declaration">var </aside>excited <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/objects/items/tanks/tanks.dm#L53"><img src="git.png" width="16" height="16" title="code/game/objects/items/tanks/tanks.dm 53"></a></h3><p>Used by process() to track if there's a reason to process each tick</p><h3 id="var/explosion_info"><aside class="declaration">var </aside>explosion_info <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/objects/items/tanks/tanks.dm#L55"><img src="git.png" width="16" height="16" title="code/game/objects/items/tanks/tanks.dm 55"></a></h3><p>How our particular tank explodes.</p><h3 id="var/igniting"><aside class="declaration">var </aside>igniting <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/objects/items/tanks/tanks.dm#L41"><img src="git.png" width="16" height="16" title="code/game/objects/items/tanks/tanks.dm 41"></a></h3><p>If we are in the process of exploding, stops multi explosions</p><h3 id="var/leaking"><aside class="declaration">var </aside>leaking <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/objects/items/tanks/tanks.dm#L47"><img src="git.png" width="16" height="16" title="code/game/objects/items/tanks/tanks.dm 47"></a></h3><p>Whether the tank is currently leaking.</p><h3 id="var/reaction_info"><aside class="declaration">var </aside>reaction_info <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/objects/items/tanks/tanks.dm#L57"><img src="git.png" width="16" height="16" title="code/game/objects/items/tanks/tanks.dm 57"></a></h3><p>List containing reactions happening inside our tank.</p><h3 id="var/tank_assembly"><aside class="declaration">var </aside>tank_assembly <aside>– /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/assembly_holder.html">assembly_holder</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/objects/items/tanks/tanks.dm#L63"><img src="git.png" width="16" height="16" title="code/game/objects/items/tanks/tanks.dm 63"></a></h3><p>Attached assembly, can either detonate the tank or release its contents when receiving a signal</p><h3 id="var/tank_holder_icon_state"><aside class="declaration">var </aside>tank_holder_icon_state <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/objects/items/tanks/tanks.dm#L51"><img src="git.png" width="16" height="16" title="code/game/objects/items/tanks/tanks.dm 51"></a></h3><p>Icon state when in a tank holder or a surgical table. Null makes it incompatible with tank holder.</p><h3 id="var/volume"><aside class="declaration">var </aside>volume <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/objects/items/tanks/tanks.dm#L45"><img src="git.png" width="16" height="16" title="code/game/objects/items/tanks/tanks.dm 45"></a></h3><p>The volume of this tank. Among other things gas tank explosions (including TTVs) scale off of this. Be sure to account for that if you change this or you will break <del>toxins</del> ordinance.</p><h3 id="var/volume_bar"><aside class="declaration">var </aside>volume_bar <aside>– /<a href="datum.html">datum</a>/<a href="datum/progressbar.html">progressbar</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/objects/items/tanks/tanks.dm#L61"><img src="git.png" width="16" height="16" title="code/game/objects/items/tanks/tanks.dm 61"></a></h3><p>Progress bar showing how much volume is in the tank when equipped.</p><h2 id="proc">Proc Details</h2><h3 id="proc/after_internals_closed"><aside class="declaration">proc </aside>after_internals_closed<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/carbon_target)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/objects/items/tanks/tanks.dm#L98"><img src="git.png" width="16" height="16" title="code/game/objects/items/tanks/tanks.dm 98"></a></aside></h3><p>Called by carbons after they disconnect the tank from their breathing apparatus.</p><h3 id="proc/after_internals_opened"><aside class="declaration">proc </aside>after_internals_opened<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/carbon_target)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/objects/items/tanks/tanks.dm#L91"><img src="git.png" width="16" height="16" title="code/game/objects/items/tanks/tanks.dm 91"></a></aside></h3><p>Called by carbons after they connect the tank to their breathing apparatus.</p><h3 id="proc/atom_break"><aside class="parent"><a title="/atom" href="atom.html#proc/atom_break">↑</a></aside>atom_break<aside>(damage_flag)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/objects/items/tanks/tanks.dm#L371"><img src="git.png" width="16" height="16" title="code/game/objects/items/tanks/tanks.dm 371"></a></aside></h3><p>Handles the tank springing a leak.</p><h3 id="proc/atom_destruction"><aside class="parent"><a title="/obj" href="obj.html#proc/atom_destruction">↑</a></aside>atom_destruction<aside>(damage_flag)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/objects/items/tanks/tanks.dm#L385"><img src="git.png" width="16" height="16" title="code/game/objects/items/tanks/tanks.dm 385"></a></aside></h3><p>Handles rupturing and fragmenting</p><h3 id="proc/bomb_assemble"><aside class="declaration">proc </aside>bomb_assemble<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/assembly_holder.html">assembly_holder</a>/assembly, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/objects/items/tanks/tanks.dm#L452"><img src="git.png" width="16" height="16" title="code/game/objects/items/tanks/tanks.dm 452"></a></aside></h3><p>Attaches an assembly holder to the tank to create a bomb.</p><h3 id="proc/bomb_disassemble"><aside class="declaration">proc </aside>bomb_disassemble<aside>(/<a href="mob.html">mob</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/objects/items/tanks/tanks.dm#L486"><img src="git.png" width="16" height="16" title="code/game/objects/items/tanks/tanks.dm 486"></a></aside></h3><p>Detaches an assembly holder from the tank, disarming the bomb</p><h3 id="proc/equipped"><aside class="parent"><a title="/obj/item" href="obj/item.html#proc/equipped">↑</a></aside>equipped<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user, slot, initial)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/objects/items/tanks/tanks.dm#L84"><img src="git.png" width="16" height="16" title="code/game/objects/items/tanks/tanks.dm 84"></a></aside></h3><p>Closes the tank if given to another mob while open.</p><h3 id="proc/handle_tolerances"><aside class="declaration">proc </aside>handle_tolerances<aside>(seconds_per_tick)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/objects/items/tanks/tanks.dm#L352"><img src="git.png" width="16" height="16" title="code/game/objects/items/tanks/tanks.dm 352"></a></aside></h3><p>Handles the minimum and maximum pressure tolerances of the tank.</p>
<p>Returns true if it did anything of significance, false otherwise
Arguments:</p>
<ul>
<li>seconds_per_tick: How long has passed between ticks.</li>
</ul><h3 id="proc/ignite"><aside class="declaration">proc </aside>ignite<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/objects/items/tanks/tanks.dm#L498"><img src="git.png" width="16" height="16" title="code/game/objects/items/tanks/tanks.dm 498"></a></aside></h3><p>Ignites the contents of the tank. Called when receiving a signal if the tank is welded and has an igniter attached.</p><h3 id="proc/release"><aside class="declaration">proc </aside>release<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/objects/items/tanks/tanks.dm#L567"><img src="git.png" width="16" height="16" title="code/game/objects/items/tanks/tanks.dm 567"></a></aside></h3><p>Releases air stored in the tank. Called when signaled without being welded, or when ignited without enough pressure to explode.</p><h3 id="proc/remove_air_volume"><aside class="declaration">proc </aside>remove_air_volume<aside>(volume_to_return)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/objects/items/tanks/tanks.dm#L304"><img src="git.png" width="16" height="16" title="code/game/objects/items/tanks/tanks.dm 304"></a></aside></h3><p>Removes some volume of the tanks gases as the tanks distribution pressure.</p>
<p>Arguments:</p>
<ul>
<li>volume_to_return: The amount of volume to remove from the tank.</li>
</ul><h3 id="proc/toggle_internals"><aside class="declaration">proc </aside>toggle_internals<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/mob_target)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/objects/items/tanks/tanks.dm#L104"><img src="git.png" width="16" height="16" title="code/game/objects/items/tanks/tanks.dm 104"></a></aside></h3><p>Attempts to toggle the mob's internals on or off using this tank. Returns TRUE if successful.</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/c41b333c9bc46606d2c5d5b517f7836d5953fbfd">c41b333</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>