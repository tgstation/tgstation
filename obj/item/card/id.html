<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/item/card/id - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/item/card/id.html#var">Var Details</a> - <a href="obj/item/card/id.html#proc">Proc Details</a></header><main><h1>id <aside>/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/card.html">card</a>/<a href="obj/item/card/id.html">id</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L62"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 62"></a></h1><p>&quot;Retro&quot; ID card that renders itself as the icon state with no overlays.
Request Emergency Temporary Access - ID Card Extensions
code\modules\reta\reta_system.dm</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/item/card/id.html#var/access">access</a></th><td>Access levels held by this card.</td></tr><tr><th><a href="obj/item/card/id.html#var/assignment">assignment</a></th><td>The job name registered on the card (for example: Assistant).</td></tr><tr><th><a href="obj/item/card/id.html#var/available_logos">available_logos</a></th><td>List of logos available for holopay customization - via font awesome 5</td></tr><tr><th><a href="obj/item/card/id.html#var/big_pointer">big_pointer</a></th><td>If true, the wearer will have bigger arrow when pointing at things. Passed down by trims.</td></tr><tr><th><a href="obj/item/card/id.html#var/chosen_honorific">chosen_honorific</a></th><td>What is our selected honorific?</td></tr><tr><th><a href="obj/item/card/id.html#var/holopay_fee">holopay_fee</a></th><td>Replaces the &quot;pay whatever&quot; functionality with a set amount when non-zero.</td></tr><tr><th><a href="obj/item/card/id.html#var/holopay_logo">holopay_logo</a></th><td>The holopay icon chosen by the user</td></tr><tr><th><a href="obj/item/card/id.html#var/holopay_max_fee">holopay_max_fee</a></th><td>Maximum forced fee. It's unlikely for a user to encounter this type of money, much less pay it willingly.</td></tr><tr><th><a href="obj/item/card/id.html#var/holopay_min_fee">holopay_min_fee</a></th><td>Minimum forced fee for holopay stations. Registers as &quot;pay what you want.&quot;</td></tr><tr><th><a href="obj/item/card/id.html#var/holopay_name">holopay_name</a></th><td>The holopay name chosen by the user</td></tr><tr><th><a href="obj/item/card/id.html#var/honorific_position">honorific_position</a></th><td>Will this ID card use the first or last name as the name displayed with the honorific?</td></tr><tr><th><a href="obj/item/card/id.html#var/is_intern">is_intern</a></th><td>Boolean value. If TRUE, the [Intern] tag gets prepended to this ID card when the label is updated.</td></tr><tr><th><a href="obj/item/card/id.html#var/last_holopay_projection">last_holopay_projection</a></th><td>Cooldown between projecting holopays</td></tr><tr><th><a href="obj/item/card/id.html#var/my_store">my_store</a></th><td>Linked holopay.</td></tr><tr><th><a href="obj/item/card/id.html#var/pointer_color">pointer_color</a></th><td>If set, the arrow will have a different color.</td></tr><tr><th><a href="obj/item/card/id.html#var/registered_account">registered_account</a></th><td>Linked bank account.</td></tr><tr><th><a href="obj/item/card/id.html#var/registered_age">registered_age</a></th><td>Registered owner's age.</td></tr><tr><th><a href="obj/item/card/id.html#var/registered_name">registered_name</a></th><td>The name registered on the card (for example: Dr Bryan See)</td></tr><tr><th><a href="obj/item/card/id.html#var/reta_temp_access">reta_temp_access</a></th><td>Dictionary of temporary department access: dept_name -&gt; list(access_flags)</td></tr><tr><th><a href="obj/item/card/id.html#var/reta_timers">reta_timers</a></th><td>Dictionary of timer IDs for clearing temporary access: dept_name -&gt; timer_id</td></tr><tr><th><a href="obj/item/card/id.html#var/trim">trim</a></th><td>Trim datum associated with the card. Controls which job icon is displayed on the card and which accesses do not require wildcards.</td></tr><tr><th><a href="obj/item/card/id.html#var/trim_changeable">trim_changeable</a></th><td>Whether the trim on this card can be changed.</td></tr><tr><th><a href="obj/item/card/id.html#var/wildcard_slots">wildcard_slots</a></th><td>List of wildcard slot names as keys with lists of wildcard data as values.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/item/card/id.html#proc/Destroy">Destroy</a></th><td>Cleanup temporary access when ID card is deleted</td></tr><tr><th><a href="obj/item/card/id.html#proc/add_access">add_access</a></th><td>Attempts to add the given accesses to the ID card as non-wildcards.</td></tr><tr><th><a href="obj/item/card/id.html#proc/add_wildcards">add_wildcards</a></th><td>Attempts to add the given wildcards to the ID card.</td></tr><tr><th><a href="obj/item/card/id.html#proc/alt_click_can_use_id">alt_click_can_use_id</a></th><td>Helper proc. Can the user alt-click the ID?</td></tr><tr><th><a href="obj/item/card/id.html#proc/build_access_lists">build_access_lists</a></th><td>Helper proc. Creates access lists for the access procs.</td></tr><tr><th><a href="obj/item/card/id.html#proc/can_add_wildcards">can_add_wildcards</a></th><td>Helper proc, checks whether the ID card can hold any given set of wildcards.</td></tr><tr><th><a href="obj/item/card/id.html#proc/can_be_used_in_payment">can_be_used_in_payment</a></th><td>Helper proc that determines if a card can be used in certain types of payment transactions.</td></tr><tr><th><a href="obj/item/card/id.html#proc/can_proj_holopay">can_proj_holopay</a></th><td>Determines whether a new holopay can be placed on the given turf.
Checks if there are dense contents, too many contents, or another
holopay already exists on the turf.</td></tr><tr><th><a href="obj/item/card/id.html#proc/clear_access">clear_access</a></th><td>Clears all accesses from the ID card - both wildcard and normal.</td></tr><tr><th><a href="obj/item/card/id.html#proc/clear_account">clear_account</a></th><td>Clears the economy account from the ID card.</td></tr><tr><th><a href="obj/item/card/id.html#proc/clear_reta_access">clear_reta_access</a></th><td>Clears all temporary department access from this ID card</td></tr><tr><th><a href="obj/item/card/id.html#proc/clear_reta_access_for_dept">clear_reta_access_for_dept</a></th><td>Clears temporary access for a specific department</td></tr><tr><th><a href="obj/item/card/id.html#proc/equip_to_item_loc">equip_to_item_loc</a></th><td>ID card is being equipped to an item (like a pda or wallet)</td></tr><tr><th><a href="obj/item/card/id.html#proc/get_displayed_name">get_displayed_name</a></th><td>Getter for the registered name, with optional honorifics</td></tr><tr><th><a href="obj/item/card/id.html#proc/get_id_holder">get_id_holder</a></th><td>Helper to get the human holding this ID card</td></tr><tr><th><a href="obj/item/card/id.html#proc/get_reta_access">get_reta_access</a></th><td>Gets all current temporary access flags for this ID card</td></tr><tr><th><a href="obj/item/card/id.html#proc/get_reta_access_for_dept">get_reta_access_for_dept</a></th><td>Gets temporary access flags for a specific department</td></tr><tr><th><a href="obj/item/card/id.html#proc/get_reta_summary">get_reta_summary</a></th><td>Gets a summary of all active RETA accesses (for debugging/display)</td></tr><tr><th><a href="obj/item/card/id.html#proc/get_trim_assignment">get_trim_assignment</a></th><td>Returns the trim assignment name.</td></tr><tr><th><a href="obj/item/card/id.html#proc/get_trim_sechud_icon_state">get_trim_sechud_icon_state</a></th><td>Returns the trim sechud icon state.</td></tr><tr><th><a href="obj/item/card/id.html#proc/grant_reta_access">grant_reta_access</a></th><td>Grants temporary department access to this ID card</td></tr><tr><th><a href="obj/item/card/id.html#proc/has_any_reta_access">has_any_reta_access</a></th><td>Checks if this ID card has any temporary access</td></tr><tr><th><a href="obj/item/card/id.html#proc/has_reta_access">has_reta_access</a></th><td>Checks if this ID card has temporary access to a specific flag</td></tr><tr><th><a href="obj/item/card/id.html#proc/has_reta_access_for_dept">has_reta_access_for_dept</a></th><td>Checks if this ID card has temporary access for a specific department</td></tr><tr><th><a href="obj/item/card/id.html#proc/insert_money">insert_money</a></th><td>Insert credits or coins into the ID card and add their value to the associated bank account.</td></tr><tr><th><a href="obj/item/card/id.html#proc/mass_insert_money">mass_insert_money</a></th><td>Insert multiple money or money-equivalent items at once.</td></tr><tr><th><a href="obj/item/card/id.html#proc/remove_access">remove_access</a></th><td>Removes the given accesses from the ID Card.</td></tr><tr><th><a href="obj/item/card/id.html#proc/remove_wildcards">remove_wildcards</a></th><td>Removes wildcards from the ID card.</td></tr><tr><th><a href="obj/item/card/id.html#proc/retrieve_access">retrieve_access</a></th><td>Called when we're being used as access.</td></tr><tr><th><a href="obj/item/card/id.html#proc/set_access">set_access</a></th><td>Attempts to set the card's accesses to the given accesses, clearing all accesses not in the given list.</td></tr><tr><th><a href="obj/item/card/id.html#proc/set_account">set_account</a></th><td>Sets the bank account for the ID card.</td></tr><tr><th><a href="obj/item/card/id.html#proc/set_holopay_fee">set_holopay_fee</a></th><td>Setter for changing the force fee on a holopay.</td></tr><tr><th><a href="obj/item/card/id.html#proc/set_holopay_logo">set_holopay_logo</a></th><td>Setter for the shop logo on linked holopays</td></tr><tr><th><a href="obj/item/card/id.html#proc/set_holopay_name">set_holopay_name</a></th><td>Setter for changing the holopay name.</td></tr><tr><th><a href="obj/item/card/id.html#proc/set_new_account">set_new_account</a></th><td>Attempts to set a new bank account on the ID card.</td></tr><tr><th><a href="obj/item/card/id.html#proc/unequip_from_item_loc">unequip_from_item_loc</a></th><td>ID card is being unequipped from an item (like a pda or wallet)</td></tr><tr><th><a href="obj/item/card/id.html#proc/update_honorific">update_honorific</a></th><td>Re-generates the honorific title. Returns the compiled honorific_title value</td></tr><tr><th><a href="obj/item/card/id.html#proc/update_in_wallet">update_in_wallet</a></th><td>Called on COMSIG_ATOM_UPDATED_ICON. Updates the visuals of the wallet this card is in.</td></tr><tr><th><a href="obj/item/card/id.html#proc/update_label">update_label</a></th><td>Updates the name based on the card's vars and state.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/access"><aside class="declaration">var </aside>access <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L110"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 110"></a></h3><p>Access levels held by this card.</p><h3 id="var/assignment"><aside class="declaration">var </aside>assignment <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L102"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 102"></a></h3><p>The job name registered on the card (for example: Assistant).</p><h3 id="var/available_logos"><aside class="declaration">var </aside>available_logos <aside>– /static/list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L82"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 82"></a></h3><p>List of logos available for holopay customization - via font awesome 5</p><h3 id="var/big_pointer"><aside class="declaration">var </aside>big_pointer <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L119"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 119"></a></h3><p>If true, the wearer will have bigger arrow when pointing at things. Passed down by trims.</p><h3 id="var/chosen_honorific"><aside class="declaration">var </aside>chosen_honorific <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L125"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 125"></a></h3><p>What is our selected honorific?</p><h3 id="var/holopay_fee"><aside class="declaration">var </aside>holopay_fee <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L88"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 88"></a></h3><p>Replaces the &quot;pay whatever&quot; functionality with a set amount when non-zero.</p><h3 id="var/holopay_logo"><aside class="declaration">var </aside>holopay_logo <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L90"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 90"></a></h3><p>The holopay icon chosen by the user</p><h3 id="var/holopay_max_fee"><aside class="declaration">var </aside>holopay_max_fee <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L92"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 92"></a></h3><p>Maximum forced fee. It's unlikely for a user to encounter this type of money, much less pay it willingly.</p><h3 id="var/holopay_min_fee"><aside class="declaration">var </aside>holopay_min_fee <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L94"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 94"></a></h3><p>Minimum forced fee for holopay stations. Registers as &quot;pay what you want.&quot;</p><h3 id="var/holopay_name"><aside class="declaration">var </aside>holopay_name <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L96"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 96"></a></h3><p>The holopay name chosen by the user</p><h3 id="var/honorific_position"><aside class="declaration">var </aside>honorific_position <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L123"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 123"></a></h3><p>Will this ID card use the first or last name as the name displayed with the honorific?</p><h3 id="var/is_intern"><aside class="declaration">var </aside>is_intern <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L116"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 116"></a></h3><p>Boolean value. If TRUE, the [Intern] tag gets prepended to this ID card when the label is updated.</p><h3 id="var/last_holopay_projection"><aside class="declaration">var </aside>last_holopay_projection <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L80"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 80"></a></h3><p>Cooldown between projecting holopays</p><h3 id="var/my_store"><aside class="declaration">var </aside>my_store <aside>– /<a href="obj.html">obj</a>/<a href="obj/structure.html">structure</a>/<a href="obj/structure/holopay.html">holopay</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L78"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 78"></a></h3><p>Linked holopay.</p><h3 id="var/pointer_color"><aside class="declaration">var </aside>pointer_color <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L121"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 121"></a></h3><p>If set, the arrow will have a different color.</p><h3 id="var/registered_account"><aside class="declaration">var </aside>registered_account <aside>– /<a href="datum.html">datum</a>/<a href="datum/bank_account.html">bank_account</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L75"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 75"></a></h3><p>Linked bank account.</p><h3 id="var/registered_age"><aside class="declaration">var </aside>registered_age <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L99"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 99"></a></h3><p>Registered owner's age.</p><h3 id="var/registered_name"><aside class="declaration">var </aside>registered_name <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L73"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 73"></a></h3><p>The name registered on the card (for example: Dr Bryan See)</p><h3 id="var/reta_temp_access"><aside class="declaration">var </aside>reta_temp_access <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/reta/reta_id_card.dm#L8"><img src="git.png" width="16" height="16" title="code/modules/reta/reta_id_card.dm 8"></a></h3><p>Dictionary of temporary department access: dept_name -&gt; list(access_flags)</p><h3 id="var/reta_timers"><aside class="declaration">var </aside>reta_timers <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/reta/reta_id_card.dm#L10"><img src="git.png" width="16" height="16" title="code/modules/reta/reta_id_card.dm 10"></a></h3><p>Dictionary of timer IDs for clearing temporary access: dept_name -&gt; timer_id</p><h3 id="var/trim"><aside class="declaration">var </aside>trim <aside>– /<a href="datum.html">datum</a>/<a href="datum/id_trim.html">id_trim</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L105"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 105"></a></h3><p>Trim datum associated with the card. Controls which job icon is displayed on the card and which accesses do not require wildcards.</p><h3 id="var/trim_changeable"><aside class="declaration">var </aside>trim_changeable <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L107"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 107"></a></h3><p>Whether the trim on this card can be changed.</p><h3 id="var/wildcard_slots"><aside class="declaration">var </aside>wildcard_slots <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L113"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 113"></a></h3><p>List of wildcard slot names as keys with lists of wildcard data as values.</p><h2 id="proc">Proc Details</h2><h3 id="proc/Destroy"><aside class="parent"><a title="/atom" href="atom.html#proc/Destroy">↑</a></aside>Destroy<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/reta/reta_id_card.dm#L206"><img src="git.png" width="16" height="16" title="code/modules/reta/reta_id_card.dm 206"></a></aside></h3><p>Cleanup temporary access when ID card is deleted</p><h3 id="proc/add_access"><aside class="declaration">proc </aside>add_access<aside>(/list/add_accesses, try_wildcard, mode)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L427"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 427"></a></aside></h3><p>Attempts to add the given accesses to the ID card as non-wildcards.</p>
<p>Depending on the mode, may add accesses as wildcards or error if it can't add them as non-wildcards.
Arguments:</p>
<ul>
<li>add_accesses - List of accesses to check.</li>
<li>try_wildcard - If not null, will attempt to add all accesses that require wildcard slots to this wildcard slot only.</li>
<li>mode - The method to use when adding accesses. See define for ERROR_ON_FAIL</li>
</ul><h3 id="proc/add_wildcards"><aside class="declaration">proc </aside>add_wildcards<aside>(/list/wildcard_list, try_wildcard, mode)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L324"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 324"></a></aside></h3><p>Attempts to add the given wildcards to the ID card.</p>
<p>Arguments:</p>
<ul>
<li>wildcard_list - List of accesses to add.</li>
<li>try_wildcard - If not null, will attempt to add all wildcards to this wildcard slot only.</li>
<li>mode - The method to use when adding wildcards. See define for ERROR_ON_FAIL</li>
</ul><h3 id="proc/alt_click_can_use_id"><aside class="declaration">proc </aside>alt_click_can_use_id<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L791"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 791"></a></aside></h3><p>Helper proc. Can the user alt-click the ID?</p><h3 id="proc/build_access_lists"><aside class="declaration">proc </aside>build_access_lists<aside>(/list/accesses, /list/basic_access_list, /list/wildcard_access_list)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L542"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 542"></a></aside></h3><p>Helper proc. Creates access lists for the access procs.</p>
<p>Takes the accesses list and compares it with the trim. Any basic accesses that match the trim are
added to basic_access_list and the rest are added to wildcard_access_list.</p>
<p>This proc directly modifies the lists passed in as args. It expects these lists to be instantiated.
There is no return value.
Arguments:</p>
<ul>
<li>accesses - List of accesses you want to stort into basic_access_list and wildcard_access_list. Should not be null.</li>
<li>basic_access_list - Mandatory argument. The proc modifies the list passed in this argument and adds accesses the trim supports to it.</li>
<li>wildcard_access_list - Mandatory argument. The proc modifies the list passed in this argument and adds accesses the trim does not support to it.</li>
</ul><h3 id="proc/can_add_wildcards"><aside class="declaration">proc </aside>can_add_wildcards<aside>(/list/wildcard_list, try_wildcard)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L282"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 282"></a></aside></h3><p>Helper proc, checks whether the ID card can hold any given set of wildcards.</p>
<p>Returns TRUE if the card can hold the wildcards, FALSE otherwise.
Arguments:</p>
<ul>
<li>wildcard_list - List of accesses to check.</li>
<li>try_wildcard - If not null, will attempt to add wildcards for this wildcard specifically and will return FALSE if the card cannot hold all wildcards in this slot.</li>
</ul><h3 id="proc/can_be_used_in_payment"><aside class="declaration">proc </aside>can_be_used_in_payment<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L557"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 557"></a></aside></h3><p>Helper proc that determines if a card can be used in certain types of payment transactions.</p><h3 id="proc/can_proj_holopay"><aside class="declaration">proc </aside>can_proj_holopay<aside>(/<a href="turf.html">turf</a>/target)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L651"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 651"></a></aside></h3><p>Determines whether a new holopay can be placed on the given turf.
Checks if there are dense contents, too many contents, or another
holopay already exists on the turf.</p>
<p>Arguments:</p>
<ul>
<li>turf/target - The target turf to be checked for dense contents
Returns:</li>
<li>TRUE if the target is a valid holopay location, FALSE otherwise.</li>
</ul><h3 id="proc/clear_access"><aside class="declaration">proc </aside>clear_access<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L491"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 491"></a></aside></h3><p>Clears all accesses from the ID card - both wildcard and normal.</p><h3 id="proc/clear_account"><aside class="declaration">proc </aside>clear_account<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L520"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 520"></a></aside></h3><p>Clears the economy account from the ID card.</p><h3 id="proc/clear_reta_access"><aside class="declaration">proc </aside>clear_reta_access<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/reta/reta_id_card.dm#L106"><img src="git.png" width="16" height="16" title="code/modules/reta/reta_id_card.dm 106"></a></aside></h3><p>Clears all temporary department access from this ID card</p><h3 id="proc/clear_reta_access_for_dept"><aside class="declaration">proc </aside>clear_reta_access_for_dept<aside>(dept)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/reta/reta_id_card.dm#L65"><img src="git.png" width="16" height="16" title="code/modules/reta/reta_id_card.dm 65"></a></aside></h3><p>Clears temporary access for a specific department</p><h3 id="proc/equip_to_item_loc"><aside class="declaration">proc </aside>equip_to_item_loc<aside>(/<a href="atom.html">atom</a>/new_loc)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L215"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 215"></a></aside></h3><p>ID card is being equipped to an item (like a pda or wallet)</p><h3 id="proc/get_displayed_name"><aside class="parent"><a title="/obj/item/card" href="obj/item/card.html#proc/get_displayed_name">↑</a></aside>get_displayed_name<aside>(honorifics)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L209"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 209"></a></aside></h3><p>Getter for the registered name, with optional honorifics</p><h3 id="proc/get_id_holder"><aside class="declaration">proc </aside>get_id_holder<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/reta/reta_id_card.dm#L191"><img src="git.png" width="16" height="16" title="code/modules/reta/reta_id_card.dm 191"></a></aside></h3><p>Helper to get the human holding this ID card</p><h3 id="proc/get_reta_access"><aside class="declaration">proc </aside>get_reta_access<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/reta/reta_id_card.dm#L165"><img src="git.png" width="16" height="16" title="code/modules/reta/reta_id_card.dm 165"></a></aside></h3><p>Gets all current temporary access flags for this ID card</p><h3 id="proc/get_reta_access_for_dept"><aside class="declaration">proc </aside>get_reta_access_for_dept<aside>(dept)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/reta/reta_id_card.dm#L173"><img src="git.png" width="16" height="16" title="code/modules/reta/reta_id_card.dm 173"></a></aside></h3><p>Gets temporary access flags for a specific department</p><h3 id="proc/get_reta_summary"><aside class="declaration">proc </aside>get_reta_summary<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/reta/reta_id_card.dm#L178"><img src="git.png" width="16" height="16" title="code/modules/reta/reta_id_card.dm 178"></a></aside></h3><p>Gets a summary of all active RETA accesses (for debugging/display)</p><h3 id="proc/get_trim_assignment"><aside class="declaration">proc </aside>get_trim_assignment<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L1016"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 1016"></a></aside></h3><p>Returns the trim assignment name.</p><h3 id="proc/get_trim_sechud_icon_state"><aside class="declaration">proc </aside>get_trim_sechud_icon_state<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L1020"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 1020"></a></aside></h3><p>Returns the trim sechud icon state.</p><h3 id="proc/grant_reta_access"><aside class="declaration">proc </aside>grant_reta_access<aside>(dept, duration_ds)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/reta/reta_id_card.dm#L13"><img src="git.png" width="16" height="16" title="code/modules/reta/reta_id_card.dm 13"></a></aside></h3><p>Grants temporary department access to this ID card</p><h3 id="proc/has_any_reta_access"><aside class="declaration">proc </aside>has_any_reta_access<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/reta/reta_id_card.dm#L147"><img src="git.png" width="16" height="16" title="code/modules/reta/reta_id_card.dm 147"></a></aside></h3><p>Checks if this ID card has any temporary access</p><h3 id="proc/has_reta_access"><aside class="declaration">proc </aside>has_reta_access<aside>(access_flag)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/reta/reta_id_card.dm#L154"><img src="git.png" width="16" height="16" title="code/modules/reta/reta_id_card.dm 154"></a></aside></h3><p>Checks if this ID card has temporary access to a specific flag</p><h3 id="proc/has_reta_access_for_dept"><aside class="declaration">proc </aside>has_reta_access_for_dept<aside>(dept)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/reta/reta_id_card.dm#L161"><img src="git.png" width="16" height="16" title="code/modules/reta/reta_id_card.dm 161"></a></aside></h3><p>Checks if this ID card has temporary access for a specific department</p><h3 id="proc/insert_money"><aside class="declaration">proc </aside>insert_money<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/money, /<a href="mob.html">mob</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L738"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 738"></a></aside></h3><p>Insert credits or coins into the ID card and add their value to the associated bank account.</p>
<p>Returns TRUE if the money was successfully inserted, FALSE otherwise.
Arguments:
money - The item to attempt to convert to credits and insert into the card.
user - The user inserting the item.
physical_currency - Boolean, whether this is a physical currency such as a coin and not a holochip.</p><h3 id="proc/mass_insert_money"><aside class="declaration">proc </aside>mass_insert_money<aside>(/list/money, /<a href="mob.html">mob</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L769"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 769"></a></aside></h3><p>Insert multiple money or money-equivalent items at once.</p>
<p>Arguments:
money - List of items to attempt to convert to credits and insert into the card.
user - The user inserting the items.</p><h3 id="proc/remove_access"><aside class="declaration">proc </aside>remove_access<aside>(/list/rem_accesses)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L452"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 452"></a></aside></h3><p>Removes the given accesses from the ID Card.</p>
<p>Will remove the wildcards if the accesses given are on the card as wildcard accesses.
Arguments:</p>
<ul>
<li>rem_accesses - List of accesses to remove.</li>
</ul><h3 id="proc/remove_wildcards"><aside class="declaration">proc </aside>remove_wildcards<aside>(/list/wildcard_list)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L380"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 380"></a></aside></h3><p>Removes wildcards from the ID card.</p>
<p>Arguments:</p>
<ul>
<li>wildcard_list - List of accesses to remove.</li>
</ul><h3 id="proc/retrieve_access"><aside class="declaration">proc </aside>retrieve_access<aside>(/<a href="datum.html">datum</a>/source, /list/player_access)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L243"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 243"></a></aside></h3><p>Called when we're being used as access.</p><h3 id="proc/set_access"><aside class="declaration">proc </aside>set_access<aside>(/list/new_access_list, mode)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L469"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 469"></a></aside></h3><p>Attempts to set the card's accesses to the given accesses, clearing all accesses not in the given list.</p>
<p>Depending on the mode, may add accesses as wildcards or error if it can't add them as non-wildcards.
Arguments:</p>
<ul>
<li>new_access_list - List of all accesses that this card should hold exclusively.</li>
<li>mode - The method to use when setting accesses. See define for ERROR_ON_FAIL</li>
</ul><h3 id="proc/set_account"><aside class="declaration">proc </aside>set_account<aside>(/<a href="datum.html">datum</a>/<a href="datum/bank_account.html">bank_account</a>/account, transfer_funds)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L502"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 502"></a></aside></h3><p>Sets the bank account for the ID card.</p><h3 id="proc/set_holopay_fee"><aside class="declaration">proc </aside>set_holopay_fee<aside>(new_fee)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L682"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 682"></a></aside></h3><p>Setter for changing the force fee on a holopay.</p>
<p>Arguments:</p>
<ul>
<li>new_fee - The new fee to be set.</li>
</ul><h3 id="proc/set_holopay_logo"><aside class="declaration">proc </aside>set_holopay_logo<aside>(new_logo)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L671"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 671"></a></aside></h3><p>Setter for the shop logo on linked holopays</p>
<p>Arguments:</p>
<ul>
<li>new_logo - The new logo to be set.</li>
</ul><h3 id="proc/set_holopay_name"><aside class="declaration">proc </aside>set_holopay_name<aside>(name)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L695"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 695"></a></aside></h3><p>Setter for changing the holopay name.</p>
<p>Arguments:</p>
<ul>
<li>new_name - The new name to be set.</li>
</ul><h3 id="proc/set_new_account"><aside class="declaration">proc </aside>set_new_account<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L797"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 797"></a></aside></h3><p>Attempts to set a new bank account on the ID card.</p><h3 id="proc/unequip_from_item_loc"><aside class="declaration">proc </aside>unequip_from_item_loc<aside>(/<a href="atom.html">atom</a>/old_loc)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L225"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 225"></a></aside></h3><p>ID card is being unequipped from an item (like a pda or wallet)</p><h3 id="proc/update_honorific"><aside class="declaration">proc </aside>update_honorific<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L1003"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 1003"></a></aside></h3><p>Re-generates the honorific title. Returns the compiled honorific_title value</p><h3 id="proc/update_in_wallet"><aside class="declaration">proc </aside>update_in_wallet<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L966"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 966"></a></aside></h3><p>Called on COMSIG_ATOM_UPDATED_ICON. Updates the visuals of the wallet this card is in.</p><h3 id="proc/update_label"><aside class="declaration">proc </aside>update_label<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/items/cards_ids.dm#L976"><img src="git.png" width="16" height="16" title="code/game/objects/items/cards_ids.dm 976"></a></aside></h3><p>Updates the name based on the card's vars and state.</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>