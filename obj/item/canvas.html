<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/item/canvas - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/item/canvas.html#var">Var Details</a> - <a href="obj/item/canvas.html#proc">Proc Details</a></header><main><h1>canvas <aside>/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/canvas.html">canvas</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/art/paintings.dm#L38"><img src="git.png" width="16" height="16" title="code/modules/art/paintings.dm 38"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/item/canvas.html#var/canvas_color">canvas_color</a></th><td>empty canvas color</td></tr><tr><th><a href="obj/item/canvas.html#var/last_patron">last_patron</a></th><td>reference to the last patron's mind datum, used to allow them (and no others) to change the frame before the round ends.</td></tr><tr><th><a href="obj/item/canvas.html#var/no_save">no_save</a></th><td>boolean that blocks persistence from saving it. enabled from printing copies, because we do not want to save copies.</td></tr><tr><th><a href="obj/item/canvas.html#var/pixels_per_unit">pixels_per_unit</a></th><td>How big the grid cells that compose the painting are in the UI (multiplied by zoom).
This impacts the size of the UI, so smaller values are generally better for bigger canvases and vice-versa</td></tr><tr><th><a href="obj/item/canvas.html#var/show_grid">show_grid</a></th><td>Whether a grid should be shown in the UI if the canvas is editable and the viewer is holding a painting tool.</td></tr><tr><th><a href="obj/item/canvas.html#var/used">used</a></th><td>Is it clean canvas or was there something painted on it at some point, used to decide when to show wip splotch overlay</td></tr><tr><th><a href="obj/item/canvas.html#var/zoom_by_observer">zoom_by_observer</a></th><td>A list that keeps track of the current zoom value for each current viewer.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/item/canvas.html#proc/canvas_fill">canvas_fill</a></th><td>A proc that adopts a span-based, 4-dir (correct me if I'm wrong) flood fill algorithm used
by the bucked tool in the UI, to facilitate coloring larger portions of the canvas.
If you have never used the bucket/flood tool on an image editor, I suggest you do it
now so you know what I'm basically talking about.</td></tr><tr><th><a href="obj/item/canvas.html#proc/get_paint_tool_medium">get_paint_tool_medium</a></th><td>Generates medium description</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/canvas_color"><aside class="declaration">var </aside>canvas_color <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/art/paintings.dm#L50"><img src="git.png" width="16" height="16" title="code/modules/art/paintings.dm 50"></a></h3><p>empty canvas color</p><h3 id="var/last_patron"><aside class="declaration">var </aside>last_patron <aside>– /<a href="datum.html">datum</a>/<a href="datum/weakref.html">weakref</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/art/paintings.dm#L62"><img src="git.png" width="16" height="16" title="code/modules/art/paintings.dm 62"></a></h3><p>reference to the last patron's mind datum, used to allow them (and no others) to change the frame before the round ends.</p><h3 id="var/no_save"><aside class="declaration">var </aside>no_save <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/art/paintings.dm#L59"><img src="git.png" width="16" height="16" title="code/modules/art/paintings.dm 59"></a></h3><p>boolean that blocks persistence from saving it. enabled from printing copies, because we do not want to save copies.</p><h3 id="var/pixels_per_unit"><aside class="declaration">var </aside>pixels_per_unit <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/art/paintings.dm#L74"><img src="git.png" width="16" height="16" title="code/modules/art/paintings.dm 74"></a></h3><p>How big the grid cells that compose the painting are in the UI (multiplied by zoom).
This impacts the size of the UI, so smaller values are generally better for bigger canvases and vice-versa</p><h3 id="var/show_grid"><aside class="declaration">var </aside>show_grid <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/art/paintings.dm#L55"><img src="git.png" width="16" height="16" title="code/modules/art/paintings.dm 55"></a></h3><p>Whether a grid should be shown in the UI if the canvas is editable and the viewer is holding a painting tool.</p><h3 id="var/used"><aside class="declaration">var </aside>used <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/art/paintings.dm#L52"><img src="git.png" width="16" height="16" title="code/modules/art/paintings.dm 52"></a></h3><p>Is it clean canvas or was there something painted on it at some point, used to decide when to show wip splotch overlay</p><h3 id="var/zoom_by_observer"><aside class="declaration">var </aside>zoom_by_observer <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/art/paintings.dm#L77"><img src="git.png" width="16" height="16" title="code/modules/art/paintings.dm 77"></a></h3><p>A list that keeps track of the current zoom value for each current viewer.</p><h2 id="proc">Proc Details</h2><h3 id="proc/canvas_fill"><aside class="declaration">proc </aside>canvas_fill<aside>(x, y, new_color)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/art/paintings.dm#L479"><img src="git.png" width="16" height="16" title="code/modules/art/paintings.dm 479"></a></aside></h3><p>A proc that adopts a span-based, 4-dir (correct me if I'm wrong) flood fill algorithm used
by the bucked tool in the UI, to facilitate coloring larger portions of the canvas.
If you have never used the bucket/flood tool on an image editor, I suggest you do it
now so you know what I'm basically talking about.</p>
<p>@ param x The point on the x axys where we start flooding our canvas. The arg is later used to store the current x
@ param y The point on the y axys where we start flooding the canvas. The arg is later used to store the current y
@ param new_color The new color that floods over the old one</p><h3 id="proc/get_paint_tool_medium"><aside class="declaration">proc </aside>get_paint_tool_medium<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/painting_implement)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/art/paintings.dm#L422"><img src="git.png" width="16" height="16" title="code/modules/art/paintings.dm 422"></a></aside></h3><p>Generates medium description</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/c41b333c9bc46606d2c5d5b517f7836d5953fbfd">c41b333</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>