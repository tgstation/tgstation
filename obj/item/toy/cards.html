<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/item/toy/cards - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/item/toy/cards.html#var">Var Details</a> - <a href="obj/item/toy/cards.html#proc">Proc Details</a></header><main><h1>cards <aside>/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/toy.html">toy</a>/<a href="obj/item/toy/cards.html">cards</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/cards/cards.dm#L4"><img src="git.png" width="16" height="16" title="code/modules/cards/cards.dm 4"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/item/toy/cards.html#var/can_play_52_card_pickup">can_play_52_card_pickup</a></th><td>Do all the cards drop to the floor when thrown at a person</td></tr><tr><th><a href="obj/item/toy/cards.html#var/card_atoms">card_atoms</a></th><td>List of card atoms for a hand or deck</td></tr><tr><th><a href="obj/item/toy/cards.html#var/card_limit">card_limit</a></th><td>How many cards can we hold at the same time</td></tr><tr><th><a href="obj/item/toy/cards.html#var/initial_cards">initial_cards</a></th><td>The initial cards in the deck. Each entry is either:</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/item/toy/cards.html#proc/count_cards">count_cards</a></th><td>Returns the number of cards in the deck.
Avoids creating any cards if it is unnecessary.</td></tr><tr><th><a href="obj/item/toy/cards.html#proc/draw">draw</a></th><td>Draws a card from the deck or hand of cards.</td></tr><tr><th><a href="obj/item/toy/cards.html#proc/fetch_card_atoms">fetch_card_atoms</a></th><td>Returns the cards in this deck.
Lazily generates the cards if they haven't already been made.</td></tr><tr><th><a href="obj/item/toy/cards.html#proc/insert">insert</a></th><td>This is used to insert a list of cards into a deck or cardhand</td></tr><tr><th><a href="obj/item/toy/cards.html#proc/pick_card">pick_card</a></th><td>Picks what card the user draws from the deck</td></tr><tr><th><a href="obj/item/toy/cards.html#proc/throw_impact">throw_impact</a></th><td>This is how we play 52 card pickup</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/can_play_52_card_pickup"><aside class="declaration">var </aside>can_play_52_card_pickup <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/cards/cards.dm#L8"><img src="git.png" width="16" height="16" title="code/modules/cards/cards.dm 8"></a></h3><p>Do all the cards drop to the floor when thrown at a person</p><h3 id="var/card_atoms"><aside class="declaration">var </aside>card_atoms <aside>– /list/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/toy.html">toy</a>/<a href="obj/item/toy/singlecard.html">singlecard</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/cards/cards.dm#L13"><img src="git.png" width="16" height="16" title="code/modules/cards/cards.dm 13"></a></h3><p>List of card atoms for a hand or deck</p><h3 id="var/card_limit"><aside class="declaration">var </aside>card_limit <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/cards/cards.dm#L10"><img src="git.png" width="16" height="16" title="code/modules/cards/cards.dm 10"></a></h3><p>How many cards can we hold at the same time</p><h3 id="var/initial_cards"><aside class="declaration">var </aside>initial_cards <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/cards/cards.dm#L19"><img src="git.png" width="16" height="16" title="code/modules/cards/cards.dm 19"></a></h3><p>The initial cards in the deck. Each entry is either:</p>
<ul>
<li>A string, representing the card name</li>
<li>A /datum/deck_card, which will turn into the card</li>
<li>A path that is a subtype of /datum/deck_card, which will be instantiated, then turned into the card</li>
</ul><h2 id="proc">Proc Details</h2><h3 id="proc/count_cards"><aside class="declaration">proc </aside>count_cards<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/cards/cards.dm#L172"><img src="git.png" width="16" height="16" title="code/modules/cards/cards.dm 172"></a></aside></h3><p>Returns the number of cards in the deck.
Avoids creating any cards if it is unnecessary.</p><h3 id="proc/draw"><aside class="declaration">proc </aside>draw<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/toy.html">toy</a>/<a href="obj/item/toy/singlecard.html">singlecard</a>/card)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/cards/cards.dm#L124"><img src="git.png" width="16" height="16" title="code/modules/cards/cards.dm 124"></a></aside></h3><p>Draws a card from the deck or hand of cards.</p>
<p>Draws the top card, removing it from the associated card atoms list,
unless a card arg is supplied; then it picks that specific card, removes it from the
associated card atoms list, and returns it (the card arg is used by the radial menu for cardhands to select
specific cards out of the cardhand).
Arguments:</p>
<ul>
<li>mob/living/user - The user drawing the card.</li>
<li>obj/item/toy/singlecard/card (optional) - The card drawn from the hand</li>
</ul><h3 id="proc/fetch_card_atoms"><aside class="declaration">proc </aside>fetch_card_atoms<aside>() <span class="as"> as </span>/list/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/toy.html">toy</a>/<a href="obj/item/toy/singlecard.html">singlecard</a> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/cards/cards.dm#L148"><img src="git.png" width="16" height="16" title="code/modules/cards/cards.dm 148"></a></aside></h3><p>Returns the cards in this deck.
Lazily generates the cards if they haven't already been made.</p><h3 id="proc/insert"><aside class="declaration">proc </aside>insert<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/toy.html">toy</a>/card_item)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/cards/cards.dm#L74"><img src="git.png" width="16" height="16" title="code/modules/cards/cards.dm 74"></a></aside></h3><p>This is used to insert a list of cards into a deck or cardhand</p>
<p>All cards that are inserted have their angle and pixel offsets reset to zero however their
flip state does not change unless it's being inserted into a deck which is always facedown
(see the deck/insert proc)
Returns the list of inserted cards</p>
<p>Arguments:</p>
<ul>
<li>card_item - Either a singlecard or cardhand that gets inserted into the src</li>
</ul><h3 id="proc/pick_card"><aside class="declaration">proc </aside>pick_card<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user, /list/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/toy.html">toy</a>/<a href="obj/item/toy/singlecard.html">singlecard</a>/cards)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/cards/cards.dm#L142"><img src="git.png" width="16" height="16" title="code/modules/cards/cards.dm 142"></a></aside></h3><p>Picks what card the user draws from the deck</p><h3 id="proc/throw_impact">throw_impact<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/target, /<a href="datum.html">datum</a>/<a href="datum/thrownthing.html">thrownthing</a>/throwingdatum)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/cards/cards.dm#L27"><img src="git.png" width="16" height="16" title="code/modules/cards/cards.dm 27"></a></aside></h3><p>This is how we play 52 card pickup</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>