<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/item/bodypart - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/item/bodypart.html#var">Var Details</a> - <a href="obj/item/bodypart.html#proc">Proc Details</a></header><main><h1>bodypart <aside>/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L1"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 1"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/item/bodypart.html#var/any_existing_wound_can_mangle_our_exterior">any_existing_wound_can_mangle_our_exterior</a></th><td>If false, no wound that can be applied to us can mangle our exterior. Used for determining if we should use [hp_percent_to_dismemberable] instead of normal dismemberment.</td></tr><tr><th><a href="obj/item/bodypart.html#var/any_existing_wound_can_mangle_our_interior">any_existing_wound_can_mangle_our_interior</a></th><td>If false, no wound that can be applied to us can mangle our interior. Used for determining if we should use [hp_percent_to_dismemberable] instead of normal dismemberment.</td></tr><tr><th><a href="obj/item/bodypart.html#var/applied_items">applied_items</a></th><td>Lazylist of category to item applied to this limb</td></tr><tr><th><a href="obj/item/bodypart.html#var/attack_type">attack_type</a></th><td>Type of an attack from this limb does. Arms will do punches, Legs for kicks, and head for bites. (TO ADD: tactical chestbumps)</td></tr><tr><th><a href="obj/item/bodypart.html#var/base_meat_amount">base_meat_amount</a></th><td>How much meat do we add to butcher_drops when automatically generating them from our species datum?</td></tr><tr><th><a href="obj/item/bodypart.html#var/biological_state">biological_state</a></th><td>A bitfield of biological states, exclusively used to determine which wounds this limb will get,
as well as how easily it will happen.
Set to BIO_STANDARD_UNJOINTED because most species have both flesh bone and blood in their limbs.</td></tr><tr><th><a href="obj/item/bodypart.html#var/bleed_overlay_icon">bleed_overlay_icon</a></th><td>If we're bleeding, which icon are we displaying on this part</td></tr><tr><th><a href="obj/item/bodypart.html#var/blood_dna_info">blood_dna_info</a></th><td>The cached info about the blood this organ belongs to, set during on_removal()</td></tr><tr><th><a href="obj/item/bodypart.html#var/body_damage_coeff">body_damage_coeff</a></th><td>A mutiplication of the burn and brute damage that the limb's stored damage contributes to its attached mob's overall wellbeing.</td></tr><tr><th><a href="obj/item/bodypart.html#var/body_part">body_part</a></th><td>bitflag used to check which clothes cover this bodypart</td></tr><tr><th><a href="obj/item/bodypart.html#var/body_zone">body_zone</a></th><td>BODY_ZONE_CHEST, BODY_ZONE_L_ARM, etc , used for def_zone</td></tr><tr><th><a href="obj/item/bodypart.html#var/bodypart_disabled">bodypart_disabled</a></th><td>Controls if the limb is disabled. TRUE means it is disabled (similar to being removed, but still present for the sake of targeted interactions).</td></tr><tr><th><a href="obj/item/bodypart.html#var/bodypart_effects">bodypart_effects</a></th><td>Lazylist of /datum/status_effect/grouped/bodypart_effect types. Instances of this are applied to the carbon when added the limb is attached, and merged with similair limbs</td></tr><tr><th><a href="obj/item/bodypart.html#var/bodypart_flags">bodypart_flags</a></th><td>Random flags that describe this bodypart</td></tr><tr><th><a href="obj/item/bodypart.html#var/bodypart_overlays">bodypart_overlays</a></th><td>A list of all bodypart overlays to draw</td></tr><tr><th><a href="obj/item/bodypart.html#var/bodypart_trait_source">bodypart_trait_source</a></th><td>The name of the trait source that the organ gives. Should not be altered during the events of gameplay, and will cause problems if it is.</td></tr><tr><th><a href="obj/item/bodypart.html#var/bodypart_traits">bodypart_traits</a></th><td>Traits that are given to the holder of the part. This does not update automatically on life(), only when the organs are initially generated or inserted!</td></tr><tr><th><a href="obj/item/bodypart.html#var/bodyshape">bodyshape</a></th><td>A bitfield of bodyshapes for clothing and other sprite information</td></tr><tr><th><a href="obj/item/bodypart.html#var/bodytype">bodytype</a></th><td>A bitfield of bodytypes for surgery, and misc information</td></tr><tr><th><a href="obj/item/bodypart.html#var/brute_dam">brute_dam</a></th><td>The current amount of brute damage the limb has</td></tr><tr><th><a href="obj/item/bodypart.html#var/brute_modifier">brute_modifier</a></th><td>Brute damage gets multiplied by this on receive_damage()</td></tr><tr><th><a href="obj/item/bodypart.html#var/burn_dam">burn_dam</a></th><td>The current amount of burn damage the limb has</td></tr><tr><th><a href="obj/item/bodypart.html#var/burn_modifier">burn_modifier</a></th><td>Burn damage gets multiplied by this on receive_damage()</td></tr><tr><th><a href="obj/item/bodypart.html#var/butcher_drop_cache">butcher_drop_cache</a></th><td>Init cache for our butcher drops for sanic speed</td></tr><tr><th><a href="obj/item/bodypart.html#var/butcher_drops">butcher_drops</a></th><td>What items we drop whenever we're butchered
If unset, the bodyparot cannot be butchered</td></tr><tr><th><a href="obj/item/bodypart.html#var/butcher_replacement">butcher_replacement</a></th><td>What skeleton limb, if any, we replace ourselves with when butchered?</td></tr><tr><th><a href="obj/item/bodypart.html#var/cached_bleed_rate">cached_bleed_rate</a></th><td>Our current bleed rate. Cached, update with refresh_bleed_rate()</td></tr><tr><th><a href="obj/item/bodypart.html#var/can_be_disabled">can_be_disabled</a></th><td>Whether it is possible for the limb to be disabled whatsoever. TRUE means that it is possible.</td></tr><tr><th><a href="obj/item/bodypart.html#var/change_exempt_flags">change_exempt_flags</a></th><td>Defines when a bodypart should not be changed. Example: BP_BLOCK_CHANGE_SPECIES prevents the limb from being overwritten on species gain</td></tr><tr><th><a href="obj/item/bodypart.html#var/color_overrides">color_overrides</a></th><td>An assoc list of priority (as a string because byond) -&gt; color, used to override draw_color.</td></tr><tr><th><a href="obj/item/bodypart.html#var/disabled_wound_penalty">disabled_wound_penalty</a></th><td>When this bodypart hits max damage, this number is added to all wound rolls. Obviously only relevant for bodyparts that have damage caps.</td></tr><tr><th><a href="obj/item/bodypart.html#var/disabling_threshold_percentage">disabling_threshold_percentage</a></th><td>Handles limb disabling by damage. If LIMB_NO_DISABLE (-1), a limb can't be disabled via damage. If 1 (100%), it is disabled at max limb damage. Anything between is the percentage of damage against maximum limb damage needed to disable the limb.</td></tr><tr><th><a href="obj/item/bodypart.html#var/dmg_overlay_type">dmg_overlay_type</a></th><td>the type of damage overlay (if any) to use when this bodypart is bruised/burned.</td></tr><tr><th><a href="obj/item/bodypart.html#var/draw_color">draw_color</a></th><td>The actual color a limb is drawn as, set by /proc/update_limb()</td></tr><tr><th><a href="obj/item/bodypart.html#var/embedded_objects">embedded_objects</a></th><td>List of obj/item's embedded inside us. Managed by embedded components, do not modify directly</td></tr><tr><th><a href="obj/item/bodypart.html#var/feature_offsets">feature_offsets</a></th><td>List of the above datums which have actually been instantiated, managed automatically</td></tr><tr><th><a href="obj/item/bodypart.html#var/generic_bleedstacks">generic_bleedstacks</a></th><td>How much generic bleedstacks we have on this bodypart</td></tr><tr><th><a href="obj/item/bodypart.html#var/grappled_attack_verb">grappled_attack_verb</a></th><td>if we have a special attack verb for hitting someone who is grappled by us, it goes here.</td></tr><tr><th><a href="obj/item/bodypart.html#var/grappled_attack_verb_continuous">grappled_attack_verb_continuous</a></th><td>Continuous tense grapple verb for successful attacks</td></tr><tr><th><a href="obj/item/bodypart.html#var/grasped_by">grasped_by</a></th><td>If something is currently grasping this bodypart and trying to staunch bleeding (see <a href="obj/item/hand_item/self_grasp.html" title="/obj/item/hand_item/self_grasp">/obj/item/hand_item/self_grasp</a>)</td></tr><tr><th><a href="obj/item/bodypart.html#var/held_index">held_index</a></th><td>are we a hand? if so, which one!</td></tr><tr><th><a href="obj/item/bodypart.html#var/hp_percent_to_dismemberable">hp_percent_to_dismemberable</a></th><td>In the case we dont have dismemberable features, or literally cant get wounds, we will use this percent to determine when we can be dismembered.
Compared to our ABSOLUTE maximum. Stored in decimal; 0.8 = 80%.</td></tr><tr><th><a href="obj/item/bodypart.html#var/husk_color">husk_color</a></th><td>The color to multiply the greyscaled husk sprites by. Can be null. Old husk sprite chest color is #A6A6A6</td></tr><tr><th><a href="obj/item/bodypart.html#var/husk_type">husk_type</a></th><td>The type of husk for building an iconstate</td></tr><tr><th><a href="obj/item/bodypart.html#var/icon_greyscale">icon_greyscale</a></th><td>The icon for Organic limbs using greyscale</td></tr><tr><th><a href="obj/item/bodypart.html#var/icon_husk">icon_husk</a></th><td>The icon for husked limbs</td></tr><tr><th><a href="obj/item/bodypart.html#var/icon_invisible">icon_invisible</a></th><td>The icon for invisible limbs</td></tr><tr><th><a href="obj/item/bodypart.html#var/icon_static">icon_static</a></th><td>The icon for non-greyscale limbs</td></tr><tr><th><a href="obj/item/bodypart.html#var/is_dimorphic">is_dimorphic</a></th><td>Is there a sprite difference between male and female?</td></tr><tr><th><a href="obj/item/bodypart.html#var/is_emissive">is_emissive</a></th><td>If this limb should have emissive overlays</td></tr><tr><th><a href="obj/item/bodypart.html#var/is_husked">is_husked</a></th><td>Whether the bodypart (and the owner) is husked.</td></tr><tr><th><a href="obj/item/bodypart.html#var/is_invisible">is_invisible</a></th><td>Whether the bodypart (and the owner) is invisible through invisibleman trait.</td></tr><tr><th><a href="obj/item/bodypart.html#var/last_maxed">last_maxed</a></th><td>So we know if we need to scream if this limb hits max damage</td></tr><tr><th><a href="obj/item/bodypart.html#var/limb_id">limb_id</a></th><td>The ID of a species used to generate the icon. Needs to match the icon_state portion in the limbs file!</td></tr><tr><th><a href="obj/item/bodypart.html#var/max_damage">max_damage</a></th><td>The maximum brute OR burn damage a bodypart can take. Once we hit this cap, no more damage of either type!</td></tr><tr><th><a href="obj/item/bodypart.html#var/owner">owner</a></th><td>The mob that &quot;owns&quot; this limb
DO NOT MODIFY DIRECTLY. Use update_owner()</td></tr><tr><th><a href="obj/item/bodypart.html#var/plaintext_zone">plaintext_zone</a></th><td>The body zone of this part in english (&quot;chest&quot;, &quot;left arm&quot;, etc) without the species attached to it</td></tr><tr><th><a href="obj/item/bodypart.html#var/robotic_emp_paralyze_damage_percent_threshold">robotic_emp_paralyze_damage_percent_threshold</a></th><td>get_damage() / total_damage must surpass this to allow our limb to be disabled, even temporarily, by an EMP.</td></tr><tr><th><a href="obj/item/bodypart.html#var/scarrable">scarrable</a></th><td>If this limb can be scarred.</td></tr><tr><th><a href="obj/item/bodypart.html#var/scars">scars</a></th><td>The scars currently afflicting this body part</td></tr><tr><th><a href="obj/item/bodypart.html#var/scars_covered_by_clothes">scars_covered_by_clothes</a></th><td>A hat won't cover your face, but a shirt covering your chest will cover your... you know, chest</td></tr><tr><th><a href="obj/item/bodypart.html#var/should_draw_greyscale">should_draw_greyscale</a></th><td>Limbs need this information as a back-up incase they are generated outside of a carbon (limbgrower)</td></tr><tr><th><a href="obj/item/bodypart.html#var/species_id">species_id</a></th><td>ID of a species to use as an override for species-based biological logic, such as what species to pull the meat from, if our limb_id doesn't match</td></tr><tr><th><a href="obj/item/bodypart.html#var/surgery_state">surgery_state</a></th><td>What state is the bodypart in for determining surgery availability</td></tr><tr><th><a href="obj/item/bodypart.html#var/texture_bodypart_overlay">texture_bodypart_overlay</a></th><td>A potential texturing overlay to put on the limb</td></tr><tr><th><a href="obj/item/bodypart.html#var/unarmed_attack_effect">unarmed_attack_effect</a></th><td>what visual effect is used when this limb is used to strike someone.</td></tr><tr><th><a href="obj/item/bodypart.html#var/unarmed_attack_sound">unarmed_attack_sound</a></th><td>Sounds when this bodypart is used in an umarmed attack</td></tr><tr><th><a href="obj/item/bodypart.html#var/unarmed_attack_verbs">unarmed_attack_verbs</a></th><td>the verbs used for an unarmed attack when using this limb, such as arm.unarmed_attack_verbs = list(&quot;punch&quot;)</td></tr><tr><th><a href="obj/item/bodypart.html#var/unarmed_attack_verbs_continuous">unarmed_attack_verbs_continuous</a></th><td>Continuous tense attack verbs for successful attacks</td></tr><tr><th><a href="obj/item/bodypart.html#var/unarmed_damage_high">unarmed_damage_high</a></th><td>Highest possible punch damage this bodypart can ive.</td></tr><tr><th><a href="obj/item/bodypart.html#var/unarmed_damage_low">unarmed_damage_low</a></th><td>Lowest possible punch damage this bodypart can give. If this is set to 0, unarmed attacks will always miss.</td></tr><tr><th><a href="obj/item/bodypart.html#var/unarmed_effectiveness">unarmed_effectiveness</a></th><td>Determines the accuracy bonus, armor penetration and knockdown probability.</td></tr><tr><th><a href="obj/item/bodypart.html#var/unarmed_grab_damage_bonus">unarmed_grab_damage_bonus</a></th><td>If this limb is used to grab (which is only arms right now), how much additional damage does it deal to the grabbed individual when they fail to escape the grab?</td></tr><tr><th><a href="obj/item/bodypart.html#var/unarmed_grab_escape_chance_bonus">unarmed_grab_escape_chance_bonus</a></th><td>If this limb is used to grab (which is only arms right now), how much more difficult is it to escape the grab, before accounting for grab state? Values above 0 is a malus, values below 0 is a bonus.
This is less powerful than adjusting grab state. If the arm has both an increased grab level and a chance reduction, it is very hard to escape a grab.</td></tr><tr><th><a href="obj/item/bodypart.html#var/unarmed_grab_state_bonus">unarmed_grab_state_bonus</a></th><td>If this limb is used to grab (which is only arms right now), how much more effective is the limb? Every integer above or below 0 is one effective grab level. Higher is a bonus, lower is a malus.
This is more powerful than adjusting grab escape chance. If the arm has both an increased grab level and a chance reduction, it is very hard to escape a grab.</td></tr><tr><th><a href="obj/item/bodypart.html#var/unarmed_pummeling_bonus">unarmed_pummeling_bonus</a></th><td>Multiplier applied to effectiveness and damage when attacking a grabbed target.</td></tr><tr><th><a href="obj/item/bodypart.html#var/unarmed_sharpness">unarmed_sharpness</a></th><td>The 'sharpness' of the limb. Could indicate claws, teeth or spines. Should default to NONE, or blunt.</td></tr><tr><th><a href="obj/item/bodypart.html#var/use_alternate_dismemberment_calc_even_if_mangleable">use_alternate_dismemberment_calc_even_if_mangleable</a></th><td>If true, we will use [hp_percent_to_dismemberable] even if we are dismemberable via wounds. Useful for things with extreme wound resistance.</td></tr><tr><th><a href="obj/item/bodypart.html#var/wound_damage_multiplier">wound_damage_multiplier</a></th><td>Our current stored wound damage multiplier</td></tr><tr><th><a href="obj/item/bodypart.html#var/wound_resistance">wound_resistance</a></th><td>This number is added to the effective wound armor on this body part (as long as it isn't managled externally or internally), higher numbers mean more defense, negative means easier to wound</td></tr><tr><th><a href="obj/item/bodypart.html#var/wounds">wounds</a></th><td>The wounds currently afflicting this body part</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/item/bodypart.html#proc/_embed_object">_embed_object</a></th><td>INTERNAL PROC, DO NOT USE
Properly sets us up to manage an inserted embeded object</td></tr><tr><th><a href="obj/item/bodypart.html#proc/_unembed_object">_unembed_object</a></th><td>INTERNAL PROC, DO NOT USE
Cleans up any attachment we have to the embedded object, removes it from our list</td></tr><tr><th><a href="obj/item/bodypart.html#proc/add_bodypart_overlay">add_bodypart_overlay</a></th><td>Add a bodypart overlay and call the appropriate update procs</td></tr><tr><th><a href="obj/item/bodypart.html#proc/add_bodypart_trait">add_bodypart_trait</a></th><td>Add a trait to the bodypart traits list, then applies the trait if necessary</td></tr><tr><th><a href="obj/item/bodypart.html#proc/add_surgical_state">add_surgical_state</a></th><td>Add one or multiple surgical states to the bodypart</td></tr><tr><th><a href="obj/item/bodypart.html#proc/adjustBleedStacks">adjustBleedStacks</a></th><td>Modifies our generic bleedstacks. You must use this to change the variable
Takes the amount to adjust by, and the lowest amount we're allowed to have post adjust</td></tr><tr><th><a href="obj/item/bodypart.html#proc/apply_item">apply_item</a></th><td>Inserts an item into the applied items list for this bodypart</td></tr><tr><th><a href="obj/item/bodypart.html#proc/apply_ownership">apply_ownership</a></th><td>Apply ownership of a limb to someone, giving the appropriate traits, updates and signals</td></tr><tr><th><a href="obj/item/bodypart.html#proc/attempt_feature_restyle">attempt_feature_restyle</a></th><td>Asks the external organs inside the limb if they can restyle</td></tr><tr><th><a href="obj/item/bodypart.html#proc/can_attach_limb">can_attach_limb</a></th><td>Checks if you can attach a limb, returns TRUE if you can.</td></tr><tr><th><a href="obj/item/bodypart.html#proc/can_be_grasped">can_be_grasped</a></th><td>If TRUE, the owner of this bodypart can try grabbing it to slow bleeding, as well as various other effects.</td></tr><tr><th><a href="obj/item/bodypart.html#proc/change_appearance">change_appearance</a></th><td>A multi-purpose setter for all things immediately important to the icon and iconstate of the limb.</td></tr><tr><th><a href="obj/item/bodypart.html#proc/check_for_frankenstein">check_for_frankenstein</a></th><td>Checks if a limb qualifies as a BODYPART_IMPLANTED</td></tr><tr><th><a href="obj/item/bodypart.html#proc/check_for_injuries">check_for_injuries</a></th><td>Called when a bodypart is checked for injuries.</td></tr><tr><th><a href="obj/item/bodypart.html#proc/check_series_wounding_mods">check_series_wounding_mods</a></th><td>Should return an assoc list of (wound_series -&gt; penalty). Will be used in determining series-specific penalties for wounding.</td></tr><tr><th><a href="obj/item/bodypart.html#proc/check_wounding">check_wounding</a></th><td>check_wounding() is where we handle rolling for, selecting, and applying a wound if we meet the criteria</td></tr><tr><th><a href="obj/item/bodypart.html#proc/check_woundings_mods">check_woundings_mods</a></th><td>check_wounding_mods() is where we handle the various modifiers of a wound roll</td></tr><tr><th><a href="obj/item/bodypart.html#proc/clear_ownership">clear_ownership</a></th><td>Run all necessary procs to remove a limbs ownership and remove the appropriate signals and traits</td></tr><tr><th><a href="obj/item/bodypart.html#proc/dismember">dismember</a></th><td>Remove target limb from its owner, with side effects.</td></tr><tr><th><a href="obj/item/bodypart.html#proc/dismemberable_by_total_damage">dismemberable_by_total_damage</a></th><td>Returns TRUE if our total percent damage is more or equal to our dismemberable percentage, but FALSE if a wound can cause us to be dismembered.</td></tr><tr><th><a href="obj/item/bodypart.html#proc/dismemberable_by_wound">dismemberable_by_wound</a></th><td>Returns if our current mangling status allows us to be dismembered. Requires both no exterior/mangled exterior and no interior/mangled interior.</td></tr><tr><th><a href="obj/item/bodypart.html#proc/drop_limb">drop_limb</a></th><td>limb removal. The &quot;special&quot; argument is used for swapping a limb with a new one without the effects of losing a limb kicking in.</td></tr><tr><th><a href="obj/item/bodypart.html#proc/emp_effect">emp_effect</a></th><td>The actual effect of EMPs on the limb. Allows children to override it however they want</td></tr><tr><th><a href="obj/item/bodypart.html#proc/forced_removal">forced_removal</a></th><td>In-case someone, somehow only teleports someones limb</td></tr><tr><th><a href="obj/item/bodypart.html#proc/generate_husk_key">generate_husk_key</a></th><td>Generates a cache key specifically for husks</td></tr><tr><th><a href="obj/item/bodypart.html#proc/generate_icon_key">generate_icon_key</a></th><td>Called from update_body_parts() these procs handle the limb icon cache.
the limb icon cache adds an icon_render_key to a human mob, it represents:</td></tr><tr><th><a href="obj/item/bodypart.html#proc/get_bio_state_status">get_bio_state_status</a></th><td>Returns a bitflag using ANATOMY_EXTERIOR or ANATOMY_INTERIOR. Used to determine if we as a whole have a interior or exterior biostate, or both.</td></tr><tr><th><a href="obj/item/bodypart.html#proc/get_butcher_drops">get_butcher_drops</a></th><td>Returns an assoc list of items dropped when the limb is butchered
force - Force an update of drops ignoring the cache</td></tr><tr><th><a href="obj/item/bodypart.html#proc/get_external_description">get_external_description</a></th><td>Returns the generic description of our BIO_EXTERNAL feature(s), prioritizing certain ones over others. Returns error on failure.</td></tr><tr><th><a href="obj/item/bodypart.html#proc/get_internal_description">get_internal_description</a></th><td>Returns the generic description of our BIO_INTERNAL feature(s), prioritizing certain ones over others. Returns error on failure.</td></tr><tr><th><a href="obj/item/bodypart.html#proc/get_limb_icon">get_limb_icon</a></th><td>Generates an /image for the limb to be used as an overlay</td></tr><tr><th><a href="obj/item/bodypart.html#proc/get_mangled_state">get_mangled_state</a></th><td>get_mangled_state() is relevant for flesh and bone bodyparts, and returns whether this bodypart has mangled skin, mangled bone, or both (or neither i guess)</td></tr><tr><th><a href="obj/item/bodypart.html#proc/get_splint_factor">get_splint_factor</a></th><td>Get how splinted this bodypart is based on applied items</td></tr><tr><th><a href="obj/item/bodypart.html#proc/get_surgery_examine">get_surgery_examine</a></th><td>Returns surgery examine information for this bodypart</td></tr><tr><th><a href="obj/item/bodypart.html#proc/get_surgery_self_check">get_surgery_self_check</a></th><td>Returns surgery self-check information for this bodypart</td></tr><tr><th><a href="obj/item/bodypart.html#proc/get_wound_threshold_of_wound_type">get_wound_threshold_of_wound_type</a></th><td>A simple proc that gets the best wound to fit the criteria laid out, then returns its wound threshold.</td></tr><tr><th><a href="obj/item/bodypart.html#proc/get_wound_type">get_wound_type</a></th><td>Get whatever wound of the given type is currently attached to this limb, if any</td></tr><tr><th><a href="obj/item/bodypart.html#proc/is_woundable">is_woundable</a></th><td>Check if a bodypart can be wounded</td></tr><tr><th><a href="obj/item/bodypart.html#proc/on_adding">on_adding</a></th><td>Called on addition of a bodypart</td></tr><tr><th><a href="obj/item/bodypart.html#proc/on_attempt_feature_restyle">on_attempt_feature_restyle</a></th><td>Invoke async so we don't break signals</td></tr><tr><th><a href="obj/item/bodypart.html#proc/on_attempt_feature_restyle_mob">on_attempt_feature_restyle_mob</a></th><td>Someone used a restyling thingymajigga on our limb owner</td></tr><tr><th><a href="obj/item/bodypart.html#proc/on_owner_clean">on_owner_clean</a></th><td>Called when limb's current owner gets washed</td></tr><tr><th><a href="obj/item/bodypart.html#proc/on_owner_nolimbdisable_trait_gain">on_owner_nolimbdisable_trait_gain</a></th><td>Called when TRAIT_NOLIMBDISABLE is added to the owner.</td></tr><tr><th><a href="obj/item/bodypart.html#proc/on_owner_nolimbdisable_trait_loss">on_owner_nolimbdisable_trait_loss</a></th><td>Called when TRAIT_NOLIMBDISABLE is removed from the owner.</td></tr><tr><th><a href="obj/item/bodypart.html#proc/on_paralysis_trait_gain">on_paralysis_trait_gain</a></th><td>Called when TRAIT_PARALYSIS is added to the limb.</td></tr><tr><th><a href="obj/item/bodypart.html#proc/on_paralysis_trait_loss">on_paralysis_trait_loss</a></th><td>Called when TRAIT_PARALYSIS is removed from the limb.</td></tr><tr><th><a href="obj/item/bodypart.html#proc/on_removal">on_removal</a></th><td>Called on removal of a bodypart.</td></tr><tr><th><a href="obj/item/bodypart.html#proc/painless_wound_roll">painless_wound_roll</a></th><td>Allows us to roll for and apply a wound without actually dealing damage. Used for aggregate wounding power with pellet clouds</td></tr><tr><th><a href="obj/item/bodypart.html#proc/receive_damage">receive_damage</a></th><td>#receive_damage</td></tr><tr><th><a href="obj/item/bodypart.html#proc/refresh_bleed_rate">refresh_bleed_rate</a></th><td>Refresh the cache of our rate of bleeding sans any modifiers
ANYTHING ADDED TO THIS PROC NEEDS TO CALL IT WHEN ITS EFFECT CHANGES</td></tr><tr><th><a href="obj/item/bodypart.html#proc/remove_bodypart_overlay">remove_bodypart_overlay</a></th><td>Remove a bodypart overlay and call the appropriate update procs</td></tr><tr><th><a href="obj/item/bodypart.html#proc/remove_bodypart_trait">remove_bodypart_trait</a></th><td>Remove a trait from the bodypart traits list, then removes the trait if necessary</td></tr><tr><th><a href="obj/item/bodypart.html#proc/remove_surgical_state">remove_surgical_state</a></th><td>Remove one or multiple surgical states from the bodypart</td></tr><tr><th><a href="obj/item/bodypart.html#proc/replace_limb">replace_limb</a></th><td>Try to attach this bodypart to a mob, while replacing one if it exists, does nothing if it fails. Returns TRUE on success, FALSE on failure.</td></tr><tr><th><a href="obj/item/bodypart.html#proc/reset_appearance">reset_appearance</a></th><td>Resets the base appearance of a limb to it's default values.</td></tr><tr><th><a href="obj/item/bodypart.html#proc/seep_gauze">seep_gauze</a></th><td>Attempts to use up some of gauze applied
If we use up all of the gauze, it is deleted</td></tr><tr><th><a href="obj/item/bodypart.html#proc/setBleedStacks">setBleedStacks</a></th><td>Sets our generic bleedstacks</td></tr><tr><th><a href="obj/item/bodypart.html#proc/set_brute_dam">set_brute_dam</a></th><td>Proc to hook behavior associated to the change of the brute_dam variable's value.</td></tr><tr><th><a href="obj/item/bodypart.html#proc/set_burn_dam">set_burn_dam</a></th><td>Proc to hook behavior associated to the change of the burn_dam variable's value.</td></tr><tr><th><a href="obj/item/bodypart.html#proc/set_can_be_disabled">set_can_be_disabled</a></th><td>Proc to change the value of the <code>can_be_disabled</code> variable and react to the event of its change.</td></tr><tr><th><a href="obj/item/bodypart.html#proc/set_disabled">set_disabled</a></th><td>Proc to change the value of the <code>disabled</code> variable and react to the event of its change.</td></tr><tr><th><a href="obj/item/bodypart.html#proc/set_initial_damage">set_initial_damage</a></th><td>Sets the damage of a bodypart when it is created.</td></tr><tr><th><a href="obj/item/bodypart.html#proc/try_dismember">try_dismember</a></th><td>try_dismember() is used, once we've confirmed that a flesh and bone bodypart has both the skin and bone mangled, to actually roll for it</td></tr><tr><th><a href="obj/item/bodypart.html#proc/update_icon_dropped">update_icon_dropped</a></th><td>To update the bodypart's icon when not attached to a mob</td></tr><tr><th><a href="obj/item/bodypart.html#proc/update_owner">update_owner</a></th><td>Proc to change the value of the <code>owner</code> variable and react to the event of its change.</td></tr><tr><th><a href="obj/item/bodypart.html#proc/update_surgical_state">update_surgical_state</a></th><td>Called when surgical state changes so we can react to it</td></tr><tr><th><a href="obj/item/bodypart.html#proc/update_wound_theory">update_wound_theory</a></th><td>Updates our &quot;can be theoretically dismembered by wounds&quot; variables by iterating through all wound static data.</td></tr><tr><th><a href="obj/item/bodypart.html#proc/update_wounds">update_wounds</a></th><td>update_wounds() is called whenever a wound is gained or lost on this bodypart, as well as if there's a change of some kind on a bone wound possibly changing disabled status</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/any_existing_wound_can_mangle_our_exterior"><aside class="declaration">var </aside>any_existing_wound_can_mangle_our_exterior <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L212"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 212"></a></h3><p>If false, no wound that can be applied to us can mangle our exterior. Used for determining if we should use [hp_percent_to_dismemberable] instead of normal dismemberment.</p><h3 id="var/any_existing_wound_can_mangle_our_interior"><aside class="declaration">var </aside>any_existing_wound_can_mangle_our_interior <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L214"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 214"></a></h3><p>If false, no wound that can be applied to us can mangle our interior. Used for determining if we should use [hp_percent_to_dismemberable] instead of normal dismemberment.</p><h3 id="var/applied_items"><aside class="declaration">var </aside>applied_items <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L160"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 160"></a></h3><p>Lazylist of category to item applied to this limb</p><h3 id="var/attack_type"><aside class="declaration">var </aside>attack_type <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L166"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 166"></a></h3><p>Type of an attack from this limb does. Arms will do punches, Legs for kicks, and head for bites. (TO ADD: tactical chestbumps)</p><h3 id="var/base_meat_amount"><aside class="declaration">var </aside>base_meat_amount <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L229"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 229"></a></h3><p>How much meat do we add to butcher_drops when automatically generating them from our species datum?</p><h3 id="var/biological_state"><aside class="declaration">var </aside>biological_state <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L36"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 36"></a></h3><p>A bitfield of biological states, exclusively used to determine which wounds this limb will get,
as well as how easily it will happen.
Set to BIO_STANDARD_UNJOINTED because most species have both flesh bone and blood in their limbs.</p><h3 id="var/bleed_overlay_icon"><aside class="declaration">var </aside>bleed_overlay_icon <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L118"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 118"></a></h3><p>If we're bleeding, which icon are we displaying on this part</p><h3 id="var/blood_dna_info"><aside class="declaration">var </aside>blood_dna_info <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L222"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 222"></a></h3><p>The cached info about the blood this organ belongs to, set during on_removal()</p><h3 id="var/body_damage_coeff"><aside class="declaration">var </aside>body_damage_coeff <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L86"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 86"></a></h3><p>A mutiplication of the burn and brute damage that the limb's stored damage contributes to its attached mob's overall wellbeing.</p><h3 id="var/body_part"><aside class="declaration">var </aside>body_part <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L70"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 70"></a></h3><p>bitflag used to check which clothes cover this bodypart</p><h3 id="var/body_zone"><aside class="declaration">var </aside>body_zone <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L64"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 64"></a></h3><p>BODY_ZONE_CHEST, BODY_ZONE_L_ARM, etc , used for def_zone</p><h3 id="var/bodypart_disabled"><aside class="declaration">var </aside>bodypart_disabled <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L80"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 80"></a></h3><p>Controls if the limb is disabled. TRUE means it is disabled (similar to being removed, but still present for the sake of targeted interactions).</p><h3 id="var/bodypart_effects"><aside class="declaration">var </aside>bodypart_effects <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L220"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 220"></a></h3><p>Lazylist of /datum/status_effect/grouped/bodypart_effect types. Instances of this are applied to the carbon when added the limb is attached, and merged with similair limbs</p><h3 id="var/bodypart_flags"><aside class="declaration">var </aside>bodypart_flags <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L44"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 44"></a></h3><p>Random flags that describe this bodypart</p><h3 id="var/bodypart_overlays"><aside class="declaration">var </aside>bodypart_overlays <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L163"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 163"></a></h3><p>A list of all bodypart overlays to draw</p><h3 id="var/bodypart_trait_source"><aside class="declaration">var </aside>bodypart_trait_source <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L202"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 202"></a></h3><p>The name of the trait source that the organ gives. Should not be altered during the events of gameplay, and will cause problems if it is.</p><h3 id="var/bodypart_traits"><aside class="declaration">var </aside>bodypart_traits <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L200"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 200"></a></h3><p>Traits that are given to the holder of the part. This does not update automatically on life(), only when the organs are initially generated or inserted!</p><h3 id="var/bodyshape"><aside class="declaration">var </aside>bodyshape <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L40"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 40"></a></h3><p>A bitfield of bodyshapes for clothing and other sprite information</p><h3 id="var/bodytype"><aside class="declaration">var </aside>bodytype <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L38"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 38"></a></h3><p>A bitfield of bodytypes for surgery, and misc information</p><h3 id="var/brute_dam"><aside class="declaration">var </aside>brute_dam <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L88"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 88"></a></h3><p>The current amount of brute damage the limb has</p><h3 id="var/brute_modifier"><aside class="declaration">var </aside>brute_modifier <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L100"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 100"></a></h3><p>Brute damage gets multiplied by this on receive_damage()</p><h3 id="var/burn_dam"><aside class="declaration">var </aside>burn_dam <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L90"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 90"></a></h3><p>The current amount of burn damage the limb has</p><h3 id="var/burn_modifier"><aside class="declaration">var </aside>burn_modifier <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L102"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 102"></a></h3><p>Burn damage gets multiplied by this on receive_damage()</p><h3 id="var/butcher_drop_cache"><aside class="declaration">var </aside>butcher_drop_cache <aside>– /static/list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L231"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 231"></a></h3><p>Init cache for our butcher drops for sanic speed</p><h3 id="var/butcher_drops"><aside class="declaration">var </aside>butcher_drops <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L225"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 225"></a></h3><p>What items we drop whenever we're butchered
If unset, the bodyparot cannot be butchered</p><h3 id="var/butcher_replacement"><aside class="declaration">var </aside>butcher_replacement <aside>– /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L227"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 227"></a></h3><p>What skeleton limb, if any, we replace ourselves with when butchered?</p><h3 id="var/cached_bleed_rate"><aside class="declaration">var </aside>cached_bleed_rate <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L154"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 154"></a></h3><p>Our current bleed rate. Cached, update with refresh_bleed_rate()</p><h3 id="var/can_be_disabled"><aside class="declaration">var </aside>can_be_disabled <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L78"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 78"></a></h3><p>Whether it is possible for the limb to be disabled whatsoever. TRUE means that it is possible.</p><h3 id="var/change_exempt_flags"><aside class="declaration">var </aside>change_exempt_flags <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L42"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 42"></a></h3><p>Defines when a bodypart should not be changed. Example: BP_BLOCK_CHANGE_SPECIES prevents the limb from being overwritten on species gain</p><h3 id="var/color_overrides"><aside class="declaration">var </aside>color_overrides <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L110"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 110"></a></h3><p>An assoc list of priority (as a string because byond) -&gt; color, used to override draw_color.</p><h3 id="var/disabled_wound_penalty"><aside class="declaration">var </aside>disabled_wound_penalty <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L147"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 147"></a></h3><p>When this bodypart hits max damage, this number is added to all wound rolls. Obviously only relevant for bodyparts that have damage caps.</p><h3 id="var/disabling_threshold_percentage"><aside class="declaration">var </aside>disabling_threshold_percentage <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L82"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 82"></a></h3><p>Handles limb disabling by damage. If LIMB_NO_DISABLE (-1), a limb can't be disabled via damage. If 1 (100%), it is disabled at max limb damage. Anything between is the percentage of damage against maximum limb damage needed to disable the limb.</p><h3 id="var/dmg_overlay_type"><aside class="declaration">var </aside>dmg_overlay_type <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L116"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 116"></a></h3><p>the type of damage overlay (if any) to use when this bodypart is bruised/burned.</p><h3 id="var/draw_color"><aside class="declaration">var </aside>draw_color <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L59"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 59"></a></h3><p>The actual color a limb is drawn as, set by /proc/update_limb()</p><h3 id="var/embedded_objects"><aside class="declaration">var </aside>embedded_objects <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L72"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 72"></a></h3><p>List of obj/item's embedded inside us. Managed by embedded components, do not modify directly</p><h3 id="var/feature_offsets"><aside class="declaration">var </aside>feature_offsets <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L204"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 204"></a></h3><p>List of the above datums which have actually been instantiated, managed automatically</p><h3 id="var/generic_bleedstacks"><aside class="declaration">var </aside>generic_bleedstacks <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L156"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 156"></a></h3><p>How much generic bleedstacks we have on this bodypart</p><h3 id="var/grappled_attack_verb"><aside class="declaration">var </aside>grappled_attack_verb <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L172"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 172"></a></h3><p>if we have a special attack verb for hitting someone who is grappled by us, it goes here.</p><h3 id="var/grappled_attack_verb_continuous"><aside class="declaration">var </aside>grappled_attack_verb_continuous <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L174"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 174"></a></h3><p>Continuous tense grapple verb for successful attacks</p><h3 id="var/grasped_by"><aside class="declaration">var </aside>grasped_by <aside>– /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/hand_item/self_grasp.html">hand_item/self_grasp</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L158"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 158"></a></h3><p>If something is currently grasping this bodypart and trying to staunch bleeding (see <a href="obj/item/hand_item/self_grasp.html" title="/obj/item/hand_item/self_grasp">/obj/item/hand_item/self_grasp</a>)</p><h3 id="var/held_index"><aside class="declaration">var </aside>held_index <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L74"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 74"></a></h3><p>are we a hand? if so, which one!</p><h3 id="var/hp_percent_to_dismemberable"><aside class="declaration">var </aside>hp_percent_to_dismemberable <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L208"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 208"></a></h3><p>In the case we dont have dismemberable features, or literally cant get wounds, we will use this percent to determine when we can be dismembered.
Compared to our ABSOLUTE maximum. Stored in decimal; 0.8 = 80%.</p><h3 id="var/husk_color"><aside class="declaration">var </aside>husk_color <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L22"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 22"></a></h3><p>The color to multiply the greyscaled husk sprites by. Can be null. Old husk sprite chest color is #A6A6A6</p><h3 id="var/husk_type"><aside class="declaration">var </aside>husk_type <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L20"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 20"></a></h3><p>The type of husk for building an iconstate</p><h3 id="var/icon_greyscale"><aside class="declaration">var </aside>icon_greyscale <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L12"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 12"></a></h3><p>The icon for Organic limbs using greyscale</p><h3 id="var/icon_husk"><aside class="declaration">var </aside>icon_husk <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L16"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 16"></a></h3><p>The icon for husked limbs</p><h3 id="var/icon_invisible"><aside class="declaration">var </aside>icon_invisible <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L18"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 18"></a></h3><p>The icon for invisible limbs</p><h3 id="var/icon_static"><aside class="declaration">var </aside>icon_static <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L14"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 14"></a></h3><p>The icon for non-greyscale limbs</p><h3 id="var/is_dimorphic"><aside class="declaration">var </aside>is_dimorphic <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L57"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 57"></a></h3><p>Is there a sprite difference between male and female?</p><h3 id="var/is_emissive"><aside class="declaration">var </aside>is_emissive <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L61"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 61"></a></h3><p>If this limb should have emissive overlays</p><h3 id="var/is_husked"><aside class="declaration">var </aside>is_husked <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L47"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 47"></a></h3><p>Whether the bodypart (and the owner) is husked.</p><h3 id="var/is_invisible"><aside class="declaration">var </aside>is_invisible <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L49"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 49"></a></h3><p>Whether the bodypart (and the owner) is invisible through invisibleman trait.</p><h3 id="var/last_maxed"><aside class="declaration">var </aside>last_maxed <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L152"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 152"></a></h3><p>So we know if we need to scream if this limb hits max damage</p><h3 id="var/limb_id"><aside class="declaration">var </aside>limb_id <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L51"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 51"></a></h3><p>The ID of a species used to generate the icon. Needs to match the icon_state portion in the limbs file!</p><h3 id="var/max_damage"><aside class="declaration">var </aside>max_damage <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L92"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 92"></a></h3><p>The maximum brute OR burn damage a bodypart can take. Once we hit this cap, no more damage of either type!</p><h3 id="var/owner"><aside class="declaration">var </aside>owner <aside>– /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L26"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 26"></a></h3><p>The mob that &quot;owns&quot; this limb
DO NOT MODIFY DIRECTLY. Use update_owner()</p><h3 id="var/plaintext_zone"><aside class="declaration">var </aside>plaintext_zone <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L66"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 66"></a></h3><p>The body zone of this part in english (&quot;chest&quot;, &quot;left arm&quot;, etc) without the species attached to it</p><h3 id="var/robotic_emp_paralyze_damage_percent_threshold"><aside class="declaration">var </aside>robotic_emp_paralyze_damage_percent_threshold <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L216"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 216"></a></h3><p>get_damage() / total_damage must surpass this to allow our limb to be disabled, even temporarily, by an EMP.</p><h3 id="var/scarrable"><aside class="declaration">var </aside>scarrable <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L29"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 29"></a></h3><p>If this limb can be scarred.</p><h3 id="var/scars"><aside class="declaration">var </aside>scars <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L140"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 140"></a></h3><p>The scars currently afflicting this body part</p><h3 id="var/scars_covered_by_clothes"><aside class="declaration">var </aside>scars_covered_by_clothes <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L150"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 150"></a></h3><p>A hat won't cover your face, but a shirt covering your chest will cover your... you know, chest</p><h3 id="var/should_draw_greyscale"><aside class="declaration">var </aside>should_draw_greyscale <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L108"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 108"></a></h3><p>Limbs need this information as a back-up incase they are generated outside of a carbon (limbgrower)</p><h3 id="var/species_id"><aside class="declaration">var </aside>species_id <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L53"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 53"></a></h3><p>ID of a species to use as an override for species-based biological logic, such as what species to pull the meat from, if our limb_id doesn't match</p><h3 id="var/surgery_state"><aside class="declaration">var </aside>surgery_state <aside>– /final</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L233"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 233"></a></h3><p>What state is the bodypart in for determining surgery availability</p><h3 id="var/texture_bodypart_overlay"><aside class="declaration">var </aside>texture_bodypart_overlay <aside>– /<a href="datum.html">datum</a>/<a href="datum/bodypart_overlay.html">bodypart_overlay</a>/<a href="datum/bodypart_overlay/texture.html">texture</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L218"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 218"></a></h3><p>A potential texturing overlay to put on the limb</p><h3 id="var/unarmed_attack_effect"><aside class="declaration">var </aside>unarmed_attack_effect <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L176"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 176"></a></h3><p>what visual effect is used when this limb is used to strike someone.</p><h3 id="var/unarmed_attack_sound"><aside class="declaration">var </aside>unarmed_attack_sound <aside>– /sound</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L178"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 178"></a></h3><p>Sounds when this bodypart is used in an umarmed attack</p><h3 id="var/unarmed_attack_verbs"><aside class="declaration">var </aside>unarmed_attack_verbs <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L168"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 168"></a></h3><p>the verbs used for an unarmed attack when using this limb, such as arm.unarmed_attack_verbs = list(&quot;punch&quot;)</p><h3 id="var/unarmed_attack_verbs_continuous"><aside class="declaration">var </aside>unarmed_attack_verbs_continuous <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L170"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 170"></a></h3><p>Continuous tense attack verbs for successful attacks</p><h3 id="var/unarmed_damage_high"><aside class="declaration">var </aside>unarmed_damage_high <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L183"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 183"></a></h3><p>Highest possible punch damage this bodypart can ive.</p><h3 id="var/unarmed_damage_low"><aside class="declaration">var </aside>unarmed_damage_low <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L181"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 181"></a></h3><p>Lowest possible punch damage this bodypart can give. If this is set to 0, unarmed attacks will always miss.</p><h3 id="var/unarmed_effectiveness"><aside class="declaration">var </aside>unarmed_effectiveness <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L185"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 185"></a></h3><p>Determines the accuracy bonus, armor penetration and knockdown probability.</p><h3 id="var/unarmed_grab_damage_bonus"><aside class="declaration">var </aside>unarmed_grab_damage_bonus <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L192"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 192"></a></h3><p>If this limb is used to grab (which is only arms right now), how much additional damage does it deal to the grabbed individual when they fail to escape the grab?</p><h3 id="var/unarmed_grab_escape_chance_bonus"><aside class="declaration">var </aside>unarmed_grab_escape_chance_bonus <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L195"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 195"></a></h3><p>If this limb is used to grab (which is only arms right now), how much more difficult is it to escape the grab, before accounting for grab state? Values above 0 is a malus, values below 0 is a bonus.
This is less powerful than adjusting grab state. If the arm has both an increased grab level and a chance reduction, it is very hard to escape a grab.</p><h3 id="var/unarmed_grab_state_bonus"><aside class="declaration">var </aside>unarmed_grab_state_bonus <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L190"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 190"></a></h3><p>If this limb is used to grab (which is only arms right now), how much more effective is the limb? Every integer above or below 0 is one effective grab level. Higher is a bonus, lower is a malus.
This is more powerful than adjusting grab escape chance. If the arm has both an increased grab level and a chance reduction, it is very hard to escape a grab.</p><h3 id="var/unarmed_pummeling_bonus"><aside class="declaration">var </aside>unarmed_pummeling_bonus <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L187"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 187"></a></h3><p>Multiplier applied to effectiveness and damage when attacking a grabbed target.</p><h3 id="var/unarmed_sharpness"><aside class="declaration">var </aside>unarmed_sharpness <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L197"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 197"></a></h3><p>The 'sharpness' of the limb. Could indicate claws, teeth or spines. Should default to NONE, or blunt.</p><h3 id="var/use_alternate_dismemberment_calc_even_if_mangleable"><aside class="declaration">var </aside>use_alternate_dismemberment_calc_even_if_mangleable <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L210"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 210"></a></h3><p>If true, we will use [hp_percent_to_dismemberable] even if we are dismemberable via wounds. Useful for things with extreme wound resistance.</p><h3 id="var/wound_damage_multiplier"><aside class="declaration">var </aside>wound_damage_multiplier <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L142"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 142"></a></h3><p>Our current stored wound damage multiplier</p><h3 id="var/wound_resistance"><aside class="declaration">var </aside>wound_resistance <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L145"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 145"></a></h3><p>This number is added to the effective wound armor on this body part (as long as it isn't managled externally or internally), higher numbers mean more defense, negative means easier to wound</p><h3 id="var/wounds"><aside class="declaration">var </aside>wounds <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L137"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 137"></a></h3><p>The wounds currently afflicting this body part</p><h2 id="proc">Proc Details</h2><h3 id="proc/_embed_object"><aside class="declaration">proc </aside>_embed_object<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/embed)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L1442"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 1442"></a></aside></h3><p>INTERNAL PROC, DO NOT USE
Properly sets us up to manage an inserted embeded object</p><h3 id="proc/_unembed_object"><aside class="declaration">proc </aside>_unembed_object<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/unembed)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L1452"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 1452"></a></aside></h3><p>INTERNAL PROC, DO NOT USE
Cleans up any attachment we have to the embedded object, removes it from our list</p><h3 id="proc/add_bodypart_overlay"><aside class="declaration">proc </aside>add_bodypart_overlay<aside>(/<a href="datum.html">datum</a>/<a href="datum/bodypart_overlay.html">bodypart_overlay</a>/overlay, update)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L1412"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 1412"></a></aside></h3><p>Add a bodypart overlay and call the appropriate update procs</p><h3 id="proc/add_bodypart_trait"><aside class="declaration">proc </aside>add_bodypart_trait<aside>(new_trait)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L1771"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 1771"></a></aside></h3><p>Add a trait to the bodypart traits list, then applies the trait if necessary</p><h3 id="proc/add_surgical_state"><aside class="declaration">proc </aside>add_surgical_state<aside>(new_states)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L1785"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 1785"></a></aside></h3><p>Add one or multiple surgical states to the bodypart</p><h3 id="proc/adjustBleedStacks"><aside class="declaration">proc </aside>adjustBleedStacks<aside>(adjust_by, minimum)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L1469"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 1469"></a></aside></h3><p>Modifies our generic bleedstacks. You must use this to change the variable
Takes the amount to adjust by, and the lowest amount we're allowed to have post adjust</p><h3 id="proc/apply_item"><aside class="declaration">proc </aside>apply_item<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/applying_item, category, override)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L1610"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 1610"></a></aside></h3><p>Inserts an item into the applied items list for this bodypart</p>
<p>Note: Forcemoves the item to the bodypart's contents when called!</p>
<p>Arguments:</p>
<ul>
<li>applying_item - The item to apply</li>
<li>category - The category of item being applied (e.g. LIMB_ITEM_GAUZE). If null, defaults to the REF of the applying_item</li>
<li>override - If TRUE, will force the application of the item even if an item of the same category is already applied</li>
</ul>
<p>Returns TRUE if the item was successfully applied
Returns FALSE if the item was not applied (e.g. an item of the same category is already applied and override is FALSE)</p><h3 id="proc/apply_ownership"><aside class="declaration">proc </aside>apply_ownership<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/new_owner)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L1012"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 1012"></a></aside></h3><p>Apply ownership of a limb to someone, giving the appropriate traits, updates and signals</p><h3 id="proc/attempt_feature_restyle"><aside class="declaration">proc </aside>attempt_feature_restyle<aside>(/<a href="atom.html">atom</a>/source, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/trimmer, /<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/original_target, body_zone, restyle_type, style_speed)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/organs/external/restyling.dm#L32"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/restyling.dm 32"></a></aside></h3><p>Asks the external organs inside the limb if they can restyle</p><h3 id="proc/can_attach_limb"><aside class="declaration">proc </aside>can_attach_limb<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/new_limb_owner, special)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/dismemberment.dm#L265"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/dismemberment.dm 265"></a></aside></h3><p>Checks if you can attach a limb, returns TRUE if you can.</p><h3 id="proc/can_be_grasped"><aside class="declaration">proc </aside>can_be_grasped<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/mob/living/carbon/carbon_defense.dm#L597"><img src="git.png" width="16" height="16" title="code/modules/mob/living/carbon/carbon_defense.dm 597"></a></aside></h3><p>If TRUE, the owner of this bodypart can try grabbing it to slow bleeding, as well as various other effects.</p><h3 id="proc/change_appearance"><aside class="declaration">proc </aside>change_appearance<aside>(icon, id, greyscale, dimorphic)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L1663"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 1663"></a></aside></h3><p>A multi-purpose setter for all things immediately important to the icon and iconstate of the limb.</p><h3 id="proc/check_for_frankenstein"><aside class="declaration">proc </aside>check_for_frankenstein<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/monster)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/dismemberment.dm#L256"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/dismemberment.dm 256"></a></aside></h3><p>Checks if a limb qualifies as a BODYPART_IMPLANTED</p><h3 id="proc/check_for_injuries"><aside class="declaration">proc </aside>check_for_injuries<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/examiner)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L359"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 359"></a></aside></h3><p>Called when a bodypart is checked for injuries.</p><h3 id="proc/check_series_wounding_mods"><aside class="declaration">proc </aside>check_series_wounding_mods<aside>() <span class="as"> as </span>/list <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/wounds.dm#L259"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/wounds.dm 259"></a></aside></h3><p>Should return an assoc list of (wound_series -&gt; penalty). Will be used in determining series-specific penalties for wounding.</p><h3 id="proc/check_wounding"><aside class="declaration">proc </aside>check_wounding<aside>(woundtype, damage, wound_bonus, exposed_wound_bonus, attack_direction, damage_source, wound_clothing) <span class="as"> as </span>/<a href="datum.html">datum</a>/<a href="datum/wound.html">wound</a> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/wounds.dm#L52"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/wounds.dm 52"></a></aside></h3><p>check_wounding() is where we handle rolling for, selecting, and applying a wound if we meet the criteria</p>
<p>We generate a &quot;score&quot; for how woundable the attack was based on the damage and other factors discussed in <a href="obj/item/bodypart.html#proc/check_woundings_mods" title="/obj/item/bodypart">/obj/item/bodypart/proc/check_woundings_mods</a>, then go down the list from most severe to least severe wounds in that category.
We can promote a wound from a lesser to a higher severity this way, but we give up if we have a wound of the given type and fail to roll a higher severity, so no sidegrades/downgrades</p>
<p>Arguments:</p>
<ul>
<li>woundtype- Either WOUND_BLUNT, WOUND_SLASH, WOUND_PIERCE, or WOUND_BURN based on the attack type.</li>
<li>damage- How much damage is tied to this attack, since wounding potential scales with damage in an attack (see: WOUND_DAMAGE_EXPONENT)</li>
<li>wound_bonus- The wound_bonus of an attack</li>
<li>exposed_wound_bonus- The exposed_wound_bonus of an attack</li>
<li>wound_clothing- If this should damage clothing.</li>
</ul><h3 id="proc/check_woundings_mods"><aside class="declaration">proc </aside>check_woundings_mods<aside>(wounding_type, injury_roll, damage, wound_bonus, exposed_wound_bonus, wound_clothing)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/wounds.dm#L221"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/wounds.dm 221"></a></aside></h3><p>check_wounding_mods() is where we handle the various modifiers of a wound roll</p>
<p>A short list of things we consider: any armor a human target may be wearing, and if they have no wound armor on the limb, and add the plain wound_bonus if there is any value to add
We also flick through all of the wounds we currently have on this limb and add their threshold penalties, so that having lots of bad wounds makes you more liable to get hurt worse
We add the inherent wound_resistance variable the bodypart has (heads and chests are slightly harder to wound) as an armor bonus unless the limb is mangled, and a small wound bonus if the limb is already disabled
Once we have everything, we then check if we have acquired any armor. If so, reduce our value by the percentage value of that armour. If not, we add our exposed_wound_bonus as a final bonus to our roll.</p>
<p>Arguments:</p>
<ul>
<li>It's the same ones on <a href="obj/item/bodypart.html#proc/receive_damage" title="/obj/item/bodypart">/obj/item/bodypart/proc/receive_damage</a> except injury_roll, which is fed to this proc.</li>
</ul><h3 id="proc/clear_ownership"><aside class="declaration">proc </aside>clear_ownership<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/old_owner)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L991"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 991"></a></aside></h3><p>Run all necessary procs to remove a limbs ownership and remove the appropriate signals and traits</p><h3 id="proc/dismember"><aside class="declaration">proc </aside>dismember<aside>(dam_type, silent, wounding_type)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/dismemberment.dm#L8"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/dismemberment.dm 8"></a></aside></h3><p>Remove target limb from its owner, with side effects.</p><h3 id="proc/dismemberable_by_total_damage"><aside class="declaration">proc </aside>dismemberable_by_total_damage<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L816"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 816"></a></aside></h3><p>Returns TRUE if our total percent damage is more or equal to our dismemberable percentage, but FALSE if a wound can cause us to be dismembered.</p><h3 id="proc/dismemberable_by_wound"><aside class="declaration">proc </aside>dismemberable_by_wound<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L800"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 800"></a></aside></h3><p>Returns if our current mangling status allows us to be dismembered. Requires both no exterior/mangled exterior and no interior/mangled interior.</p><h3 id="proc/drop_limb"><aside class="declaration">proc </aside>drop_limb<aside>(special, dismembered, move_to_floor)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/dismemberment.dm#L88"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/dismemberment.dm 88"></a></aside></h3><p>limb removal. The &quot;special&quot; argument is used for swapping a limb with a new one without the effects of losing a limb kicking in.</p><h3 id="proc/emp_effect"><aside class="declaration">proc </aside>emp_effect<aside>(severity, protection)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L1718"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 1718"></a></aside></h3><p>The actual effect of EMPs on the limb. Allows children to override it however they want</p><h3 id="proc/forced_removal"><aside class="declaration">proc </aside>forced_removal<aside>(special, dismembered, move_to_floor)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L333"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 333"></a></aside></h3><p>In-case someone, somehow only teleports someones limb</p><h3 id="proc/generate_husk_key"><aside class="declaration">proc </aside>generate_husk_key<aside>() <span class="as"> as </span>/list <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/mob/living/carbon/carbon_update_icons.dm#L543"><img src="git.png" width="16" height="16" title="code/modules/mob/living/carbon/carbon_update_icons.dm 543"></a></aside></h3><p>Generates a cache key specifically for husks</p><h3 id="proc/generate_icon_key"><aside class="declaration">proc </aside>generate_icon_key<aside>() <span class="as"> as </span>/list <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/mob/living/carbon/carbon_update_icons.dm#L521"><img src="git.png" width="16" height="16" title="code/modules/mob/living/carbon/carbon_update_icons.dm 521"></a></aside></h3><p>Called from update_body_parts() these procs handle the limb icon cache.
the limb icon cache adds an icon_render_key to a human mob, it represents:</p>
<ul>
<li>Gender, if applicable</li>
<li>The ID of the limb</li>
<li>Draw color, if applicable
These procs only store limbs as to increase the number of matching icon_render_keys
This cache exists because drawing 6/7 icons for humans constantly is quite a waste
See RemieRichards on irc.rizon.net #coderbus (RIP remie :sob:)</li>
</ul><h3 id="proc/get_bio_state_status"><aside class="declaration">proc </aside>get_bio_state_status<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L778"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 778"></a></aside></h3><p>Returns a bitflag using ANATOMY_EXTERIOR or ANATOMY_INTERIOR. Used to determine if we as a whole have a interior or exterior biostate, or both.</p><h3 id="proc/get_butcher_drops"><aside class="declaration">proc </aside>get_butcher_drops<aside>(force)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L317"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 317"></a></aside></h3><p>Returns an assoc list of items dropped when the limb is butchered
force - Force an update of drops ignoring the cache</p><h3 id="proc/get_external_description"><aside class="declaration">proc </aside>get_external_description<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L1745"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 1745"></a></aside></h3><p>Returns the generic description of our BIO_EXTERNAL feature(s), prioritizing certain ones over others. Returns error on failure.</p><h3 id="proc/get_internal_description"><aside class="declaration">proc </aside>get_internal_description<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L1756"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 1756"></a></aside></h3><p>Returns the generic description of our BIO_INTERNAL feature(s), prioritizing certain ones over others. Returns error on failure.</p><h3 id="proc/get_limb_icon"><aside class="declaration">proc </aside>get_limb_icon<aside>(dropped, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/update_on) <span class="as"> as </span>/list <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L1264"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 1264"></a></aside></h3><p>Generates an /image for the limb to be used as an overlay</p><h3 id="proc/get_mangled_state"><aside class="declaration">proc </aside>get_mangled_state<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/dismemberment.dm#L148"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/dismemberment.dm 148"></a></aside></h3><p>get_mangled_state() is relevant for flesh and bone bodyparts, and returns whether this bodypart has mangled skin, mangled bone, or both (or neither i guess)</p>
<p>Dismemberment for flesh and bone requires the victim to have the skin on their bodypart destroyed (either a critical cut or piercing wound), and at least a hairline fracture
(severe bone), at which point we can start rolling for dismembering. The attack must also deal at least 10 damage, and must be a brute attack of some kind (sorry for now, cakehat, maybe later)</p>
<p>Returns: BODYPART_MANGLED_NONE if we're fine, BODYPART_MANGLED_EXTERIOR if our skin is broken, BODYPART_MANGLED_INTERIOR if our bone is broken, or BODYPART_MANGLED_BOTH if both are broken and we're up for dismembering</p><h3 id="proc/get_splint_factor"><aside class="declaration">proc </aside>get_splint_factor<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L1635"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 1635"></a></aside></h3><p>Get how splinted this bodypart is based on applied items</p>
<p>Multiplier applied to maluses, so lower = better</p><h3 id="proc/get_surgery_examine"><aside class="declaration">proc </aside>get_surgery_examine<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L514"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 514"></a></aside></h3><p>Returns surgery examine information for this bodypart</p><h3 id="proc/get_surgery_self_check"><aside class="declaration">proc </aside>get_surgery_self_check<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L472"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 472"></a></aside></h3><p>Returns surgery self-check information for this bodypart</p><h3 id="proc/get_wound_threshold_of_wound_type"><aside class="declaration">proc </aside>get_wound_threshold_of_wound_type<aside>(wounding_type, severity, return_value_if_no_wound, wound_source)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/wounds.dm#L202"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/wounds.dm 202"></a></aside></h3><p>A simple proc that gets the best wound to fit the criteria laid out, then returns its wound threshold.</p>
<p>Args:</p>
<ul>
<li>wounding_type: The wounding_type, e.g. WOUND_BLUNT, WOUND_SLASH to force onto the mob. Can be a list of wounding_types.</li>
<li>severity: The severity that will be considered.</li>
<li>return_value_if_no_wound: If no wound is found, we will return this instead. (It is reccomended to use named args for this one, as its unclear what it is without)</li>
<li>wound_source: The theoretical source of the wound. Nullable.</li>
</ul>
<p>Returns:
return_value_if_no_wound if no wound is found - if one IS found, the wound threshold for that wound.</p><h3 id="proc/get_wound_type"><aside class="declaration">proc </aside>get_wound_type<aside>(checking_type)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/wounds.dm#L272"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/wounds.dm 272"></a></aside></h3><p>Get whatever wound of the given type is currently attached to this limb, if any</p><h3 id="proc/is_woundable"><aside class="declaration">proc </aside>is_woundable<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L861"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 861"></a></aside></h3><p>Check if a bodypart can be wounded</p><h3 id="proc/on_adding"><aside class="declaration">proc </aside>on_adding<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/new_owner)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L1046"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 1046"></a></aside></h3><p>Called on addition of a bodypart</p><h3 id="proc/on_attempt_feature_restyle"><aside class="declaration">proc </aside>on_attempt_feature_restyle<aside>(/<a href="atom.html">atom</a>/source, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/trimmer, /<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/original_target, body_zone, restyle_type, style_speed)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/organs/external/restyling.dm#L26"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/restyling.dm 26"></a></aside></h3><p>Invoke async so we don't break signals</p><h3 id="proc/on_attempt_feature_restyle_mob"><aside class="declaration">proc </aside>on_attempt_feature_restyle_mob<aside>(/<a href="atom.html">atom</a>/source, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/trimmer, /<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/original_target, body_zone, restyle_type, style_speed)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/organs/external/restyling.dm#L18"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/restyling.dm 18"></a></aside></h3><p>Someone used a restyling thingymajigga on our limb owner</p><h3 id="proc/on_owner_clean"><aside class="declaration">proc </aside>on_owner_clean<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/source, clean_types)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L1211"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 1211"></a></aside></h3><p>Called when limb's current owner gets washed</p><h3 id="proc/on_owner_nolimbdisable_trait_gain"><aside class="declaration">proc </aside>on_owner_nolimbdisable_trait_gain<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/source)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L1107"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 1107"></a></aside></h3><p>Called when TRAIT_NOLIMBDISABLE is added to the owner.</p><h3 id="proc/on_owner_nolimbdisable_trait_loss"><aside class="declaration">proc </aside>on_owner_nolimbdisable_trait_loss<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/source)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L1114"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 1114"></a></aside></h3><p>Called when TRAIT_NOLIMBDISABLE is removed from the owner.</p><h3 id="proc/on_paralysis_trait_gain"><aside class="declaration">proc </aside>on_paralysis_trait_gain<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a>/source)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L1091"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 1091"></a></aside></h3><p>Called when TRAIT_PARALYSIS is added to the limb.</p><h3 id="proc/on_paralysis_trait_loss"><aside class="declaration">proc </aside>on_paralysis_trait_loss<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a>/source)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L1099"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 1099"></a></aside></h3><p>Called when TRAIT_PARALYSIS is removed from the limb.</p><h3 id="proc/on_removal"><aside class="declaration">proc </aside>on_removal<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/old_owner)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L1053"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 1053"></a></aside></h3><p>Called on removal of a bodypart.</p><h3 id="proc/painless_wound_roll"><aside class="declaration">proc </aside>painless_wound_roll<aside>(wounding_type, wounding_dmg, wound_bonus, exposed_wound_bonus, sharpness, wound_clothing)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/wounds.dm#L2"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/wounds.dm 2"></a></aside></h3><p>Allows us to roll for and apply a wound without actually dealing damage. Used for aggregate wounding power with pellet clouds</p><h3 id="proc/receive_damage"><aside class="declaration">proc </aside>receive_damage<aside>(brute, burn, blocked, updating_health, forced, required_bodytype, wound_bonus, exposed_wound_bonus, sharpness, attack_direction, damage_source, wound_clothing)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L676"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 676"></a></aside></h3><p>#receive_damage</p>
<p>called when a bodypart is taking damage
Damage will not exceed max_damage using this proc, and negative damage cannot be used to heal
Returns TRUE if damage icon states changes
Args:
brute - The amount of brute damage dealt.
burn - The amount of burn damage dealt.
blocked - The amount of damage blocked by armor.
update_health - Whether to update the owner's health from receiving the hit.
required_bodytype - A bodytype flag requirement to get this damage (ex: BODYTYPE_ORGANIC)
wound_bonus - Additional bonus chance to get a wound.
exposed_wound_bonus - Additional bonus chance to get a wound if the bodypart is naked.
wound_clothing - If this should damage clothing.
sharpness - Flag on whether the attack is edged or pointy
attack_direction - The direction the bodypart is attacked from, used to send blood flying in the opposite direction.
damage_source - The source of damage, typically a weapon.</p><h3 id="proc/refresh_bleed_rate"><aside class="declaration">proc </aside>refresh_bleed_rate<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L1490"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 1490"></a></aside></h3><p>Refresh the cache of our rate of bleeding sans any modifiers
ANYTHING ADDED TO THIS PROC NEEDS TO CALL IT WHEN ITS EFFECT CHANGES</p><h3 id="proc/remove_bodypart_overlay"><aside class="declaration">proc </aside>remove_bodypart_overlay<aside>(/<a href="datum.html">datum</a>/<a href="datum/bodypart_overlay.html">bodypart_overlay</a>/overlay, update)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L1423"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 1423"></a></aside></h3><p>Remove a bodypart overlay and call the appropriate update procs</p><h3 id="proc/remove_bodypart_trait"><aside class="declaration">proc </aside>remove_bodypart_trait<aside>(old_trait)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L1778"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 1778"></a></aside></h3><p>Remove a trait from the bodypart traits list, then removes the trait if necessary</p><h3 id="proc/remove_surgical_state"><aside class="declaration">proc </aside>remove_surgical_state<aside>(removing_states)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L1793"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 1793"></a></aside></h3><p>Remove one or multiple surgical states from the bodypart</p><h3 id="proc/replace_limb"><aside class="declaration">proc </aside>replace_limb<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/limb_owner)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/dismemberment.dm#L244"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/dismemberment.dm 244"></a></aside></h3><p>Try to attach this bodypart to a mob, while replacing one if it exists, does nothing if it fails. Returns TRUE on success, FALSE on failure.</p><h3 id="proc/reset_appearance"><aside class="declaration">proc </aside>reset_appearance<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L1691"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 1691"></a></aside></h3><p>Resets the base appearance of a limb to it's default values.</p><h3 id="proc/seep_gauze"><aside class="declaration">proc </aside>seep_gauze<aside>(seep_amt)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L1652"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 1652"></a></aside></h3><p>Attempts to use up some of gauze applied
If we use up all of the gauze, it is deleted</p>
<p>Arguments:</p>
<ul>
<li>seep_amt - How much absorption capacity we're removing from our current bandages (think, how much blood or pus are we soaking up this tick?)</li>
</ul>
<p>Return TRUE if we successfully used up some gauze
Return FALSE if we had no gauze to use up</p><h3 id="proc/setBleedStacks"><aside class="declaration">proc </aside>setBleedStacks<aside>(set_to)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L1463"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 1463"></a></aside></h3><p>Sets our generic bleedstacks</p><h3 id="proc/set_brute_dam"><aside class="declaration">proc </aside>set_brute_dam<aside>(new_value)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L895"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 895"></a></aside></h3><p>Proc to hook behavior associated to the change of the brute_dam variable's value.</p><h3 id="proc/set_burn_dam"><aside class="declaration">proc </aside>set_burn_dam<aside>(new_value)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L904"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 904"></a></aside></h3><p>Proc to hook behavior associated to the change of the burn_dam variable's value.</p><h3 id="proc/set_can_be_disabled"><aside class="declaration">proc </aside>set_can_be_disabled<aside>(new_can_be_disabled)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L1067"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 1067"></a></aside></h3><p>Proc to change the value of the <code>can_be_disabled</code> variable and react to the event of its change.</p><h3 id="proc/set_disabled"><aside class="declaration">proc </aside>set_disabled<aside>(new_disabled, update_limbs)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L958"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 958"></a></aside></h3><p>Proc to change the value of the <code>disabled</code> variable and react to the event of its change.</p><h3 id="proc/set_initial_damage"><aside class="declaration">proc </aside>set_initial_damage<aside>(brute_damage, burn_damage)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L890"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 890"></a></aside></h3><p>Sets the damage of a bodypart when it is created.</p><h3 id="proc/try_dismember"><aside class="declaration">proc </aside>try_dismember<aside>(wounding_type, wounding_dmg, wound_bonus, exposed_wound_bonus)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/dismemberment.dm#L170"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/dismemberment.dm 170"></a></aside></h3><p>try_dismember() is used, once we've confirmed that a flesh and bone bodypart has both the skin and bone mangled, to actually roll for it</p>
<p>Mangling is described in the above proc, <a href="obj/item/bodypart.html#proc/get_mangled_state" title="/obj/item/bodypart">/obj/item/bodypart/proc/get_mangled_state</a>. This simply makes the roll for whether we actually dismember or not
using how damaged the limb already is, and how much damage this blow was for. If we have a critical bone wound instead of just a severe, we add +10% to the roll.
Lastly, we choose which kind of dismember we want based on the wounding type we hit with. Note we don't care about all the normal mods or armor for this</p>
<p>Arguments:</p>
<ul>
<li>wounding_type: Either WOUND_BLUNT, WOUND_SLASH, or WOUND_PIERCE, basically only matters for the dismember message</li>
<li>wounding_dmg: The damage of the strike that prompted this roll, higher damage = higher chance</li>
<li>wound_bonus: Not actually used right now, but maybe someday</li>
<li>exposed_wound_bonus: ditto above</li>
</ul><h3 id="proc/update_icon_dropped"><aside class="declaration">proc </aside>update_icon_dropped<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L1228"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 1228"></a></aside></h3><p>To update the bodypart's icon when not attached to a mob</p><h3 id="proc/update_owner"><aside class="declaration">proc </aside>update_owner<aside>(new_owner)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L973"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 973"></a></aside></h3><p>Proc to change the value of the <code>owner</code> variable and react to the event of its change.</p><h3 id="proc/update_surgical_state"><aside class="declaration">proc </aside>update_surgical_state<aside>(old_state, changed_states)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L1814"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 1814"></a></aside></h3><p>Called when surgical state changes so we can react to it</p><h3 id="proc/update_wound_theory"><aside class="declaration">proc </aside>update_wound_theory<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/_bodyparts.dm#L836"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/_bodyparts.dm 836"></a></aside></h3><p>Updates our &quot;can be theoretically dismembered by wounds&quot; variables by iterating through all wound static data.</p><h3 id="proc/update_wounds"><aside class="declaration">proc </aside>update_wounds<aside>(replaced)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/surgery/bodyparts/wounds.dm#L291"><img src="git.png" width="16" height="16" title="code/modules/surgery/bodyparts/wounds.dm 291"></a></aside></h3><p>update_wounds() is called whenever a wound is gained or lost on this bodypart, as well as if there's a change of some kind on a bone wound possibly changing disabled status</p>
<p>Covers tabulating the damage multipliers we have from wounds (burn specifically), as well as deleting our gauze wrapping if we don't have any wounds that can use bandaging</p>
<p>Arguments:</p>
<ul>
<li>replaced- If true, this is being called from the remove_wound() of a wound that's being replaced, so the bandage that already existed is still relevant, but the new wound hasn't been added yet</li>
</ul></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>