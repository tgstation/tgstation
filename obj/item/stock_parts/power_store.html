<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/item/stock_parts/power_store - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> â€” <a href="obj/item/stock_parts/power_store.html#var">Var Details</a> - <a href="obj/item/stock_parts/power_store.html#proc">Proc Details</a></header><main><h1>Power store abstract type <aside>/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/stock_parts.html">stock_parts</a>/<a href="obj/item/stock_parts/power_store.html">power_store</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/power/power_store.dm#L11"><img src="git.png" width="16" height="16" title="code/modules/power/power_store.dm 11"></a></h1><p>Abstract type for a stock part that holds power.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/item/stock_parts/power_store.html#var/cell_size_prefix">cell_size_prefix</a></th><td>The size icon overlay prefix.</td></tr><tr><th><a href="obj/item/stock_parts/power_store.html#var/charge">charge</a></th><td>Current charge in cell units</td></tr><tr><th><a href="obj/item/stock_parts/power_store.html#var/charge_light_type">charge_light_type</a></th><td>What charge lige sprite to use, null if no light</td></tr><tr><th><a href="obj/item/stock_parts/power_store.html#var/chargerate">chargerate</a></th><td>How much power is given per second in a recharger.</td></tr><tr><th><a href="obj/item/stock_parts/power_store.html#var/connector_type">connector_type</a></th><td>What connector sprite to use when in a cell charger, null if no connectors</td></tr><tr><th><a href="obj/item/stock_parts/power_store.html#var/corrupted">corrupted</a></th><td>If the power cell was damaged by an explosion, chance for it to become corrupted and function the same as rigged.</td></tr><tr><th><a href="obj/item/stock_parts/power_store.html#var/empty">empty</a></th><td>Does the cell start without any charge?</td></tr><tr><th><a href="obj/item/stock_parts/power_store.html#var/grown_battery">grown_battery</a></th><td>If it's a grown that acts as a battery, add a wire overlay to it.</td></tr><tr><th><a href="obj/item/stock_parts/power_store.html#var/maxcharge">maxcharge</a></th><td>Maximum charge in cell units</td></tr><tr><th><a href="obj/item/stock_parts/power_store.html#var/rating_base">rating_base</a></th><td>Standard cell charge used for rating</td></tr><tr><th><a href="obj/item/stock_parts/power_store.html#var/ratingdesc">ratingdesc</a></th><td>If true, the cell will state it's maximum charge in it's description</td></tr><tr><th><a href="obj/item/stock_parts/power_store.html#var/rigged">rigged</a></th><td>If the cell has been booby-trapped by injecting it with plasma. Chance on use() to explode.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/item/stock_parts/power_store.html#proc/change">change</a></th><td>Changes the charge of the cell.
Args:</td></tr><tr><th><a href="obj/item/stock_parts/power_store.html#proc/charge">charge</a></th><td>Returns the current charge of the cell.</td></tr><tr><th><a href="obj/item/stock_parts/power_store.html#proc/ethereal_drain">ethereal_drain</a></th><td>Handles letting an ethereal drain our charge into their stomach</td></tr><tr><th><a href="obj/item/stock_parts/power_store.html#proc/give">give</a></th><td>Recharge the cell.
Args:</td></tr><tr><th><a href="obj/item/stock_parts/power_store.html#proc/max_charge">max_charge</a></th><td>Returns the maximum charge of the cell.</td></tr><tr><th><a href="obj/item/stock_parts/power_store.html#proc/on_magic_charge">on_magic_charge</a></th><td>Signal proc for <a href="code/__DEFINES/dcs/signals/signals_spell.html#define/COMSIG_ITEM_MAGICALLY_CHARGED" title="COMSIG_ITEM_MAGICALLY_CHARGED">COMSIG_ITEM_MAGICALLY_CHARGED</a></td></tr><tr><th><a href="obj/item/stock_parts/power_store.html#proc/percent">percent</a></th><td>Returns the percentage of the cell's charge.</td></tr><tr><th><a href="obj/item/stock_parts/power_store.html#proc/use">use</a></th><td>Use power from the cell.
Args:</td></tr><tr><th><a href="obj/item/stock_parts/power_store.html#proc/used_charge">used_charge</a></th><td>Returns the amount of charge used on the cell.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/cell_size_prefix"><aside class="declaration">var </aside>cell_size_prefix <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/power/power_store.dm#L14"><img src="git.png" width="16" height="16" title="code/modules/power/power_store.dm 14"></a></h3><p>The size icon overlay prefix.</p><h3 id="var/charge"><aside class="declaration">var </aside>charge <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/power/power_store.dm#L16"><img src="git.png" width="16" height="16" title="code/modules/power/power_store.dm 16"></a></h3><p>Current charge in cell units</p><h3 id="var/charge_light_type"><aside class="declaration">var </aside>charge_light_type <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/power/power_store.dm#L32"><img src="git.png" width="16" height="16" title="code/modules/power/power_store.dm 32"></a></h3><p>What charge lige sprite to use, null if no light</p><h3 id="var/chargerate"><aside class="declaration">var </aside>chargerate <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/power/power_store.dm#L26"><img src="git.png" width="16" height="16" title="code/modules/power/power_store.dm 26"></a></h3><p>How much power is given per second in a recharger.</p><h3 id="var/connector_type"><aside class="declaration">var </aside>connector_type <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/power/power_store.dm#L34"><img src="git.png" width="16" height="16" title="code/modules/power/power_store.dm 34"></a></h3><p>What connector sprite to use when in a cell charger, null if no connectors</p><h3 id="var/corrupted"><aside class="declaration">var </aside>corrupted <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/power/power_store.dm#L24"><img src="git.png" width="16" height="16" title="code/modules/power/power_store.dm 24"></a></h3><p>If the power cell was damaged by an explosion, chance for it to become corrupted and function the same as rigged.</p><h3 id="var/empty"><aside class="declaration">var </aside>empty <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/power/power_store.dm#L36"><img src="git.png" width="16" height="16" title="code/modules/power/power_store.dm 36"></a></h3><p>Does the cell start without any charge?</p><h3 id="var/grown_battery"><aside class="declaration">var </aside>grown_battery <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/power/power_store.dm#L30"><img src="git.png" width="16" height="16" title="code/modules/power/power_store.dm 30"></a></h3><p>If it's a grown that acts as a battery, add a wire overlay to it.</p><h3 id="var/maxcharge"><aside class="declaration">var </aside>maxcharge <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/power/power_store.dm#L20"><img src="git.png" width="16" height="16" title="code/modules/power/power_store.dm 20"></a></h3><p>Maximum charge in cell units</p><h3 id="var/rating_base"><aside class="declaration">var </aside>rating_base <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/power/power_store.dm#L18"><img src="git.png" width="16" height="16" title="code/modules/power/power_store.dm 18"></a></h3><p>Standard cell charge used for rating</p><h3 id="var/ratingdesc"><aside class="declaration">var </aside>ratingdesc <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/power/power_store.dm#L28"><img src="git.png" width="16" height="16" title="code/modules/power/power_store.dm 28"></a></h3><p>If true, the cell will state it's maximum charge in it's description</p><h3 id="var/rigged"><aside class="declaration">var </aside>rigged <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/power/power_store.dm#L22"><img src="git.png" width="16" height="16" title="code/modules/power/power_store.dm 22"></a></h3><p>If the cell has been booby-trapped by injecting it with plasma. Chance on use() to explode.</p><h2 id="proc">Proc Details</h2><h3 id="proc/change"><aside class="declaration">proc </aside>change<aside>(amount)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/power/power_store.dm#L195"><img src="git.png" width="16" height="16" title="code/modules/power/power_store.dm 195"></a></aside></h3><p>Changes the charge of the cell.
Args:</p>
<ul>
<li>amount: The energy to give to the cell (can be negative).
Returns: The energy that was given to the cell (can be negative).</li>
</ul><h3 id="proc/charge"><aside class="declaration">proc </aside>charge<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/power/power_store.dm#L152"><img src="git.png" width="16" height="16" title="code/modules/power/power_store.dm 152"></a></aside></h3><p>Returns the current charge of the cell.</p><h3 id="proc/ethereal_drain"><aside class="declaration">proc </aside>ethereal_drain<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/user, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/organ.html">organ</a>/<a href="obj/item/organ/stomach.html">stomach</a>/<a href="obj/item/organ/stomach/ethereal.html">ethereal</a>/used_stomach)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/power/power_store.dm#L310"><img src="git.png" width="16" height="16" title="code/modules/power/power_store.dm 310"></a></aside></h3><p>Handles letting an ethereal drain our charge into their stomach</p><h3 id="proc/give"><aside class="declaration">proc </aside>give<aside>(amount)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/power/power_store.dm#L182"><img src="git.png" width="16" height="16" title="code/modules/power/power_store.dm 182"></a></aside></h3><p>Recharge the cell.
Args:</p>
<ul>
<li>amount: The amount of energy to give to the cell in joules.
Returns: The power given to the cell in joules.</li>
</ul><h3 id="proc/max_charge"><aside class="declaration">proc </aside>max_charge<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/power/power_store.dm#L146"><img src="git.png" width="16" height="16" title="code/modules/power/power_store.dm 146"></a></aside></h3><p>Returns the maximum charge of the cell.</p><h3 id="proc/on_magic_charge"><aside class="declaration">proc </aside>on_magic_charge<aside>(/<a href="datum.html">datum</a>/source, /<a href="datum.html">datum</a>/<a href="datum/action.html">action</a>/<a href="datum/action/cooldown.html">cooldown</a>/<a href="datum/action/cooldown/spell.html">spell</a>/charge/spell, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/caster)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/power/power_store.dm#L81"><img src="git.png" width="16" height="16" title="code/modules/power/power_store.dm 81"></a></aside></h3><p>Signal proc for <a href="code/__DEFINES/dcs/signals/signals_spell.html#define/COMSIG_ITEM_MAGICALLY_CHARGED" title="COMSIG_ITEM_MAGICALLY_CHARGED">COMSIG_ITEM_MAGICALLY_CHARGED</a></p>
<p>If we, or the item we're located in, is subject to the charge spell, gain some charge back</p><h3 id="proc/percent"><aside class="declaration">proc </aside>percent<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/power/power_store.dm#L140"><img src="git.png" width="16" height="16" title="code/modules/power/power_store.dm 140"></a></aside></h3><p>Returns the percentage of the cell's charge.</p><h3 id="proc/use"><aside class="parent"><a title="/obj/item" href="obj/item.html#proc/use">â†‘</a></aside>use<aside>(used, force)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/power/power_store.dm#L166"><img src="git.png" width="16" height="16" title="code/modules/power/power_store.dm 166"></a></aside></h3><p>Use power from the cell.
Args:</p>
<ul>
<li>used: Amount of power in joules to use.</li>
<li>force: If true, uses the remaining power from the cell if there isn't enough power to supply the demand.
Returns: The power used from the cell in joules.</li>
</ul><h3 id="proc/used_charge"><aside class="declaration">proc </aside>used_charge<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/power/power_store.dm#L158"><img src="git.png" width="16" height="16" title="code/modules/power/power_store.dm 158"></a></aside></h3><p>Returns the amount of charge used on the cell.</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/c41b333c9bc46606d2c5d5b517f7836d5953fbfd">c41b333</a> (master) â€” <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>