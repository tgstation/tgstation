<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/machinery/firealarm - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/machinery/firealarm.html#var">Var Details</a> - <a href="obj/machinery/firealarm.html#proc">Proc Details</a></header><main><h1>firealarm <aside>/<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/firealarm.html">firealarm</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/firealarm.dm#L13"><img src="git.png" width="16" height="16" title="code/game/machinery/firealarm.dm 13"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/machinery/firealarm.html#var/buildstage">buildstage</a></th><td>Buildstate for contruction steps</td></tr><tr><th><a href="obj/machinery/firealarm.html#var/can_reset">can_reset</a></th><td>If FALSE, the fire alarm can never be reset().</td></tr><tr><th><a href="obj/machinery/firealarm.html#var/can_toggle_detection">can_toggle_detection</a></th><td>If FALSE, a multitool or borg can't disable the sensor.</td></tr><tr><th><a href="obj/machinery/firealarm.html#var/can_trigger">can_trigger</a></th><td>If FALSE, the fire alarm can never be alarm()ed.</td></tr><tr><th><a href="obj/machinery/firealarm.html#var/my_area">my_area</a></th><td>Our home area, set in Init. Due to loading step order, this seems to be null very early in the server setup process, which is why some procs use <code>my_area?</code> for var or list checks.</td></tr><tr><th><a href="obj/machinery/firealarm.html#var/soundloop">soundloop</a></th><td>looping sound datum for our fire alarm siren.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/machinery/firealarm.html#proc/alarm">alarm</a></th><td>Sounds the fire alarm and closes all firelocks in the area. Also tells the area to color the lights red.</td></tr><tr><th><a href="obj/machinery/firealarm.html#proc/check_security_level">check_security_level</a></th><td>Signal handler for checking if we should update fire alarm appearance accordingly to a newly set security level</td></tr><tr><th><a href="obj/machinery/firealarm.html#proc/disable_fire_detect">disable_fire_detect</a></th><td>Stops the area from automatically activating firelocks</td></tr><tr><th><a href="obj/machinery/firealarm.html#proc/enable_fire_detect">enable_fire_detect</a></th><td>Enables the area to automatically activate firelocks</td></tr><tr><th><a href="obj/machinery/firealarm.html#proc/reset">reset</a></th><td>Resets all firelocks in the area. Also tells the area to disable alarm lighting, if it was enabled.</td></tr><tr><th><a href="obj/machinery/firealarm.html#proc/set_status">set_status</a></th><td>Sets the sound state, and then calls update_icon()</td></tr><tr><th><a href="obj/machinery/firealarm.html#proc/toggle_fire_detect">toggle_fire_detect</a></th><td>Toggles automatic fire detection on or off</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/buildstage"><aside class="declaration">var </aside>buildstage <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/firealarm.dm#L34"><img src="git.png" width="16" height="16" title="code/game/machinery/firealarm.dm 34"></a></h3><p>Buildstate for contruction steps</p><h3 id="var/can_reset"><aside class="declaration">var </aside>can_reset <aside>– /final</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/firealarm.dm#L42"><img src="git.png" width="16" height="16" title="code/game/machinery/firealarm.dm 42"></a></h3><p>If FALSE, the fire alarm can never be reset().</p><h3 id="var/can_toggle_detection"><aside class="declaration">var </aside>can_toggle_detection <aside>– /final</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/firealarm.dm#L46"><img src="git.png" width="16" height="16" title="code/game/machinery/firealarm.dm 46"></a></h3><p>If FALSE, a multitool or borg can't disable the sensor.</p><h3 id="var/can_trigger"><aside class="declaration">var </aside>can_trigger <aside>– /final</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/firealarm.dm#L44"><img src="git.png" width="16" height="16" title="code/game/machinery/firealarm.dm 44"></a></h3><p>If FALSE, the fire alarm can never be alarm()ed.</p><h3 id="var/my_area"><aside class="declaration">var </aside>my_area <aside>– /<a href="area.html">area</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/firealarm.dm#L36"><img src="git.png" width="16" height="16" title="code/game/machinery/firealarm.dm 36"></a></h3><p>Our home area, set in Init. Due to loading step order, this seems to be null very early in the server setup process, which is why some procs use <code>my_area?</code> for var or list checks.</p><h3 id="var/soundloop"><aside class="declaration">var </aside>soundloop <aside>– /<a href="datum.html">datum</a>/<a href="datum/looping_sound.html">looping_sound</a>/firealarm</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/firealarm.dm#L38"><img src="git.png" width="16" height="16" title="code/game/machinery/firealarm.dm 38"></a></h3><p>looping sound datum for our fire alarm siren.</p><h2 id="proc">Proc Details</h2><h3 id="proc/alarm"><aside class="declaration">proc </aside>alarm<aside>(/<a href="mob.html">mob</a>/user, silent)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/firealarm.dm#L244"><img src="git.png" width="16" height="16" title="code/game/machinery/firealarm.dm 244"></a></aside></h3><p>Sounds the fire alarm and closes all firelocks in the area. Also tells the area to color the lights red.</p>
<p>Arguments:</p>
<ul>
<li>mob/user is the user that pulled the alarm.</li>
</ul><h3 id="proc/check_security_level"><aside class="declaration">proc </aside>check_security_level<aside>(/<a href="datum.html">datum</a>/source, new_level)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/firealarm.dm#L232"><img src="git.png" width="16" height="16" title="code/game/machinery/firealarm.dm 232"></a></aside></h3><p>Signal handler for checking if we should update fire alarm appearance accordingly to a newly set security level</p>
<p>Arguments:</p>
<ul>
<li>source The datum source of the signal</li>
<li>new_level The new security level that is in effect</li>
</ul><h3 id="proc/disable_fire_detect"><aside class="declaration">proc </aside>disable_fire_detect<aside>(/<a href="mob.html">mob</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/firealarm.dm#L596"><img src="git.png" width="16" height="16" title="code/game/machinery/firealarm.dm 596"></a></aside></h3><p>Stops the area from automatically activating firelocks</p><h3 id="proc/enable_fire_detect"><aside class="declaration">proc </aside>enable_fire_detect<aside>(/<a href="mob.html">mob</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/firealarm.dm#L608"><img src="git.png" width="16" height="16" title="code/game/machinery/firealarm.dm 608"></a></aside></h3><p>Enables the area to automatically activate firelocks</p><h3 id="proc/reset"><aside class="declaration">proc </aside>reset<aside>(/<a href="mob.html">mob</a>/user, silent)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/firealarm.dm#L267"><img src="git.png" width="16" height="16" title="code/game/machinery/firealarm.dm 267"></a></aside></h3><p>Resets all firelocks in the area. Also tells the area to disable alarm lighting, if it was enabled.</p>
<p>Arguments:</p>
<ul>
<li>mob/user is the user that reset the alarm.</li>
</ul><h3 id="proc/set_status"><aside class="declaration">proc </aside>set_status<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/firealarm.dm#L140"><img src="git.png" width="16" height="16" title="code/game/machinery/firealarm.dm 140"></a></aside></h3><p>Sets the sound state, and then calls update_icon()</p>
<p>This proc exists to be called by areas and firelocks
so that it may update its icon and start or stop playing
the alarm sound based on the state of an area variable.</p><h3 id="proc/toggle_fire_detect"><aside class="declaration">proc </aside>toggle_fire_detect<aside>(/<a href="mob.html">mob</a>/user, silent)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/firealarm.dm#L583"><img src="git.png" width="16" height="16" title="code/game/machinery/firealarm.dm 583"></a></aside></h3><p>Toggles automatic fire detection on or off</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/c41b333c9bc46606d2c5d5b517f7836d5953fbfd">c41b333</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>