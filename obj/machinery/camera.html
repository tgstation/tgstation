<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/machinery/camera - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/machinery/camera.html#var">Var Details</a> - <a href="obj/machinery/camera.html#proc">Proc Details</a></header><main><h1>camera <aside>/<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/camera.html">camera</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/camera/camera.dm#L26"><img src="git.png" width="16" height="16" title="code/game/machinery/camera/camera.dm 26"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/machinery/camera.html#var/alarm_manager">alarm_manager</a></th><td>Represents a signal source of camera alarms about movement or camera tampering</td></tr><tr><th><a href="obj/machinery/camera.html#var/alarm_on">alarm_on</a></th><td>Boolean on whether the camera's alarm is triggered.</td></tr><tr><th><a href="obj/machinery/camera.html#var/c_tag">c_tag</a></th><td>The tag the camera has, which is essentially its name to security camera consoles.</td></tr><tr><th><a href="obj/machinery/camera.html#var/camera_construction_state">camera_construction_state</a></th><td>The current state of the camera's construction, all mapped in ones start off already built.</td></tr><tr><th><a href="obj/machinery/camera.html#var/camera_enabled">camera_enabled</a></th><td>Boolean on whether the camera is activated, so can be seen on camera consoles or will just be static.</td></tr><tr><th><a href="obj/machinery/camera.html#var/camera_upgrade_bitflags">camera_upgrade_bitflags</a></th><td>Bitflag of upgrades this camera has: (CAMERA_UPGRADE_XRAY | CAMERA_UPGRADE_EMP_PROOF | CAMERA_UPGRADE_MOTION)</td></tr><tr><th><a href="obj/machinery/camera.html#var/emp_module">emp_module</a></th><td>A sheet of plasma stored inside of the camera, giving it EMP protection.</td></tr><tr><th><a href="obj/machinery/camera.html#var/emped">emped</a></th><td>How many times this camera has been EMP'ed consecutively, will reset back to 0 when fixed.</td></tr><tr><th><a href="obj/machinery/camera.html#var/in_use_lights">in_use_lights</a></th><td>Number of AIs watching this camera with lights on, used for icons.</td></tr><tr><th><a href="obj/machinery/camera.html#var/internal_light">internal_light</a></th><td>Boolean on whether the AI can even turn on this camera's light- borg cameras dont have one, for example.</td></tr><tr><th><a href="obj/machinery/camera.html#var/last_shown_paper">last_shown_paper</a></th><td>A copy of the last paper object that was shown to this camera.</td></tr><tr><th><a href="obj/machinery/camera.html#var/malf_emp_firmware_active">malf_emp_firmware_active</a></th><td>used to keep from revealing malf AI upgrades for user facing isEmp() checks after they use Upgrade Camera Network ability
will be false if the camera is upgraded with the proper parts.</td></tr><tr><th><a href="obj/machinery/camera.html#var/malf_emp_firmware_present">malf_emp_firmware_present</a></th><td>so the malf upgrade is restored when the normal upgrade part is removed.</td></tr><tr><th><a href="obj/machinery/camera.html#var/malf_xray_firmware_active">malf_xray_firmware_active</a></th><td>used to keep from revealing malf AI upgrades for user facing isXRay() checks when they use Upgrade Camera Network ability
will be false if the camera is upgraded with the proper parts.</td></tr><tr><th><a href="obj/machinery/camera.html#var/malf_xray_firmware_present">malf_xray_firmware_present</a></th><td>so the malf upgrade is restored when the normal upgrade part is removed.</td></tr><tr><th><a href="obj/machinery/camera.html#var/myarea">myarea</a></th><td>The area this camera is built in, which we will add/remove ourselves to the list of cameras in that area from.</td></tr><tr><th><a href="obj/machinery/camera.html#var/network">network</a></th><td>List of all networks that can see this camera through the security console.</td></tr><tr><th><a href="obj/machinery/camera.html#var/proximity_monitor">proximity_monitor</a></th><td>Proximity monitor associated with this atom, for motion sensitive cameras.</td></tr><tr><th><a href="obj/machinery/camera.html#var/short_range">short_range</a></th><td>The short range the camera can see, if tampered with to be short-sighted.</td></tr><tr><th><a href="obj/machinery/camera.html#var/start_active">start_active</a></th><td>Boolean for special cameras to bypass the random chance of being broken on roundstart.</td></tr><tr><th><a href="obj/machinery/camera.html#var/view_range">view_range</a></th><td>The max range (and default range) the camera can see.</td></tr><tr><th><a href="obj/machinery/camera.html#var/xray_module">xray_module</a></th><td>An analyzer in the camera being used for x-ray upgrade.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/machinery/camera.html#proc/can_see">can_see</a></th><td>Returns an alist of turfs in this camera's view. This includes turfs that are &quot;obscured by darkness&quot; from the camera's POV.
Format is &quot;alist<a href="turf.html" title="/turf">turf</a> = null&quot;, if you need to check individual objects use &quot;length(can_see &amp; list(turf))&quot;. Only &quot;&amp;&quot; and &quot;in&quot; work for checking contents, but &quot;in&quot; is much slower.
Always have the return value of can_see as the left-hand operand, otherwise it uses list checks instead of alist checks and your CPU time gets thrown in a blender.</td></tr><tr><th><a href="obj/machinery/camera.html#proc/drop_upgrade">drop_upgrade</a></th><td>Drops a specific upgrade and nulls it where necessary.</td></tr><tr><th><a href="obj/machinery/camera.html#proc/on_start_watching">on_start_watching</a></th><td>Called when the camera starts being watched on a camera console.</td></tr><tr><th><a href="obj/machinery/camera.html#proc/on_stop_watching">on_stop_watching</a></th><td>Called when the camera stops being watched on a camera console.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/alarm_manager"><aside class="declaration">var </aside>alarm_manager <aside>– /<a href="datum.html">datum</a>/<a href="datum/alarm_handler.html">alarm_handler</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/camera/camera.dm#L88"><img src="git.png" width="16" height="16" title="code/game/machinery/camera/camera.dm 88"></a></h3><p>Represents a signal source of camera alarms about movement or camera tampering</p><h3 id="var/alarm_on"><aside class="declaration">var </aside>alarm_on <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/camera/camera.dm#L79"><img src="git.png" width="16" height="16" title="code/game/machinery/camera/camera.dm 79"></a></h3><p>Boolean on whether the camera's alarm is triggered.</p><h3 id="var/c_tag"><aside class="declaration">var </aside>c_tag <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/camera/camera.dm#L65"><img src="git.png" width="16" height="16" title="code/game/machinery/camera/camera.dm 65"></a></h3><p>The tag the camera has, which is essentially its name to security camera consoles.</p><h3 id="var/camera_construction_state"><aside class="declaration">var </aside>camera_construction_state <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/camera/camera.dm#L57"><img src="git.png" width="16" height="16" title="code/game/machinery/camera/camera.dm 57"></a></h3><p>The current state of the camera's construction, all mapped in ones start off already built.</p><h3 id="var/camera_enabled"><aside class="declaration">var </aside>camera_enabled <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/camera/camera.dm#L67"><img src="git.png" width="16" height="16" title="code/game/machinery/camera/camera.dm 67"></a></h3><p>Boolean on whether the camera is activated, so can be seen on camera consoles or will just be static.</p><h3 id="var/camera_upgrade_bitflags"><aside class="declaration">var </aside>camera_upgrade_bitflags <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/camera/camera.dm#L60"><img src="git.png" width="16" height="16" title="code/game/machinery/camera/camera.dm 60"></a></h3><p>Bitflag of upgrades this camera has: (CAMERA_UPGRADE_XRAY | CAMERA_UPGRADE_EMP_PROOF | CAMERA_UPGRADE_MOTION)</p><h3 id="var/emp_module"><aside class="declaration">var </aside>emp_module <aside>– /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/stack.html">stack</a>/<a href="obj/item/stack/sheet.html">sheet</a>/mineral/plasma</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/camera/camera.dm#L49"><img src="git.png" width="16" height="16" title="code/game/machinery/camera/camera.dm 49"></a></h3><p>A sheet of plasma stored inside of the camera, giving it EMP protection.</p><h3 id="var/emped"><aside class="declaration">var </aside>emped <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/camera/camera.dm#L81"><img src="git.png" width="16" height="16" title="code/game/machinery/camera/camera.dm 81"></a></h3><p>How many times this camera has been EMP'ed consecutively, will reset back to 0 when fixed.</p><h3 id="var/in_use_lights"><aside class="declaration">var </aside>in_use_lights <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/camera/camera.dm#L85"><img src="git.png" width="16" height="16" title="code/game/machinery/camera/camera.dm 85"></a></h3><p>Number of AIs watching this camera with lights on, used for icons.</p><h3 id="var/internal_light"><aside class="declaration">var </aside>internal_light <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/camera/camera.dm#L83"><img src="git.png" width="16" height="16" title="code/game/machinery/camera/camera.dm 83"></a></h3><p>Boolean on whether the AI can even turn on this camera's light- borg cameras dont have one, for example.</p><h3 id="var/last_shown_paper"><aside class="declaration">var </aside>last_shown_paper <aside>– /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/paper.html">paper</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/camera/camera.dm#L93"><img src="git.png" width="16" height="16" title="code/game/machinery/camera/camera.dm 93"></a></h3><p>A copy of the last paper object that was shown to this camera.</p><h3 id="var/malf_emp_firmware_active"><aside class="declaration">var </aside>malf_emp_firmware_active <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/camera/camera.dm#L52"><img src="git.png" width="16" height="16" title="code/game/machinery/camera/camera.dm 52"></a></h3><p>used to keep from revealing malf AI upgrades for user facing isEmp() checks after they use Upgrade Camera Network ability
will be false if the camera is upgraded with the proper parts.</p><h3 id="var/malf_emp_firmware_present"><aside class="declaration">var </aside>malf_emp_firmware_present <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/camera/camera.dm#L54"><img src="git.png" width="16" height="16" title="code/game/machinery/camera/camera.dm 54"></a></h3><p>so the malf upgrade is restored when the normal upgrade part is removed.</p><h3 id="var/malf_xray_firmware_active"><aside class="declaration">var </aside>malf_xray_firmware_active <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/camera/camera.dm#L45"><img src="git.png" width="16" height="16" title="code/game/machinery/camera/camera.dm 45"></a></h3><p>used to keep from revealing malf AI upgrades for user facing isXRay() checks when they use Upgrade Camera Network ability
will be false if the camera is upgraded with the proper parts.</p><h3 id="var/malf_xray_firmware_present"><aside class="declaration">var </aside>malf_xray_firmware_present <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/camera/camera.dm#L47"><img src="git.png" width="16" height="16" title="code/game/machinery/camera/camera.dm 47"></a></h3><p>so the malf upgrade is restored when the normal upgrade part is removed.</p><h3 id="var/myarea"><aside class="declaration">var </aside>myarea <aside>– /<a href="area.html">area</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/camera/camera.dm#L71"><img src="git.png" width="16" height="16" title="code/game/machinery/camera/camera.dm 71"></a></h3><p>The area this camera is built in, which we will add/remove ourselves to the list of cameras in that area from.</p><h3 id="var/network"><aside class="declaration">var </aside>network <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/camera/camera.dm#L63"><img src="git.png" width="16" height="16" title="code/game/machinery/camera/camera.dm 63"></a></h3><p>List of all networks that can see this camera through the security console.</p><h3 id="var/proximity_monitor"><aside class="declaration">var </aside>proximity_monitor <aside>– /<a href="datum.html">datum</a>/<a href="datum/proximity_monitor.html">proximity_monitor</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/camera/camera.dm#L90"><img src="git.png" width="16" height="16" title="code/game/machinery/camera/camera.dm 90"></a></h3><p>Proximity monitor associated with this atom, for motion sensitive cameras.</p><h3 id="var/short_range"><aside class="declaration">var </aside>short_range <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/camera/camera.dm#L76"><img src="git.png" width="16" height="16" title="code/game/machinery/camera/camera.dm 76"></a></h3><p>The short range the camera can see, if tampered with to be short-sighted.</p><h3 id="var/start_active"><aside class="declaration">var </aside>start_active <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/camera/camera.dm#L69"><img src="git.png" width="16" height="16" title="code/game/machinery/camera/camera.dm 69"></a></h3><p>Boolean for special cameras to bypass the random chance of being broken on roundstart.</p><h3 id="var/view_range"><aside class="declaration">var </aside>view_range <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/camera/camera.dm#L74"><img src="git.png" width="16" height="16" title="code/game/machinery/camera/camera.dm 74"></a></h3><p>The max range (and default range) the camera can see.</p><h3 id="var/xray_module"><aside class="declaration">var </aside>xray_module <aside>– /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/analyzer.html">analyzer</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/camera/camera.dm#L42"><img src="git.png" width="16" height="16" title="code/game/machinery/camera/camera.dm 42"></a></h3><p>An analyzer in the camera being used for x-ray upgrade.</p><h2 id="proc">Proc Details</h2><h3 id="proc/can_see"><aside class="declaration">proc </aside>can_see<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/camera/camera.dm#L414"><img src="git.png" width="16" height="16" title="code/game/machinery/camera/camera.dm 414"></a></aside></h3><p>Returns an alist of turfs in this camera's view. This includes turfs that are &quot;obscured by darkness&quot; from the camera's POV.
Format is &quot;alist<a href="turf.html" title="/turf">turf</a> = null&quot;, if you need to check individual objects use &quot;length(can_see &amp; list(turf))&quot;. Only &quot;&amp;&quot; and &quot;in&quot; work for checking contents, but &quot;in&quot; is much slower.
Always have the return value of can_see as the left-hand operand, otherwise it uses list checks instead of alist checks and your CPU time gets thrown in a blender.</p><h3 id="proc/drop_upgrade"><aside class="declaration">proc </aside>drop_upgrade<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/upgrade_dropped)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/camera/camera.dm#L295"><img src="git.png" width="16" height="16" title="code/game/machinery/camera/camera.dm 295"></a></aside></h3><p>Drops a specific upgrade and nulls it where necessary.</p><h3 id="proc/on_start_watching"><aside class="declaration">proc </aside>on_start_watching<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/camera/camera.dm#L469"><img src="git.png" width="16" height="16" title="code/game/machinery/camera/camera.dm 469"></a></aside></h3><p>Called when the camera starts being watched on a camera console.</p><h3 id="proc/on_stop_watching"><aside class="declaration">proc </aside>on_stop_watching<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/camera/camera.dm#L473"><img src="git.png" width="16" height="16" title="code/game/machinery/camera/camera.dm 473"></a></aside></h3><p>Called when the camera stops being watched on a camera console.</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>