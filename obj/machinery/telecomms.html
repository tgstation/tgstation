<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/machinery/telecomms - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/machinery/telecomms.html#var">Var Details</a> - <a href="obj/machinery/telecomms.html#proc">Proc Details</a></header><main><h1>telecomms <aside>/<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/telecomms.html">telecomms</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/telecomms/machine_interactions.dm#L4"><img src="git.png" width="16" height="16" title="code/game/machinery/telecomms/machine_interactions.dm 4"></a></h1><p>The basic telecomms machinery type, implementing all of the logic that's
shared between all of the telecomms machinery.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/machinery/telecomms.html#var/autolinkers">autolinkers</a></th><td>list of text/number values to link with</td></tr><tr><th><a href="obj/machinery/telecomms.html#var/banned_frequencies">banned_frequencies</a></th><td>Illegal frequencies that can't be listened to by telecommunication servers.</td></tr><tr><th><a href="obj/machinery/telecomms.html#var/hide">hide</a></th><td>Is it a hidden machine?</td></tr><tr><th><a href="obj/machinery/telecomms.html#var/id">id</a></th><td>identification string</td></tr><tr><th><a href="obj/machinery/telecomms.html#var/links">links</a></th><td>list of machines this machine is linked to</td></tr><tr><th><a href="obj/machinery/telecomms.html#var/links_by_telecomms_type">links_by_telecomms_type</a></th><td>associative lazylist list of the telecomms_type of linked telecomms machines and a list of said machines.
eg list(telecomms_type1 = list(everything linked to us with that type), telecomms_type2 = list(everything linked to us with THAT type)...)</td></tr><tr><th><a href="obj/machinery/telecomms.html#var/long_range_link">long_range_link</a></th><td>Can you link it across Z levels or on the otherside of the map? (Relay &amp; Hub)</td></tr><tr><th><a href="obj/machinery/telecomms.html#var/netspeed">netspeed</a></th><td>how much traffic to lose per second (50 gigabytes/second * netspeed)</td></tr><tr><th><a href="obj/machinery/telecomms.html#var/network">network</a></th><td>the network of the machinery</td></tr><tr><th><a href="obj/machinery/telecomms.html#var/on">on</a></th><td>Is it actually active or not?</td></tr><tr><th><a href="obj/machinery/telecomms.html#var/soundloop">soundloop</a></th><td>Looping sounds for any servers</td></tr><tr><th><a href="obj/machinery/telecomms.html#var/telecomms_type">telecomms_type</a></th><td>the relevant type path of this telecomms machine eg /obj/machinery/telecomms/server but not server/preset. used for links_by_telecomms_type</td></tr><tr><th><a href="obj/machinery/telecomms.html#var/tempfreq">tempfreq</a></th><td>The current temporary frequency used to add new filtered frequencies
options.</td></tr><tr><th><a href="obj/machinery/telecomms.html#var/toggled">toggled</a></th><td>Is it toggled on, so is it /meant/ to be active?</td></tr><tr><th><a href="obj/machinery/telecomms.html#var/traffic">traffic</a></th><td>value increases as traffic increases</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/machinery/telecomms.html#proc/add_act">add_act</a></th><td>Wrapper for adding another time of action for <code>ui_act()</code>, rather than
having you override <code>ui_act</code> yourself.</td></tr><tr><th><a href="obj/machinery/telecomms.html#proc/add_new_link">add_new_link</a></th><td>Adds new_connection to src's links list AND vice versa. Also updates <code>links_by_telecomms_type</code>.</td></tr><tr><th><a href="obj/machinery/telecomms.html#proc/add_option">add_option</a></th><td>Wrapper for adding additional options to a machine's interface.</td></tr><tr><th><a href="obj/machinery/telecomms.html#proc/de_emp">de_emp</a></th><td>Handles the machine stopping being affected by an EMP.</td></tr><tr><th><a href="obj/machinery/telecomms.html#proc/get_channels">get_channels</a></th><td>Returns information (name and color) about all channels in machine's network</td></tr><tr><th><a href="obj/machinery/telecomms.html#proc/get_multitool">get_multitool</a></th><td>Returns a multitool from a user depending on their mobtype.</td></tr><tr><th><a href="obj/machinery/telecomms.html#proc/is_freq_listening">is_freq_listening</a></th><td>Checks whether the machinery is listening to that signal.</td></tr><tr><th><a href="obj/machinery/telecomms.html#proc/receive_information">receive_information</a></th><td>Receive information from linked machinery</td></tr><tr><th><a href="obj/machinery/telecomms.html#proc/relay_direct_information">relay_direct_information</a></th><td>Sends a signal directly to a machine.</td></tr><tr><th><a href="obj/machinery/telecomms.html#proc/relay_information">relay_information</a></th><td>relay signal to all linked machinery that are of type [filter]. If signal has been sent [amount] times, stop sending</td></tr><tr><th><a href="obj/machinery/telecomms.html#proc/remove_link">remove_link</a></th><td>Removes old_connection from src's links list AND vice versa. Also updates <code>links_by_telecomms_type</code>.</td></tr><tr><th><a href="obj/machinery/telecomms.html#proc/update_power">update_power</a></th><td>Handles updating the power state of the machine, modifying its <code>on</code>
variable based on if it's <code>toggled</code> and if it's either broken, has no power
or it's EMP'd. Handles updating appearance based on that power change.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/autolinkers"><aside class="declaration">var </aside>autolinkers <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/telecomms/telecomunications.dm#L24"><img src="git.png" width="16" height="16" title="code/game/machinery/telecomms/telecomunications.dm 24"></a></h3><p>list of text/number values to link with</p><h3 id="var/banned_frequencies"><aside class="declaration">var </aside>banned_frequencies <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/telecomms/machine_interactions.dm#L9"><img src="git.png" width="16" height="16" title="code/game/machinery/telecomms/machine_interactions.dm 9"></a></h3><p>Illegal frequencies that can't be listened to by telecommunication servers.</p><h3 id="var/hide"><aside class="declaration">var </aside>hide <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/telecomms/telecomunications.dm#L42"><img src="git.png" width="16" height="16" title="code/game/machinery/telecomms/telecomunications.dm 42"></a></h3><p>Is it a hidden machine?</p><h3 id="var/id"><aside class="declaration">var </aside>id <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/telecomms/telecomunications.dm#L26"><img src="git.png" width="16" height="16" title="code/game/machinery/telecomms/telecomunications.dm 26"></a></h3><p>identification string</p><h3 id="var/links"><aside class="declaration">var </aside>links <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/telecomms/telecomunications.dm#L13"><img src="git.png" width="16" height="16" title="code/game/machinery/telecomms/telecomunications.dm 13"></a></h3><p>list of machines this machine is linked to</p><h3 id="var/links_by_telecomms_type"><aside class="declaration">var </aside>links_by_telecomms_type <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/telecomms/telecomunications.dm#L18"><img src="git.png" width="16" height="16" title="code/game/machinery/telecomms/telecomunications.dm 18"></a></h3><p>associative lazylist list of the telecomms_type of linked telecomms machines and a list of said machines.
eg list(telecomms_type1 = list(everything linked to us with that type), telecomms_type2 = list(everything linked to us with THAT type)...)</p><h3 id="var/long_range_link"><aside class="declaration">var </aside>long_range_link <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/telecomms/telecomunications.dm#L40"><img src="git.png" width="16" height="16" title="code/game/machinery/telecomms/telecomunications.dm 40"></a></h3><p>Can you link it across Z levels or on the otherside of the map? (Relay &amp; Hub)</p><h3 id="var/netspeed"><aside class="declaration">var </aside>netspeed <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/telecomms/telecomunications.dm#L22"><img src="git.png" width="16" height="16" title="code/game/machinery/telecomms/telecomunications.dm 22"></a></h3><p>how much traffic to lose per second (50 gigabytes/second * netspeed)</p><h3 id="var/network"><aside class="declaration">var </aside>network <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/telecomms/telecomunications.dm#L30"><img src="git.png" width="16" height="16" title="code/game/machinery/telecomms/telecomunications.dm 30"></a></h3><p>the network of the machinery</p><h3 id="var/on"><aside class="declaration">var </aside>on <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/telecomms/telecomunications.dm#L36"><img src="git.png" width="16" height="16" title="code/game/machinery/telecomms/telecomunications.dm 36"></a></h3><p>Is it actually active or not?</p><h3 id="var/soundloop"><aside class="declaration">var </aside>soundloop <aside>– /<a href="datum.html">datum</a>/<a href="datum/looping_sound.html">looping_sound</a>/server</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/telecomms/telecomunications.dm#L45"><img src="git.png" width="16" height="16" title="code/game/machinery/telecomms/telecomunications.dm 45"></a></h3><p>Looping sounds for any servers</p><h3 id="var/telecomms_type"><aside class="declaration">var </aside>telecomms_type <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/telecomms/telecomunications.dm#L28"><img src="git.png" width="16" height="16" title="code/game/machinery/telecomms/telecomunications.dm 28"></a></h3><p>the relevant type path of this telecomms machine eg /obj/machinery/telecomms/server but not server/preset. used for links_by_telecomms_type</p><h3 id="var/tempfreq"><aside class="declaration">var </aside>tempfreq <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/telecomms/machine_interactions.dm#L7"><img src="git.png" width="16" height="16" title="code/game/machinery/telecomms/machine_interactions.dm 7"></a></h3><p>The current temporary frequency used to add new filtered frequencies
options.</p><h3 id="var/toggled"><aside class="declaration">var </aside>toggled <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/telecomms/telecomunications.dm#L38"><img src="git.png" width="16" height="16" title="code/game/machinery/telecomms/telecomunications.dm 38"></a></h3><p>Is it toggled on, so is it /meant/ to be active?</p><h3 id="var/traffic"><aside class="declaration">var </aside>traffic <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/telecomms/telecomunications.dm#L20"><img src="git.png" width="16" height="16" title="code/game/machinery/telecomms/telecomunications.dm 20"></a></h3><p>value increases as traffic increases</p><h2 id="proc">Proc Details</h2><h3 id="proc/add_act"><aside class="declaration">proc </aside>add_act<aside>(action, params)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/telecomms/machine_interactions.dm#L285"><img src="git.png" width="16" height="16" title="code/game/machinery/telecomms/machine_interactions.dm 285"></a></aside></h3><p>Wrapper for adding another time of action for <code>ui_act()</code>, rather than
having you override <code>ui_act</code> yourself.</p>
<p>Returns <code>TRUE</code> if the action was handled, nothing if not.</p><h3 id="proc/add_new_link"><aside class="declaration">proc </aside>add_new_link<aside>(/<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/telecomms.html">telecomms</a>/new_connection, /<a href="mob.html">mob</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/telecomms/machine_interactions.dm#L162"><img src="git.png" width="16" height="16" title="code/game/machinery/telecomms/machine_interactions.dm 162"></a></aside></h3><p>Adds new_connection to src's links list AND vice versa. Also updates <code>links_by_telecomms_type</code>.</p><h3 id="proc/add_option"><aside class="declaration">proc </aside>add_option<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/telecomms/machine_interactions.dm#L248"><img src="git.png" width="16" height="16" title="code/game/machinery/telecomms/machine_interactions.dm 248"></a></aside></h3><p>Wrapper for adding additional options to a machine's interface.</p>
<p>Returns a list, or <code>null</code> if it wasn't implemented by the machine.</p><h3 id="proc/de_emp"><aside class="declaration">proc </aside>de_emp<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/telecomms/telecomunications.dm#L171"><img src="git.png" width="16" height="16" title="code/game/machinery/telecomms/telecomunications.dm 171"></a></aside></h3><p>Handles the machine stopping being affected by an EMP.</p><h3 id="proc/get_channels"><aside class="declaration">proc </aside>get_channels<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/telecomms/machine_interactions.dm#L201"><img src="git.png" width="16" height="16" title="code/game/machinery/telecomms/machine_interactions.dm 201"></a></aside></h3><p>Returns information (name and color) about all channels in machine's network</p><h3 id="proc/get_multitool"><aside class="declaration">proc </aside>get_multitool<aside>(/<a href="mob.html">mob</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/telecomms/machine_interactions.dm#L357"><img src="git.png" width="16" height="16" title="code/game/machinery/telecomms/machine_interactions.dm 357"></a></aside></h3><p>Returns a multitool from a user depending on their mobtype.</p><h3 id="proc/is_freq_listening"><aside class="declaration">proc </aside>is_freq_listening<aside>(/<a href="datum.html">datum</a>/<a href="datum/signal.html">signal</a>/signal)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/telecomms/telecomunications.dm#L101"><img src="git.png" width="16" height="16" title="code/game/machinery/telecomms/telecomunications.dm 101"></a></aside></h3><p>Checks whether the machinery is listening to that signal.</p>
<p>Returns <code>TRUE</code> if found, <code>FALSE</code> if not.</p><h3 id="proc/receive_information"><aside class="declaration">proc </aside>receive_information<aside>(/<a href="datum.html">datum</a>/<a href="datum/signal.html">signal</a>/signal, /<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/telecomms.html">telecomms</a>/machine_from)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/telecomms/telecomunications.dm#L93"><img src="git.png" width="16" height="16" title="code/game/machinery/telecomms/telecomunications.dm 93"></a></aside></h3><p>Receive information from linked machinery</p><h3 id="proc/relay_direct_information"><aside class="declaration">proc </aside>relay_direct_information<aside>(/<a href="datum.html">datum</a>/<a href="datum/signal.html">signal</a>/signal, /<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/telecomms.html">telecomms</a>/machine)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/telecomms/telecomunications.dm#L89"><img src="git.png" width="16" height="16" title="code/game/machinery/telecomms/telecomunications.dm 89"></a></aside></h3><p>Sends a signal directly to a machine.</p><h3 id="proc/relay_information"><aside class="declaration">proc </aside>relay_information<aside>(/<a href="datum.html">datum</a>/<a href="datum/signal.html">signal</a>/<a href="datum/signal/subspace.html">subspace</a>/signal, filter, copysig, amount)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/telecomms/telecomunications.dm#L48"><img src="git.png" width="16" height="16" title="code/game/machinery/telecomms/telecomunications.dm 48"></a></aside></h3><p>relay signal to all linked machinery that are of type [filter]. If signal has been sent [amount] times, stop sending</p><h3 id="proc/remove_link"><aside class="declaration">proc </aside>remove_link<aside>(/<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/telecomms.html">telecomms</a>/old_connection, /<a href="mob.html">mob</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/telecomms/machine_interactions.dm#L180"><img src="git.png" width="16" height="16" title="code/game/machinery/telecomms/machine_interactions.dm 180"></a></aside></h3><p>Removes old_connection from src's links list AND vice versa. Also updates <code>links_by_telecomms_type</code>.</p><h3 id="proc/update_power"><aside class="declaration">proc </aside>update_power<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/telecomms/telecomunications.dm#L143"><img src="git.png" width="16" height="16" title="code/game/machinery/telecomms/telecomunications.dm 143"></a></aside></h3><p>Handles updating the power state of the machine, modifying its <code>on</code>
variable based on if it's <code>toggled</code> and if it's either broken, has no power
or it's EMP'd. Handles updating appearance based on that power change.</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>