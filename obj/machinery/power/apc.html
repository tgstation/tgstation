<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/machinery/power/apc - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/machinery/power/apc.html#var">Var Details</a> - <a href="obj/machinery/power/apc.html#proc">Proc Details</a></header><main><h1>apc <aside>/<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/power.html">power</a>/<a href="obj/machinery/power/apc.html">apc</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L17"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 17"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/machinery/power/apc.html#var/aidisabled">aidisabled</a></th><td>Is the AI locked from using the APC</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/alarm_manager">alarm_manager</a></th><td>Represents a signel source of power alarms for this apc</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/area">area</a></th><td>Reference to our area</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/areastring">areastring</a></th><td>Mapper helper to tie an apc to another area</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/auto_name">auto_name</a></th><td>Automatically name the APC after the area is in</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/away_general_access">away_general_access</a></th><td>Used for apc helper called away_general_access to make apc's required access away_general_access.</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/beenhit">beenhit</a></th><td>used for counting how many times it has been hit, used for Aliens at the moment</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/cell">cell</a></th><td>Reference to our internal cell</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/cell_10k">cell_10k</a></th><td>Used for apc helper called cell_10k to install 10k cell into apc.</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/cell_5k">cell_5k</a></th><td>Used for apc helper called cell_5k to install 5k cell into apc.</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/cell_type">cell_type</a></th><td>Type of cell we start with</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/chargemode">chargemode</a></th><td>Can the APC charge?</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/charging">charging</a></th><td>State of the apc charging (not charging, charging, fully charged)</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/coverlocked">coverlocked</a></th><td>Is the apc cover locked?</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/cut_AI_wire">cut_AI_wire</a></th><td>Used for apc helper called cut_AI_wire to make apc's wore responsible for ai connectione mended.</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/emergency_lights">emergency_lights</a></th><td>Should the emergency lights be on?</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/environ">environ</a></th><td>State of the environmental channel (off, auto off, on, auto on)</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/equipment">equipment</a></th><td>State of the equipment channel (off, auto off, on, auto on)</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/failure_timer">failure_timer</a></th><td>Time to allow the APC to regain some power and to turn the channels back online</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/force_update">force_update</a></th><td>Forces an update on the power use to ensure that the apc has enough power</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/full_charge">full_charge</a></th><td>Used for apc helper called full_charge to make apc's charge at 100% meter.</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/hacked_flicker_counter">hacked_flicker_counter</a></th><td>Counter for displaying the hacked overlay to mobs within view</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/has_electronics">has_electronics</a></th><td>State of the electronics inside (missing, installed, secured)</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/icon_update_needed">icon_update_needed</a></th><td>Used to stop process from updating the icons too much</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/last_charging">last_charging</a></th><td>Previous state of charging, to detect the change</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/last_nightshift_switch">last_nightshift_switch</a></th><td>Time when the nightshift where turned on last, to prevent spamming</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/lastused_charge">lastused_charge</a></th><td>Total amount of power put into the battery</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/lastused_environ">lastused_environ</a></th><td>Amount of power used by the environmental channel</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/lastused_equip">lastused_equip</a></th><td>Amount of power used by the equipment channel</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/lastused_light">lastused_light</a></th><td>Amount of power used by the lighting channel</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/lastused_total">lastused_total</a></th><td>Total amount of power used by the three channels</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/light_on_range">light_on_range</a></th><td>Range of the light emitted when on</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/lighting">lighting</a></th><td>State of the lighting channel (off, auto off, on, auto on)</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/locked">locked</a></th><td>Is the apc interface locked?</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/long_term_power">long_term_power</a></th><td>buffer state that makes apcs not shut off channels immediately as long as theres some power left, effect visible in apcs only slowly losing power</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/low_power_nightshift_lights">low_power_nightshift_lights</a></th><td>Tracks if lights channel was set to nightshift / reduced power usage mode automatically due to low power.</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/main_status">main_status</a></th><td>State of the apc external power (no power, low power, has power)</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/malf_ai_pt_generation">malf_ai_pt_generation</a></th><td>When did the apc generate last malf ai processing time.</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/malfai">malfai</a></th><td>Reference to our ai hacker</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/malfhack">malfhack</a></th><td>Is the apc hacked by a malf ai?</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/nightshift_lights">nightshift_lights</a></th><td>Should the nighshift lights be on?</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/no_charge">no_charge</a></th><td>Used for apc helper called no_charge to make apc's charge at 0% meter.</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/occupier">occupier</a></th><td>Reference to the shunted ai inside</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/offset_old">offset_old</a></th><td>Offsets the object by APC_PIXEL_OFFSET (defined in apc_defines.dm) pixels in the direction we want it placed in. This allows the APC to be embedded in a wall, yet still inside an area (like mapping).</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/opened">opened</a></th><td>State of the cover (closed, opened, removed)</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/operating">operating</a></th><td>Is the apc working</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/overload">overload</a></th><td>used for the Blackout malf module</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/remote_control_user">remote_control_user</a></th><td>Reference to our remote control</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/shorted">shorted</a></th><td>Is the APC shorted and not working?</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/start_charge">start_charge</a></th><td>Initial cell charge %</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/syndicate_access">syndicate_access</a></th><td>Used for apc helper called syndicate_access to make apc's required access syndicate_access.</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/terminal">terminal</a></th><td>Reference to our cable terminal</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/transfer_in_progress">transfer_in_progress</a></th><td>Is there an AI being transferred out of us?</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/unlocked">unlocked</a></th><td>Used for apc helper called unlocked to make apc unlocked.</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/update_overlay">update_overlay</a></th><td>Stores the flag for the overlays</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/update_state">update_state</a></th><td>Stores the flags for the icon state</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/AICtrlClick">AICtrlClick</a></th><td>Toggle APC power settings</td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/AICtrlShiftClick">AICtrlShiftClick</a></th><td>Toggle APC environment settings (atmos)</td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/AIShiftClick">AIShiftClick</a></th><td>Toggle APC lighting settings</td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/add_load">add_load</a></th><td>Adds load (energy) to the terminal's grid.</td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/ai_click_alt">ai_click_alt</a></th><td>Toggle APC equipment settings</td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/autoset">autoset</a></th><td>Returns the new status value for an APC channel.</td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/avail">avail</a></th><td>Returns the amount of energy the terminal's grid has.</td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/available_energy">available_energy</a></th><td>Returns the surplus energy from the terminal's grid and the cell.</td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/cable_act">cable_act</a></th><td>Called when we interact with the APC with a cable, attempts to wire the APC and create a terminal</td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/can_place_terminal">can_place_terminal</a></th><td>Checks if we can place a terminal on the APC</td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/cell_act">cell_act</a></th><td>Called when we interact with the APC with a cell, attempts to insert it</td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/charge">charge</a></th><td>Returns the cell's current charge.</td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/charge_from_ethereal">charge_from_ethereal</a></th><td>Handles charging our internal cell from an ethereal and their stomach</td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/check_updates">check_updates</a></th><td>Checks for what icon updates we will need to handle</td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/discharge_to_ethereal">discharge_to_ethereal</a></th><td>Handles discharging our internal cell to an ethereal and their stomach</td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/disconnect_remote_access">disconnect_remote_access</a></th><td>Disconnects anyone using this APC via an APC control console and locks the interface.
arguments:
mute - whether the APC should announce the disconnection locally</td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/early_process">early_process</a></th><td>APC early processing. This gets processed after any other machine on the powernet does.
This adds up the total static power usage for the apc's area, then draw that power usage from the grid or APC cell.</td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/electronics_act">electronics_act</a></th><td>Called when we interact with the APC with APC electronics, attempts to install the board</td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/ethereal_interact">ethereal_interact</a></th><td>Special behavior for when an ethereal interacts with an APC.</td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/fork_outlet_act">fork_outlet_act</a></th><td>Called when we interact with the APC with an item with which we can get shocked when we stuff it into an APC</td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/get_lights">get_lights</a></th><td>Returns a list of lights powered/controlled by src</td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/give_away_general_access">give_away_general_access</a></th><td>Used for away_general_access apc helper, which set apc's required access to away_general_access.</td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/give_syndicate_access">give_syndicate_access</a></th><td>Used for syndicate_access apc helper, which sets apc's required access to syndicate_access.</td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/install_cell_10k">install_cell_10k</a></th><td>Used for cell_10k apc helper, which installs 10k cell into apc.</td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/install_cell_5k">install_cell_5k</a></th><td>Used for cell_5k apc helper, which installs 5k cell into apc.</td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/pseudocircuit_act">pseudocircuit_act</a></th><td>Called when we interact with the APC with an electroadaptive pseudocircuit, used by cyborgs to install a board or weak cell</td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/set_full_charge">set_full_charge</a></th><td>Used for full_charge apc helper, which sets apc charge to 100%.</td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/set_hacked_hud">set_hacked_hud</a></th><td>Applies hacked overlay for malf AIs</td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/set_no_charge">set_no_charge</a></th><td>Used for no_charge apc helper, which sets apc charge to 0%.</td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/setsubsystem">setsubsystem</a></th><td>Used by external forces to set the APCs channel status's.</td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/surplus">surplus</a></th><td>Returns the surplus energy from the terminal's grid.</td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/time_to_charge">time_to_charge</a></th><td>Returns the amount of time it will take the APC at its current trickle charge rate to reach a charge level. If the APC is functionally not charging, returns null.</td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/unlock">unlock</a></th><td>Used for unlocked apc helper, which unlocks the apc.</td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/wallframe_act">wallframe_act</a></th><td>Called when we interact with the APC with and APC frame, used for replacing a damaged cover/frame</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/aidisabled"><aside class="declaration">var </aside>aidisabled <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L67"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 67"></a></h3><p>Is the AI locked from using the APC</p><h3 id="var/alarm_manager"><aside class="declaration">var </aside>alarm_manager <aside>– /<a href="datum.html">datum</a>/<a href="datum/alarm_handler.html">alarm_handler</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L124"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 124"></a></h3><p>Represents a signel source of power alarms for this apc</p><h3 id="var/area"><aside class="declaration">var </aside>area <aside>– /<a href="area.html">area</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L35"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 35"></a></h3><p>Reference to our area</p><h3 id="var/areastring"><aside class="declaration">var </aside>areastring <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L37"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 37"></a></h3><p>Mapper helper to tie an apc to another area</p><h3 id="var/auto_name"><aside class="declaration">var </aside>auto_name <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L102"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 102"></a></h3><p>Automatically name the APC after the area is in</p><h3 id="var/away_general_access"><aside class="declaration">var </aside>away_general_access <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L134"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 134"></a></h3><p>Used for apc helper called away_general_access to make apc's required access away_general_access.</p><h3 id="var/beenhit"><aside class="declaration">var </aside>beenhit <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L94"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 94"></a></h3><p>used for counting how many times it has been hit, used for Aliens at the moment</p><h3 id="var/cell"><aside class="declaration">var </aside>cell <aside>– /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/stock_parts.html">stock_parts</a>/<a href="obj/item/stock_parts/power_store.html">power_store</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L39"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 39"></a></h3><p>Reference to our internal cell</p><h3 id="var/cell_10k"><aside class="declaration">var </aside>cell_10k <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L138"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 138"></a></h3><p>Used for apc helper called cell_10k to install 10k cell into apc.</p><h3 id="var/cell_5k"><aside class="declaration">var </aside>cell_5k <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L136"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 136"></a></h3><p>Used for apc helper called cell_5k to install 5k cell into apc.</p><h3 id="var/cell_type"><aside class="declaration">var </aside>cell_type <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L43"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 43"></a></h3><p>Type of cell we start with</p><h3 id="var/chargemode"><aside class="declaration">var </aside>chargemode <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L61"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 61"></a></h3><p>Can the APC charge?</p><h3 id="var/charging"><aside class="declaration">var </aside>charging <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L57"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 57"></a></h3><p>State of the apc charging (not charging, charging, fully charged)</p><h3 id="var/coverlocked"><aside class="declaration">var </aside>coverlocked <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L65"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 65"></a></h3><p>Is the apc cover locked?</p><h3 id="var/cut_AI_wire"><aside class="declaration">var </aside>cut_AI_wire <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L128"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 128"></a></h3><p>Used for apc helper called cut_AI_wire to make apc's wore responsible for ai connectione mended.</p><h3 id="var/emergency_lights"><aside class="declaration">var </aside>emergency_lights <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L108"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 108"></a></h3><p>Should the emergency lights be on?</p><h3 id="var/environ"><aside class="declaration">var </aside>environ <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L53"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 53"></a></h3><p>State of the environmental channel (off, auto off, on, auto on)</p><h3 id="var/equipment"><aside class="declaration">var </aside>equipment <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L51"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 51"></a></h3><p>State of the equipment channel (off, auto off, on, auto on)</p><h3 id="var/failure_timer"><aside class="declaration">var </aside>failure_timer <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L104"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 104"></a></h3><p>Time to allow the APC to regain some power and to turn the channels back online</p><h3 id="var/force_update"><aside class="declaration">var </aside>force_update <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L106"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 106"></a></h3><p>Forces an update on the power use to ensure that the apc has enough power</p><h3 id="var/full_charge"><aside class="declaration">var </aside>full_charge <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L142"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 142"></a></h3><p>Used for apc helper called full_charge to make apc's charge at 100% meter.</p><h3 id="var/hacked_flicker_counter"><aside class="declaration">var </aside>hacked_flicker_counter <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L88"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 88"></a></h3><p>Counter for displaying the hacked overlay to mobs within view</p><h3 id="var/has_electronics"><aside class="declaration">var </aside>has_electronics <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L90"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 90"></a></h3><p>State of the electronics inside (missing, installed, secured)</p><h3 id="var/icon_update_needed"><aside class="declaration">var </aside>icon_update_needed <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L120"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 120"></a></h3><p>Used to stop process from updating the icons too much</p><h3 id="var/last_charging"><aside class="declaration">var </aside>last_charging <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L59"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 59"></a></h3><p>Previous state of charging, to detect the change</p><h3 id="var/last_nightshift_switch"><aside class="declaration">var </aside>last_nightshift_switch <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L114"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 114"></a></h3><p>Time when the nightshift where turned on last, to prevent spamming</p><h3 id="var/lastused_charge"><aside class="declaration">var </aside>lastused_charge <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L79"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 79"></a></h3><p>Total amount of power put into the battery</p><h3 id="var/lastused_environ"><aside class="declaration">var </aside>lastused_environ <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L75"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 75"></a></h3><p>Amount of power used by the environmental channel</p><h3 id="var/lastused_equip"><aside class="declaration">var </aside>lastused_equip <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L73"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 73"></a></h3><p>Amount of power used by the equipment channel</p><h3 id="var/lastused_light"><aside class="declaration">var </aside>lastused_light <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L71"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 71"></a></h3><p>Amount of power used by the lighting channel</p><h3 id="var/lastused_total"><aside class="declaration">var </aside>lastused_total <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L77"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 77"></a></h3><p>Total amount of power used by the three channels</p><h3 id="var/light_on_range"><aside class="declaration">var </aside>light_on_range <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L33"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 33"></a></h3><p>Range of the light emitted when on</p><h3 id="var/lighting"><aside class="declaration">var </aside>lighting <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L49"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 49"></a></h3><p>State of the lighting channel (off, auto off, on, auto on)</p><h3 id="var/locked"><aside class="declaration">var </aside>locked <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L63"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 63"></a></h3><p>Is the apc interface locked?</p><h3 id="var/long_term_power"><aside class="declaration">var </aside>long_term_power <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L100"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 100"></a></h3><p>buffer state that makes apcs not shut off channels immediately as long as theres some power left, effect visible in apcs only slowly losing power</p><h3 id="var/low_power_nightshift_lights"><aside class="declaration">var </aside>low_power_nightshift_lights <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L112"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 112"></a></h3><p>Tracks if lights channel was set to nightshift / reduced power usage mode automatically due to low power.</p><h3 id="var/main_status"><aside class="declaration">var </aside>main_status <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L81"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 81"></a></h3><p>State of the apc external power (no power, low power, has power)</p><h3 id="var/malf_ai_pt_generation"><aside class="declaration">var </aside>malf_ai_pt_generation <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L144"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 144"></a></h3><p>When did the apc generate last malf ai processing time.</p><h3 id="var/malfai"><aside class="declaration">var </aside>malfai <aside>– /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/silicon.html">silicon</a>/<a href="mob/living/silicon/ai.html">ai</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L86"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 86"></a></h3><p>Reference to our ai hacker</p><h3 id="var/malfhack"><aside class="declaration">var </aside>malfhack <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L84"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 84"></a></h3><p>Is the apc hacked by a malf ai?</p><h3 id="var/nightshift_lights"><aside class="declaration">var </aside>nightshift_lights <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L110"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 110"></a></h3><p>Should the nighshift lights be on?</p><h3 id="var/no_charge"><aside class="declaration">var </aside>no_charge <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L140"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 140"></a></h3><p>Used for apc helper called no_charge to make apc's charge at 0% meter.</p><h3 id="var/occupier"><aside class="declaration">var </aside>occupier <aside>– /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/silicon.html">silicon</a>/<a href="mob/living/silicon/ai.html">ai</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L96"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 96"></a></h3><p>Reference to the shunted ai inside</p><h3 id="var/offset_old"><aside class="declaration">var </aside>offset_old <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L126"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 126"></a></h3><p>Offsets the object by APC_PIXEL_OFFSET (defined in apc_defines.dm) pixels in the direction we want it placed in. This allows the APC to be embedded in a wall, yet still inside an area (like mapping).</p><h3 id="var/opened"><aside class="declaration">var </aside>opened <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L45"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 45"></a></h3><p>State of the cover (closed, opened, removed)</p><h3 id="var/operating"><aside class="declaration">var </aside>operating <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L55"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 55"></a></h3><p>Is the apc working</p><h3 id="var/overload"><aside class="declaration">var </aside>overload <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L92"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 92"></a></h3><p>used for the Blackout malf module</p><h3 id="var/remote_control_user"><aside class="declaration">var </aside>remote_control_user <aside>– /<a href="mob.html">mob</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L122"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 122"></a></h3><p>Reference to our remote control</p><h3 id="var/shorted"><aside class="declaration">var </aside>shorted <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L47"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 47"></a></h3><p>Is the APC shorted and not working?</p><h3 id="var/start_charge"><aside class="declaration">var </aside>start_charge <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L41"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 41"></a></h3><p>Initial cell charge %</p><h3 id="var/syndicate_access"><aside class="declaration">var </aside>syndicate_access <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L132"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 132"></a></h3><p>Used for apc helper called syndicate_access to make apc's required access syndicate_access.</p><h3 id="var/terminal"><aside class="declaration">var </aside>terminal <aside>– /<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/power.html">power</a>/terminal</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L69"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 69"></a></h3><p>Reference to our cable terminal</p><h3 id="var/transfer_in_progress"><aside class="declaration">var </aside>transfer_in_progress <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L98"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 98"></a></h3><p>Is there an AI being transferred out of us?</p><h3 id="var/unlocked"><aside class="declaration">var </aside>unlocked <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L130"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 130"></a></h3><p>Used for apc helper called unlocked to make apc unlocked.</p><h3 id="var/update_overlay"><aside class="declaration">var </aside>update_overlay <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L118"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 118"></a></h3><p>Stores the flag for the overlays</p><h3 id="var/update_state"><aside class="declaration">var </aside>update_state <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L116"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 116"></a></h3><p>Stores the flags for the icon state</p><h2 id="proc">Proc Details</h2><h3 id="proc/AICtrlClick">AICtrlClick<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/silicon.html">silicon</a>/<a href="mob/living/silicon/ai.html">ai</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/_onclick/ai.dm#L208"><img src="git.png" width="16" height="16" title="code/_onclick/ai.dm 208"></a></aside></h3><p>Toggle APC power settings</p><h3 id="proc/AICtrlShiftClick">AICtrlShiftClick<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/silicon.html">silicon</a>/<a href="mob/living/silicon/ai.html">ai</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/_onclick/ai.dm#L215"><img src="git.png" width="16" height="16" title="code/_onclick/ai.dm 215"></a></aside></h3><p>Toggle APC environment settings (atmos)</p><h3 id="proc/AIShiftClick">AIShiftClick<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/silicon.html">silicon</a>/<a href="mob/living/silicon/ai.html">ai</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/_onclick/ai.dm#L232"><img src="git.png" width="16" height="16" title="code/_onclick/ai.dm 232"></a></aside></h3><p>Toggle APC lighting settings</p><h3 id="proc/add_load">add_load<aside>(amount)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_power_proc.dm#L62"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_power_proc.dm 62"></a></aside></h3><p>Adds load (energy) to the terminal's grid.</p><h3 id="proc/ai_click_alt">ai_click_alt<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/silicon.html">silicon</a>/<a href="mob/living/silicon/ai.html">ai</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/_onclick/ai.dm#L250"><img src="git.png" width="16" height="16" title="code/_onclick/ai.dm 250"></a></aside></h3><p>Toggle APC equipment settings</p><h3 id="proc/autoset"><aside class="declaration">proc </aside>autoset<aside>(val, on)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_power_proc.dm#L94"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_power_proc.dm 94"></a></aside></h3><p>Returns the new status value for an APC channel.</p>
<p>// val 0=off, 1=off(auto) 2=on 3=on(auto)
// on 0=off, 1=on, 2=autooff
TODO: Make this use bitflags instead. It should take at most three lines, but it's out of scope for now.</p>
<p>Arguments:</p>
<ul>
<li>val: The current status of the power channel.
<ul>
<li><a href="code/__DEFINES/apc_defines.html#define/APC_CHANNEL_OFF" title="APC_CHANNEL_OFF">APC_CHANNEL_OFF</a>: The APCs channel has been manually set to off. This channel will not automatically change.</li>
<li><a href="code/__DEFINES/apc_defines.html#define/APC_CHANNEL_AUTO_OFF" title="APC_CHANNEL_AUTO_OFF">APC_CHANNEL_AUTO_OFF</a>: The APCs channel is running on automatic and is currently off. Can be automatically set to <a href="code/__DEFINES/apc_defines.html#define/APC_CHANNEL_AUTO_ON" title="APC_CHANNEL_AUTO_ON">APC_CHANNEL_AUTO_ON</a>.</li>
<li><a href="code/__DEFINES/apc_defines.html#define/APC_CHANNEL_ON" title="APC_CHANNEL_ON">APC_CHANNEL_ON</a>: The APCs channel has been manually set to on. This will be automatically changed only if the APC runs completely out of power or is disabled.</li>
<li><a href="code/__DEFINES/apc_defines.html#define/APC_CHANNEL_AUTO_ON" title="APC_CHANNEL_AUTO_ON">APC_CHANNEL_AUTO_ON</a>: The APCs channel is running on automatic and is currently on. Can be automatically set to <a href="code/__DEFINES/apc_defines.html#define/APC_CHANNEL_AUTO_OFF" title="APC_CHANNEL_AUTO_OFF">APC_CHANNEL_AUTO_OFF</a>.</li>
</ul>
</li>
<li>on: An enum dictating how to change the channel's status.
<ul>
<li><a href="code/__DEFINES/apc_defines.html#define/AUTOSET_FORCE_OFF" title="AUTOSET_FORCE_OFF">AUTOSET_FORCE_OFF</a>: The APC forces the channel to turn off. This includes manually set channels.</li>
<li><a href="code/__DEFINES/apc_defines.html#define/AUTOSET_ON" title="AUTOSET_ON">AUTOSET_ON</a>: The APC allows automatic channels to turn back on.</li>
<li><a href="code/__DEFINES/apc_defines.html#define/AUTOSET_OFF" title="AUTOSET_OFF">AUTOSET_OFF</a>: The APC turns automatic channels off.</li>
</ul>
</li>
</ul><h3 id="proc/avail">avail<aside>(amount)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_power_proc.dm#L67"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_power_proc.dm 67"></a></aside></h3><p>Returns the amount of energy the terminal's grid has.</p><h3 id="proc/available_energy"><aside class="parent"><a title="/obj/machinery" href="obj/machinery.html#proc/available_energy">↑</a></aside>available_energy<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_power_proc.dm#L73"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_power_proc.dm 73"></a></aside></h3><p>Returns the surplus energy from the terminal's grid and the cell.</p><h3 id="proc/cable_act"><aside class="declaration">proc </aside>cable_act<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/stack.html">stack</a>/cable_coil/installing_cable, is_right_clicking)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_tool_act.dm#L101"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_tool_act.dm 101"></a></aside></h3><p>Called when we interact with the APC with a cable, attempts to wire the APC and create a terminal</p><h3 id="proc/can_place_terminal"><aside class="declaration">proc </aside>can_place_terminal<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/stack.html">stack</a>/cable_coil/installing_cable, silent)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_tool_act.dm#L74"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_tool_act.dm 74"></a></aside></h3><p>Checks if we can place a terminal on the APC</p><h3 id="proc/cell_act"><aside class="declaration">proc </aside>cell_act<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/stock_parts.html">stock_parts</a>/<a href="obj/item/stock_parts/power_store.html">power_store</a>/new_cell)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_tool_act.dm#L55"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_tool_act.dm 55"></a></aside></h3><p>Called when we interact with the APC with a cell, attempts to insert it</p><h3 id="proc/charge"><aside class="declaration">proc </aside>charge<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L799"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 799"></a></aside></h3><p>Returns the cell's current charge.</p><h3 id="proc/charge_from_ethereal"><aside class="declaration">proc </aside>charge_from_ethereal<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/user, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/organ.html">organ</a>/<a href="obj/item/organ/stomach.html">stomach</a>/<a href="obj/item/organ/stomach/ethereal.html">ethereal</a>/used_stomach)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_attack.dm#L77"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_attack.dm 77"></a></aside></h3><p>Handles charging our internal cell from an ethereal and their stomach</p><h3 id="proc/check_updates"><aside class="declaration">proc </aside>check_updates<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_appearance.dm#L64"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_appearance.dm 64"></a></aside></h3><p>Checks for what icon updates we will need to handle</p><h3 id="proc/discharge_to_ethereal"><aside class="declaration">proc </aside>discharge_to_ethereal<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/user, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/organ.html">organ</a>/<a href="obj/item/organ/stomach.html">stomach</a>/<a href="obj/item/organ/stomach/ethereal.html">ethereal</a>/used_stomach)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_attack.dm#L41"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_attack.dm 41"></a></aside></h3><p>Handles discharging our internal cell to an ethereal and their stomach</p><h3 id="proc/disconnect_remote_access"><aside class="declaration">proc </aside>disconnect_remote_access<aside>(mute)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L457"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 457"></a></aside></h3><p>Disconnects anyone using this APC via an APC control console and locks the interface.
arguments:
mute - whether the APC should announce the disconnection locally</p><h3 id="proc/early_process"><aside class="declaration">proc </aside>early_process<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L564"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 564"></a></aside></h3><p>APC early processing. This gets processed after any other machine on the powernet does.
This adds up the total static power usage for the apc's area, then draw that power usage from the grid or APC cell.</p><h3 id="proc/electronics_act"><aside class="declaration">proc </aside>electronics_act<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/electronics/apc/installing_board)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_tool_act.dm#L140"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_tool_act.dm 140"></a></aside></h3><p>Called when we interact with the APC with APC electronics, attempts to install the board</p><h3 id="proc/ethereal_interact"><aside class="declaration">proc </aside>ethereal_interact<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/user, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/organ.html">organ</a>/<a href="obj/item/organ/stomach.html">stomach</a>/<a href="obj/item/organ/stomach/ethereal.html">ethereal</a>/used_stomach, /list/modifiers)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_attack.dm#L28"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_attack.dm 28"></a></aside></h3><p>Special behavior for when an ethereal interacts with an APC.</p><h3 id="proc/fork_outlet_act"><aside class="declaration">proc </aside>fork_outlet_act<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/tool)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_tool_act.dm#L34"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_tool_act.dm 34"></a></aside></h3><p>Called when we interact with the APC with an item with which we can get shocked when we stuff it into an APC</p><h3 id="proc/get_lights"><aside class="declaration">proc </aside>get_lights<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L552"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 552"></a></aside></h3><p>Returns a list of lights powered/controlled by src</p><h3 id="proc/give_away_general_access"><aside class="declaration">proc </aside>give_away_general_access<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L787"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 787"></a></aside></h3><p>Used for away_general_access apc helper, which set apc's required access to away_general_access.</p><h3 id="proc/give_syndicate_access"><aside class="declaration">proc </aside>give_syndicate_access<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L783"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 783"></a></aside></h3><p>Used for syndicate_access apc helper, which sets apc's required access to syndicate_access.</p><h3 id="proc/install_cell_10k"><aside class="declaration">proc </aside>install_cell_10k<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L774"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 774"></a></aside></h3><p>Used for cell_10k apc helper, which installs 10k cell into apc.</p><h3 id="proc/install_cell_5k"><aside class="declaration">proc </aside>install_cell_5k<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L769"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 769"></a></aside></h3><p>Used for cell_5k apc helper, which installs 5k cell into apc.</p><h3 id="proc/pseudocircuit_act"><aside class="declaration">proc </aside>pseudocircuit_act<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/electroadaptive_pseudocircuit/pseudocircuit)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_tool_act.dm#L166"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_tool_act.dm 166"></a></aside></h3><p>Called when we interact with the APC with an electroadaptive pseudocircuit, used by cyborgs to install a board or weak cell</p><h3 id="proc/set_full_charge"><aside class="declaration">proc </aside>set_full_charge<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L795"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 795"></a></aside></h3><p>Used for full_charge apc helper, which sets apc charge to 100%.</p><h3 id="proc/set_hacked_hud"><aside class="declaration">proc </aside>set_hacked_hud<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/data_huds.dm#L511"><img src="git.png" width="16" height="16" title="code/game/data_huds.dm 511"></a></aside></h3><p>Applies hacked overlay for malf AIs</p><h3 id="proc/set_no_charge"><aside class="declaration">proc </aside>set_no_charge<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L791"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 791"></a></aside></h3><p>Used for no_charge apc helper, which sets apc charge to 0%.</p><h3 id="proc/setsubsystem"><aside class="declaration">proc </aside>setsubsystem<aside>(val)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_power_proc.dm#L118"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_power_proc.dm 118"></a></aside></h3><p>Used by external forces to set the APCs channel status's.</p>
<p>Arguments:</p>
<ul>
<li>val: The desired value of the subsystem:
<ul>
<li>1: Manually sets the APCs channel to be <a href="code/__DEFINES/apc_defines.html#define/APC_CHANNEL_OFF" title="APC_CHANNEL_OFF">APC_CHANNEL_OFF</a>.</li>
<li>2: Manually sets the APCs channel to be <a href="code/__DEFINES/apc_defines.html#define/APC_CHANNEL_AUTO_ON" title="APC_CHANNEL_AUTO_ON">APC_CHANNEL_AUTO_ON</a>. If the APC doesn't have any power this defaults to <a href="code/__DEFINES/apc_defines.html#define/APC_CHANNEL_OFF" title="APC_CHANNEL_OFF">APC_CHANNEL_OFF</a> instead.</li>
<li>3: Sets the APCs channel to be <a href="code/__DEFINES/apc_defines.html#define/APC_CHANNEL_AUTO_ON" title="APC_CHANNEL_AUTO_ON">APC_CHANNEL_AUTO_ON</a>. If the APC doesn't have enough power this defaults to <a href="code/__DEFINES/apc_defines.html#define/APC_CHANNEL_AUTO_OFF" title="APC_CHANNEL_AUTO_OFF">APC_CHANNEL_AUTO_OFF</a> instead.</li>
</ul>
</li>
</ul><h3 id="proc/surplus">surplus<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_power_proc.dm#L56"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_power_proc.dm 56"></a></aside></h3><p>Returns the surplus energy from the terminal's grid.</p><h3 id="proc/time_to_charge"><aside class="declaration">proc </aside>time_to_charge<aside>(joules)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L809"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 809"></a></aside></h3><p>Returns the amount of time it will take the APC at its current trickle charge rate to reach a charge level. If the APC is functionally not charging, returns null.</p><h3 id="proc/unlock"><aside class="declaration">proc </aside>unlock<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_main.dm#L779"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 779"></a></aside></h3><p>Used for unlocked apc helper, which unlocks the apc.</p><h3 id="proc/wallframe_act"><aside class="declaration">proc </aside>wallframe_act<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/wallframe.html">wallframe</a>/apc/wallframe)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/apc/apc_tool_act.dm#L201"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_tool_act.dm 201"></a></aside></h3><p>Called when we interact with the APC with and APC frame, used for replacing a damaged cover/frame</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>