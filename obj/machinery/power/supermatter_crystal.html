<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/machinery/power/supermatter_crystal - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/machinery/power/supermatter_crystal.html#var">Var Details</a> - <a href="obj/machinery/power/supermatter_crystal.html#proc">Proc Details</a></header><main><h1>supermatter_crystal <aside>/<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/power.html">power</a>/<a href="obj/machinery/power/supermatter_crystal.html">supermatter_crystal</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L17"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 17"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/absorbed_gasmix">absorbed_gasmix</a></th><td>The gasmix we just recently absorbed. Tile's air multiplied by absorption_ratio</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/absorption_ratio">absorption_ratio</a></th><td>The portion of the gasmix we're on that we should remove</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/activation_logged">activation_logged</a></th><td>Boolean used to log the first activation of the SM.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/bullet_energy">bullet_energy</a></th><td>How much the bullets damage should be multiplied by when it is added to the internal variables</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/common_radio_cooldown">common_radio_cooldown</a></th><td>Cooldown for sending emergency alerts to the common radio channel</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/countdown">countdown</a></th><td>An effect we show to admins and ghosts the percentage of delam we're at</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/current_gas_behavior">current_gas_behavior</a></th><td>The current gas behaviors for this particular crystal</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/damage">damage</a></th><td>The amount of damage we have currently.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/damage_archived">damage_archived</a></th><td>The damage we had before this cycle.
Used to check if we are currently taking damage or healing.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/danger_point">danger_point</a></th><td>The point at which we consider the supermatter to be [SUPERMATTER_STATUS_DANGER]
Spawns anomalies when more damaged than this too.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/delam_priority">delam_priority</a></th><td>Whether the sm is forced in a specific delamination_strategy or not. All truthy values means it's forced.
Only values greater or equal to the current one can change the strat.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/delamination_strategy">delamination_strategy</a></th><td>How we are delaminating.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/disable_damage">disable_damage</a></th><td>Disables all methods of taking damage.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/disable_gas">disable_gas</a></th><td>Disables the calculation of gas effects and production of waste.
SM still &quot;breathes&quot; though, still takes gas and spits it out. Nothing is done on them though.
Cleaner code this way. Get rid of if it's too wasteful.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/disable_power_change">disable_power_change</a></th><td>Disables power changes.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/disable_process">disable_process</a></th><td>Disables the SM's proccessing totally when set to SM_PROCESS_DISABLED.
Temporary disables the processing when it's set to SM_PROCESS_TIMESTOP.
Make sure absorbed_gasmix and gas_percentage isnt null if this is on SM_PROCESS_DISABLED.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/emergency_point">emergency_point</a></th><td>The point at which we consider the supermatter to be [SUPERMATTER_STATUS_EMERGENCY]</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/explosion_point">explosion_point</a></th><td>The point at which we delam [SUPERMATTER_STATUS_DELAMINATING].</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/explosion_power">explosion_power</a></th><td>A scaling value that affects the severity of explosions.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/external_damage_immediate">external_damage_immediate</a></th><td>External damage that are added to the sm on next <a href="obj/machinery.html#proc/process_atmos" title="/obj/machinery">/obj/machinery/power/supermatter_crystal/process_atmos</a> call.
SM will not take damage if its health is lower than emergency point.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/external_power_immediate">external_power_immediate</a></th><td>External power that are added to the sm on next <a href="obj/machinery.html#proc/process_atmos" title="/obj/machinery">/obj/machinery/power/supermatter_crystal/process_atmos</a> call.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/external_power_trickle">external_power_trickle</a></th><td>External power that are added over time instead of immediately.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/final_countdown">final_countdown</a></th><td>Are we exploding?</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/gas_heat_modifier">gas_heat_modifier</a></th><td>Affects the heat our SM makes.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/gas_heat_power_generation">gas_heat_power_generation</a></th><td>Affects the power gain the SM experiances from heat.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/gas_heat_resistance">gas_heat_resistance</a></th><td>Affects the minimum point at which the SM takes heat damage</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/gas_percentage">gas_percentage</a></th><td>The list of gases mapped against their current comp.
We use this to calculate different values the supermatter uses, like power or heat resistance.
Ranges from 0 to 1</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/gas_power_transmission_rate">gas_power_transmission_rate</a></th><td>Affects the amount of power the main SM zap makes.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/gas_powerloss_inhibition">gas_powerloss_inhibition</a></th><td>How much power decay is negated. Complete power decay negation at 1.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/gl_uid">gl_uid</a></th><td>The amount of supermatters that have been created this round</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/hallucination_power">hallucination_power</a></th><td>How much hallucination should we produce per unit of power?</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/holiday_lights">holiday_lights</a></th><td>If the SM is decorated with holiday lights</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/hue_angle_shift">hue_angle_shift</a></th><td>Hue shift of the zaps color based on the power of the crystal</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/include_in_cims">include_in_cims</a></th><td>Do we show this crystal in the CIMS modular program</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/internal_energy">internal_energy</a></th><td>Refered to as EER on the monitor. This value effects gas output, damage, and power generation.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/is_main_engine">is_main_engine</a></th><td>Only main engines can have their sliver stolen, can trigger cascades, and can spawn stationwide anomalies.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/last_accent_sound">last_accent_sound</a></th><td>cooldown tracker for accent sounds</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/last_energy_accumulation_perspective_machines">last_energy_accumulation_perspective_machines</a></th><td>Stores the tick of the machines subsystem of when the last zap energy accumulation occurred. Gives a passage of time in the perspective of SSmachines.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/last_high_energy_accumulation_perspective_machines">last_high_energy_accumulation_perspective_machines</a></th><td>Same as [last_energy_accumulation_perspective_machines], but based around the high energy zaps found in handle_high_power().</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/last_power_zap">last_power_zap</a></th><td>Stores the time of when the last zap occurred</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/lastwarning">lastwarning</a></th><td>Time in 1/10th of seconds since the last sent warning</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/moveable">moveable</a></th><td>Can it be moved?</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/powerloss_linear_offset">powerloss_linear_offset</a></th><td>The offset of the linear powerloss function set so the transition is differentiable.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/powerloss_linear_threshold">powerloss_linear_threshold</a></th><td>The power threshold required to transform the powerloss function into a linear function from a cubic function.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/psy_coeff">psy_coeff</a></th><td>Var that increases from 0 to 1 when a psychologist is nearby, and decreases in the same way</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/radio">radio</a></th><td>Our internal radio</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/radio_key">radio_key</a></th><td>The key our internal radio uses</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/saviors">saviors</a></th><td>Lazy list of the crazy engineers who managed to turn a cascading engine around.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/soundloop">soundloop</a></th><td>Our soundloop</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/supermatter_sliver_removed">supermatter_sliver_removed</a></th><td>If a sliver of the supermatter has been removed. Almost certainly by a traitor. Lowers the delamination countdown time.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/temp_limit">temp_limit</a></th><td>The temperature at which we start taking damage</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/uid">uid</a></th><td>The id of our supermatter</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/warning_point">warning_point</a></th><td>The point at which we consider the supermatter to be [SUPERMATTER_STATUS_WARNING]</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/warp">warp</a></th><td>Reference to the warp effect</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/waste_multiplier">waste_multiplier</a></th><td>Multiplies our waste gas amount and temperature.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/zap_cutoff">zap_cutoff</a></th><td>The cutoff for a bolt jumping, grows with heat, lowers with higher mol count,</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/zap_energy_accumulation">zap_energy_accumulation</a></th><td>Accumulated energy to be transferred from supermatter zaps.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/zap_icon">zap_icon</a></th><td>Tracks the bolt color we are using</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#var/zap_transmission_rate">zap_transmission_rate</a></th><td>The zap power transmission over internal energy. W/MeV.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#proc/accumulate_energy">accumulate_energy</a></th><td>Accumulates energy for the zap_energy_accumulation key.
Args:</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#proc/calculate_damage">calculate_damage</a></th><td>Perform calculation for the damage taken or healed.
Description of each factors can be found in the defines.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#proc/calculate_gases">calculate_gases</a></th><td>Perform calculation for variables that depend on gases.
Description of each factors can be found in the defines.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#proc/calculate_internal_energy">calculate_internal_energy</a></th><td>Perform calculation for power lost and gained this tick.
Description of each factors can be found in the defines.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#proc/calculate_temp_limit">calculate_temp_limit</a></th><td>Calculate at which temperature the sm starts taking damage.
heat limit is given by: (T0C+40) * (1 + gas heat res + psy_coeff)</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#proc/calculate_waste_multiplier">calculate_waste_multiplier</a></th><td>Perform calculation for the waste multiplier.
This number affects the temperature, plasma, and oxygen of the waste gas.
Multiplier is applied to energy for plasma and temperature but temperature for oxygen.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#proc/calculate_zap_transmission_rate">calculate_zap_transmission_rate</a></th><td>Perform calculation for the main zap power transmission rate in W/MeV.
Description of each factors can be found in the defines.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#proc/count_down">count_down</a></th><td>Count down, spout some messages, and then execute the delam itself.
We guard for last second delam strat changes here, mostly because some have diff messages.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#proc/discharge_energy">discharge_energy</a></th><td>Depletes a portion of the accumulated energy for the given key and returns it. Used for discharging energy from the supermatter.
Args:</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#proc/get_integrity_percent">get_integrity_percent</a></th><td>Returns the integrity percent of the Supermatter. No rounding made yet, round it yourself.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#proc/get_status">get_status</a></th><td>Encodes the current state of the supermatter.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#proc/holiday_hat_examine">holiday_hat_examine</a></th><td>Adds the hat flavor text when examined</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#proc/holiday_item_interaction">holiday_item_interaction</a></th><td>Consume the santa hat and add it as an overlay</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#proc/log_activation">log_activation</a></th><td></td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#proc/set_delam">set_delam</a></th><td>Sets the delam of our sm.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#proc/sm_ui_data">sm_ui_data</a></th><td>Returns data that are exclusively about this sm.</td></tr><tr><th><a href="obj/machinery/power/supermatter_crystal.html#proc/tram_contents_consume">tram_contents_consume</a></th><td>Consume things that run into the supermatter from the tram. The tram calls forceMove (doesn't call Bump/ed) and not Move, and I'm afraid changing it will do something chaotic</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/absorbed_gasmix"><aside class="declaration">var </aside>absorbed_gasmix <aside>– /<a href="datum.html">datum</a>/<a href="datum/gas_mixture.html">gas_mixture</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L41"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 41"></a></h3><p>The gasmix we just recently absorbed. Tile's air multiplied by absorption_ratio</p><h3 id="var/absorption_ratio"><aside class="declaration">var </aside>absorption_ratio <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L39"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 39"></a></h3><p>The portion of the gasmix we're on that we should remove</p><h3 id="var/activation_logged"><aside class="declaration">var </aside>activation_logged <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L124"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 124"></a></h3><p>Boolean used to log the first activation of the SM.</p><h3 id="var/bullet_energy"><aside class="declaration">var </aside>bullet_energy <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L114"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 114"></a></h3><p>How much the bullets damage should be multiplied by when it is added to the internal variables</p><h3 id="var/common_radio_cooldown"><aside class="declaration">var </aside>common_radio_cooldown <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L190"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 190"></a></h3><p>Cooldown for sending emergency alerts to the common radio channel</p><h3 id="var/countdown"><aside class="declaration">var </aside>countdown <aside>– /<a href="obj.html">obj</a>/effect/countdown/supermatter</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L127"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 127"></a></h3><p>An effect we show to admins and ghosts the percentage of delam we're at</p><h3 id="var/current_gas_behavior"><aside class="declaration">var </aside>current_gas_behavior <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L43"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 43"></a></h3><p>The current gas behaviors for this particular crystal</p><h3 id="var/damage"><aside class="declaration">var </aside>damage <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L50"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 50"></a></h3><p>The amount of damage we have currently.</p><h3 id="var/damage_archived"><aside class="declaration">var </aside>damage_archived <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L53"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 53"></a></h3><p>The damage we had before this cycle.
Used to check if we are currently taking damage or healing.</p><h3 id="var/danger_point"><aside class="declaration">var </aside>danger_point <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L73"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 73"></a></h3><p>The point at which we consider the supermatter to be [SUPERMATTER_STATUS_DANGER]
Spawns anomalies when more damaged than this too.</p><h3 id="var/delam_priority"><aside class="declaration">var </aside>delam_priority <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L178"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 178"></a></h3><p>Whether the sm is forced in a specific delamination_strategy or not. All truthy values means it's forced.
Only values greater or equal to the current one can change the strat.</p><h3 id="var/delamination_strategy"><aside class="declaration">var </aside>delamination_strategy <aside>– /<a href="datum.html">datum</a>/<a href="datum/sm_delam.html">sm_delam</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L175"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 175"></a></h3><p>How we are delaminating.</p><h3 id="var/disable_damage"><aside class="declaration">var </aside>disable_damage <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L142"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 142"></a></h3><p>Disables all methods of taking damage.</p><h3 id="var/disable_gas"><aside class="declaration">var </aside>disable_gas <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L146"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 146"></a></h3><p>Disables the calculation of gas effects and production of waste.
SM still &quot;breathes&quot; though, still takes gas and spits it out. Nothing is done on them though.
Cleaner code this way. Get rid of if it's too wasteful.</p><h3 id="var/disable_power_change"><aside class="declaration">var </aside>disable_power_change <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L148"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 148"></a></h3><p>Disables power changes.</p><h3 id="var/disable_process"><aside class="declaration">var </aside>disable_process <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L152"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 152"></a></h3><p>Disables the SM's proccessing totally when set to SM_PROCESS_DISABLED.
Temporary disables the processing when it's set to SM_PROCESS_TIMESTOP.
Make sure absorbed_gasmix and gas_percentage isnt null if this is on SM_PROCESS_DISABLED.</p><h3 id="var/emergency_point"><aside class="declaration">var </aside>emergency_point <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L75"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 75"></a></h3><p>The point at which we consider the supermatter to be [SUPERMATTER_STATUS_EMERGENCY]</p><h3 id="var/explosion_point"><aside class="declaration">var </aside>explosion_point <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L78"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 78"></a></h3><p>The point at which we delam [SUPERMATTER_STATUS_DELAMINATING].</p><h3 id="var/explosion_power"><aside class="declaration">var </aside>explosion_power <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L82"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 82"></a></h3><p>A scaling value that affects the severity of explosions.</p><h3 id="var/external_damage_immediate"><aside class="declaration">var </aside>external_damage_immediate <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L109"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 109"></a></h3><p>External damage that are added to the sm on next <a href="obj/machinery.html#proc/process_atmos" title="/obj/machinery">/obj/machinery/power/supermatter_crystal/process_atmos</a> call.
SM will not take damage if its health is lower than emergency point.</p><h3 id="var/external_power_immediate"><aside class="declaration">var </aside>external_power_immediate <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L105"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 105"></a></h3><p>External power that are added to the sm on next <a href="obj/machinery.html#proc/process_atmos" title="/obj/machinery">/obj/machinery/power/supermatter_crystal/process_atmos</a> call.</p><h3 id="var/external_power_trickle"><aside class="declaration">var </aside>external_power_trickle <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L103"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 103"></a></h3><p>External power that are added over time instead of immediately.</p><h3 id="var/final_countdown"><aside class="declaration">var </aside>final_countdown <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L80"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 80"></a></h3><p>Are we exploding?</p><h3 id="var/gas_heat_modifier"><aside class="declaration">var </aside>gas_heat_modifier <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L92"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 92"></a></h3><p>Affects the heat our SM makes.</p><h3 id="var/gas_heat_power_generation"><aside class="declaration">var </aside>gas_heat_power_generation <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L100"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 100"></a></h3><p>Affects the power gain the SM experiances from heat.</p><h3 id="var/gas_heat_resistance"><aside class="declaration">var </aside>gas_heat_resistance <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L94"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 94"></a></h3><p>Affects the minimum point at which the SM takes heat damage</p><h3 id="var/gas_percentage"><aside class="declaration">var </aside>gas_percentage <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L89"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 89"></a></h3><p>The list of gases mapped against their current comp.
We use this to calculate different values the supermatter uses, like power or heat resistance.
Ranges from 0 to 1</p><h3 id="var/gas_power_transmission_rate"><aside class="declaration">var </aside>gas_power_transmission_rate <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L98"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 98"></a></h3><p>Affects the amount of power the main SM zap makes.</p><h3 id="var/gas_powerloss_inhibition"><aside class="declaration">var </aside>gas_powerloss_inhibition <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L96"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 96"></a></h3><p>How much power decay is negated. Complete power decay negation at 1.</p><h3 id="var/gl_uid"><aside class="declaration">var </aside>gl_uid <aside>– /static</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L34"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 34"></a></h3><p>The amount of supermatters that have been created this round</p><h3 id="var/hallucination_power"><aside class="declaration">var </aside>hallucination_power <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L116"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 116"></a></h3><p>How much hallucination should we produce per unit of power?</p><h3 id="var/holiday_lights"><aside class="declaration">var </aside>holiday_lights <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L187"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 187"></a></h3><p>If the SM is decorated with holiday lights</p><h3 id="var/hue_angle_shift"><aside class="declaration">var </aside>hue_angle_shift <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L166"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 166"></a></h3><p>Hue shift of the zaps color based on the power of the crystal</p><h3 id="var/include_in_cims"><aside class="declaration">var </aside>include_in_cims <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L163"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 163"></a></h3><p>Do we show this crystal in the CIMS modular program</p><h3 id="var/internal_energy"><aside class="declaration">var </aside>internal_energy <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L46"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 46"></a></h3><p>Refered to as EER on the monitor. This value effects gas output, damage, and power generation.</p><h3 id="var/is_main_engine"><aside class="declaration">var </aside>is_main_engine <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L130"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 130"></a></h3><p>Only main engines can have their sliver stolen, can trigger cascades, and can spawn stationwide anomalies.</p><h3 id="var/last_accent_sound"><aside class="declaration">var </aside>last_accent_sound <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L137"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 137"></a></h3><p>cooldown tracker for accent sounds</p><h3 id="var/last_energy_accumulation_perspective_machines"><aside class="declaration">var </aside>last_energy_accumulation_perspective_machines <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L157"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 157"></a></h3><p>Stores the tick of the machines subsystem of when the last zap energy accumulation occurred. Gives a passage of time in the perspective of SSmachines.</p><h3 id="var/last_high_energy_accumulation_perspective_machines"><aside class="declaration">var </aside>last_high_energy_accumulation_perspective_machines <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L159"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 159"></a></h3><p>Same as [last_energy_accumulation_perspective_machines], but based around the high energy zaps found in handle_high_power().</p><h3 id="var/last_power_zap"><aside class="declaration">var </aside>last_power_zap <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L155"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 155"></a></h3><p>Stores the time of when the last zap occurred</p><h3 id="var/lastwarning"><aside class="declaration">var </aside>lastwarning <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L84"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 84"></a></h3><p>Time in 1/10th of seconds since the last sent warning</p><h3 id="var/moveable"><aside class="declaration">var </aside>moveable <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L134"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 134"></a></h3><p>Can it be moved?</p><h3 id="var/powerloss_linear_offset"><aside class="declaration">var </aside>powerloss_linear_offset <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L172"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 172"></a></h3><p>The offset of the linear powerloss function set so the transition is differentiable.</p><h3 id="var/powerloss_linear_threshold"><aside class="declaration">var </aside>powerloss_linear_threshold <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L170"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 170"></a></h3><p>The power threshold required to transform the powerloss function into a linear function from a cubic function.</p><h3 id="var/psy_coeff"><aside class="declaration">var </aside>psy_coeff <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L139"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 139"></a></h3><p>Var that increases from 0 to 1 when a psychologist is nearby, and decreases in the same way</p><h3 id="var/radio"><aside class="declaration">var </aside>radio <aside>– /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/radio.html">radio</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L119"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 119"></a></h3><p>Our internal radio</p><h3 id="var/radio_key"><aside class="declaration">var </aside>radio_key <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L121"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 121"></a></h3><p>The key our internal radio uses</p><h3 id="var/saviors"><aside class="declaration">var </aside>saviors <aside>– /list/<a href="datum.html">datum</a>/<a href="datum/weakref.html">weakref</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L181"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 181"></a></h3><p>Lazy list of the crazy engineers who managed to turn a cascading engine around.</p><h3 id="var/soundloop"><aside class="declaration">var </aside>soundloop <aside>– /<a href="datum.html">datum</a>/<a href="datum/looping_sound.html">looping_sound</a>/supermatter</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L132"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 132"></a></h3><p>Our soundloop</p><h3 id="var/supermatter_sliver_removed"><aside class="declaration">var </aside>supermatter_sliver_removed <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L184"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 184"></a></h3><p>If a sliver of the supermatter has been removed. Almost certainly by a traitor. Lowers the delamination countdown time.</p><h3 id="var/temp_limit"><aside class="declaration">var </aside>temp_limit <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L61"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 61"></a></h3><p>The temperature at which we start taking damage</p><h3 id="var/uid"><aside class="declaration">var </aside>uid <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L32"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 32"></a></h3><p>The id of our supermatter</p><h3 id="var/warning_point"><aside class="declaration">var </aside>warning_point <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L69"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 69"></a></h3><p>The point at which we consider the supermatter to be [SUPERMATTER_STATUS_WARNING]</p><h3 id="var/warp"><aside class="declaration">var </aside>warp <aside>– /<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/warp_effect</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L168"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 168"></a></h3><p>Reference to the warp effect</p><h3 id="var/waste_multiplier"><aside class="declaration">var </aside>waste_multiplier <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L65"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 65"></a></h3><p>Multiplies our waste gas amount and temperature.</p><h3 id="var/zap_cutoff"><aside class="declaration">var </aside>zap_cutoff <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L112"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 112"></a></h3><p>The cutoff for a bolt jumping, grows with heat, lowers with higher mol count,</p><h3 id="var/zap_energy_accumulation"><aside class="declaration">var </aside>zap_energy_accumulation <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L161"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 161"></a></h3><p>Accumulated energy to be transferred from supermatter zaps.</p><h3 id="var/zap_icon"><aside class="declaration">var </aside>zap_icon <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L36"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 36"></a></h3><p>Tracks the bolt color we are using</p><h3 id="var/zap_transmission_rate"><aside class="declaration">var </aside>zap_transmission_rate <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L57"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 57"></a></h3><p>The zap power transmission over internal energy. W/MeV.</p><h2 id="proc">Proc Details</h2><h3 id="proc/accumulate_energy"><aside class="declaration">proc </aside>accumulate_energy<aside>(key, energy)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L909"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 909"></a></aside></h3><p>Accumulates energy for the zap_energy_accumulation key.
Args:</p>
<ul>
<li>key: The zap energy accumulation key to use.</li>
<li>energy: The amount of energy to accumulate.
Returns: The accumulated energy for that key.</li>
</ul><h3 id="proc/calculate_damage"><aside class="declaration">proc </aside>calculate_damage<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L831"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 831"></a></aside></h3><p>Perform calculation for the damage taken or healed.
Description of each factors can be found in the defines.</p>
<p>Updates:
<a href="obj/machinery/power/supermatter_crystal.html#var/damage" title="/obj/machinery/power/supermatter_crystal">/obj/machinery/power/supermatter_crystal/var/damage</a></p>
<p>Returns: The factors that have influenced the calculation. list[FACTOR_DEFINE] = number</p><h3 id="proc/calculate_gases"><aside class="declaration">proc </aside>calculate_gases<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L648"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 648"></a></aside></h3><p>Perform calculation for variables that depend on gases.
Description of each factors can be found in the defines.</p>
<p>Updates:
[/obj/machinery/power/supermatter_crystal/var/list/gas_percentage]
<a href="obj/machinery/power/supermatter_crystal.html#var/gas_power_transmission_rate" title="/obj/machinery/power/supermatter_crystal">/obj/machinery/power/supermatter_crystal/var/gas_power_transmission_rate</a>
<a href="obj/machinery/power/supermatter_crystal.html#var/gas_heat_modifier" title="/obj/machinery/power/supermatter_crystal">/obj/machinery/power/supermatter_crystal/var/gas_heat_modifier</a>
<a href="obj/machinery/power/supermatter_crystal.html#var/gas_heat_resistance" title="/obj/machinery/power/supermatter_crystal">/obj/machinery/power/supermatter_crystal/var/gas_heat_resistance</a>
<a href="obj/machinery/power/supermatter_crystal.html#var/gas_heat_power_generation" title="/obj/machinery/power/supermatter_crystal">/obj/machinery/power/supermatter_crystal/var/gas_heat_power_generation</a>
<a href="obj/machinery/power/supermatter_crystal.html#var/gas_powerloss_inhibition" title="/obj/machinery/power/supermatter_crystal">/obj/machinery/power/supermatter_crystal/var/gas_powerloss_inhibition</a></p>
<p>Returns: null</p><h3 id="proc/calculate_internal_energy"><aside class="declaration">proc </aside>calculate_internal_energy<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L690"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 690"></a></aside></h3><p>Perform calculation for power lost and gained this tick.
Description of each factors can be found in the defines.</p>
<p>Updates:
<a href="obj/machinery/power/supermatter_crystal.html#var/internal_energy" title="/obj/machinery/power/supermatter_crystal">/obj/machinery/power/supermatter_crystal/var/internal_energy</a>
<a href="obj/machinery/power/supermatter_crystal.html#var/external_power_trickle" title="/obj/machinery/power/supermatter_crystal">/obj/machinery/power/supermatter_crystal/var/external_power_trickle</a>
<a href="obj/machinery/power/supermatter_crystal.html#var/external_power_immediate" title="/obj/machinery/power/supermatter_crystal">/obj/machinery/power/supermatter_crystal/var/external_power_immediate</a></p>
<p>Returns: The factors that have influenced the calculation. list[FACTOR_DEFINE] = number</p><h3 id="proc/calculate_temp_limit"><aside class="declaration">proc </aside>calculate_temp_limit<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L808"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 808"></a></aside></h3><p>Calculate at which temperature the sm starts taking damage.
heat limit is given by: (T0C+40) * (1 + gas heat res + psy_coeff)</p>
<p>Description of each factors can be found in the defines.</p>
<p>Updates:
<a href="obj/machinery/power/supermatter_crystal.html#var/temp_limit" title="/obj/machinery/power/supermatter_crystal">/obj/machinery/power/supermatter_crystal/var/temp_limit</a></p>
<p>Returns: The factors that have influenced the calculation. list[FACTOR_DEFINE] = number</p><h3 id="proc/calculate_waste_multiplier"><aside class="declaration">proc </aside>calculate_waste_multiplier<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L782"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 782"></a></aside></h3><p>Perform calculation for the waste multiplier.
This number affects the temperature, plasma, and oxygen of the waste gas.
Multiplier is applied to energy for plasma and temperature but temperature for oxygen.</p>
<p>Description of each factors can be found in the defines.</p>
<p>Updates:
<a href="obj/machinery/power/supermatter_crystal.html#var/waste_multiplier" title="/obj/machinery/power/supermatter_crystal">/obj/machinery/power/supermatter_crystal/var/waste_multiplier</a></p>
<p>Returns: The factors that have influenced the calculation. list[FACTOR_DEFINE] = number</p><h3 id="proc/calculate_zap_transmission_rate"><aside class="declaration">proc </aside>calculate_zap_transmission_rate<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L759"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 759"></a></aside></h3><p>Perform calculation for the main zap power transmission rate in W/MeV.
Description of each factors can be found in the defines.</p>
<p>Updates:
<a href="obj/machinery/power/supermatter_crystal.html#var/zap_transmission_rate" title="/obj/machinery/power/supermatter_crystal">/obj/machinery/power/supermatter_crystal/var/zap_transmission_rate</a></p>
<p>Returns: The factors that have influenced the calculation. list[FACTOR_DEFINE] = number</p><h3 id="proc/count_down"><aside class="declaration">proc </aside>count_down<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L560"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 560"></a></aside></h3><p>Count down, spout some messages, and then execute the delam itself.
We guard for last second delam strat changes here, mostly because some have diff messages.</p>
<p>By last second changes, we mean that it's possible for say, a tesla delam to
just explode normally if at the absolute last second it loses power and switches to default one.
Even after countdown is already in progress.</p><h3 id="proc/discharge_energy"><aside class="declaration">proc </aside>discharge_energy<aside>(key, portion)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L920"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 920"></a></aside></h3><p>Depletes a portion of the accumulated energy for the given key and returns it. Used for discharging energy from the supermatter.
Args:</p>
<ul>
<li>key: The zap energy accumulation key to use.</li>
<li>portion: The portion of the accumulated energy that gets discharged.
Returns: The discharged energy for that key.</li>
</ul><h3 id="proc/get_integrity_percent"><aside class="declaration">proc </aside>get_integrity_percent<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L505"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 505"></a></aside></h3><p>Returns the integrity percent of the Supermatter. No rounding made yet, round it yourself.</p><h3 id="proc/get_status"><aside class="declaration">proc </aside>get_status<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L487"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 487"></a></aside></h3><p>Encodes the current state of the supermatter.</p><h3 id="proc/holiday_hat_examine"><aside class="declaration">proc </aside>holiday_hat_examine<aside>(/<a href="atom.html">atom</a>/source, /<a href="mob.html">mob</a>/user, /list/examine_list)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L1099"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 1099"></a></aside></h3><p>Adds the hat flavor text when examined</p><h3 id="proc/holiday_item_interaction"><aside class="declaration">proc </aside>holiday_item_interaction<aside>(source, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/item, /list/modifiers)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L1086"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 1086"></a></aside></h3><p>Consume the santa hat and add it as an overlay</p><h3 id="proc/log_activation"><aside class="declaration">proc </aside>log_activation<aside>(who, how)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L736"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 736"></a></aside></h3><ul>
<li>
<p>Log when the supermatter is activated for the first time.</p>
</li>
<li>
<p>Everything that can increase <a href="obj/machinery/power/supermatter_crystal.html#var/internal_energy" title="/obj/machinery/power/supermatter_crystal">/obj/machinery/power/supermatter_crystal/var/internal_energy</a></p>
</li>
<li>
<p>either directly or indirectly MUST call this.</p>
</li>
<li>
<p>Arguments:</p>
</li>
<li>
<ul>
<li>who - Either a string or a datum. Whatever gave power to the SM. Mandatory.</li>
</ul>
</li>
<li>
<ul>
<li>how - A datum. How they powered it. Optional.</li>
</ul>
</li>
</ul><h3 id="proc/set_delam"><aside class="declaration">proc </aside>set_delam<aside>(priority, manual_delam_path)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L876"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 876"></a></aside></h3><p>Sets the delam of our sm.</p>
<p>Arguments:</p>
<ul>
<li>priority: Truthy values means a forced delam. If current forced_delam is higher than priority we dont run.
Set to a number higher than <a href="code/__DEFINES/supermatter.html#define/SM_DELAM_PRIO_IN_GAME" title="SM_DELAM_PRIO_IN_GAME">SM_DELAM_PRIO_IN_GAME</a> to fully force an admin delam.</li>
<li>delam_path: Typepath of a <a href="datum/sm_delam.html" title="/datum/sm_delam">/datum/sm_delam</a>. <a href="code/__DEFINES/supermatter.html#define/SM_DELAM_STRATEGY_PURGE" title="SM_DELAM_STRATEGY_PURGE">SM_DELAM_STRATEGY_PURGE</a> means reset and put prio back to zero.</li>
</ul>
<p>Returns: Not used for anything, just returns true on successful set, manual and automatic. Helps admins check stuffs.</p><h3 id="proc/sm_ui_data"><aside class="declaration">proc </aside>sm_ui_data<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter.dm#L388"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter.dm 388"></a></aside></h3><p>Returns data that are exclusively about this sm.</p><h3 id="proc/tram_contents_consume"><aside class="declaration">proc </aside>tram_contents_consume<aside>(/<a href="datum.html">datum</a>/source, /list/tram_contents)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/power/supermatter/supermatter_hit_procs.dm#L2"><img src="git.png" width="16" height="16" title="code/modules/power/supermatter/supermatter_hit_procs.dm 2"></a></aside></h3><p>Consume things that run into the supermatter from the tram. The tram calls forceMove (doesn't call Bump/ed) and not Move, and I'm afraid changing it will do something chaotic</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>