<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/machinery/fax - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/machinery/fax.html#var">Var Details</a> - <a href="obj/machinery/fax.html#proc">Proc Details</a></header><main><h1>fax <aside>/<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/fax.html">fax</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/paperwork/fax.dm#L4"><img src="git.png" width="16" height="16" title="code/modules/paperwork/fax.dm 4"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/machinery/fax.html#var/allow_exotic_faxes">allow_exotic_faxes</a></th><td>If true you can fax things which strictly speaking are not paper.</td></tr><tr><th><a href="obj/machinery/fax.html#var/allowed_types">allowed_types</a></th><td>List of types which should always be allowed to be faxed</td></tr><tr><th><a href="obj/machinery/fax.html#var/exotic_types">exotic_types</a></th><td>List of types which should be allowed to be faxed if hacked</td></tr><tr><th><a href="obj/machinery/fax.html#var/fax_history">fax_history</a></th><td>This is where the dispatch and reception history for each fax is stored.</td></tr><tr><th><a href="obj/machinery/fax.html#var/fax_id">fax_id</a></th><td>The unique ID by which the fax will build a list of existing faxes.</td></tr><tr><th><a href="obj/machinery/fax.html#var/fax_name">fax_name</a></th><td>The name of the fax displayed in the list. Not necessarily unique to some EMAG jokes.</td></tr><tr><th><a href="obj/machinery/fax.html#var/hurl_contents">hurl_contents</a></th><td>If true we will eject faxes at speed rather than sedately place them into a tray.</td></tr><tr><th><a href="obj/machinery/fax.html#var/jammed">jammed</a></th><td>If true, the fax machine is jammed and needs cleaning</td></tr><tr><th><a href="obj/machinery/fax.html#var/loaded_item_ref">loaded_item_ref</a></th><td>A weak reference to an inserted object.</td></tr><tr><th><a href="obj/machinery/fax.html#var/seconds_electrified">seconds_electrified</a></th><td>World ticks the machine is electified for.</td></tr><tr><th><a href="obj/machinery/fax.html#var/special_networks">special_networks</a></th><td>List with a fake-networks(not a fax actually), for request manager.</td></tr><tr><th><a href="obj/machinery/fax.html#var/syndicate_network">syndicate_network</a></th><td>Necessary to hide syndicate faxes from the general list. Doesn't mean he's EMAGGED!</td></tr><tr><th><a href="obj/machinery/fax.html#var/visible_to_network">visible_to_network</a></th><td>True if the fax machine should be visible to other fax machines in general.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/machinery/fax.html#proc/animate_object_travel">animate_object_travel</a></th><td>Procedure for animating an object entering or leaving the fax machine.
Arguments:</td></tr><tr><th><a href="obj/machinery/fax.html#proc/can_load_item">can_load_item</a></th><td>Returns true if an item can be loaded into the fax machine.</td></tr><tr><th><a href="obj/machinery/fax.html#proc/clear_jam">clear_jam</a></th><td>Attempts to clean out a jammed machine using a passed item.
Returns true if successful.</td></tr><tr><th><a href="obj/machinery/fax.html#proc/emag_act">emag_act</a></th><td>Emag the device if the panel is open.
Emag does not bring you into the syndicate network, but makes it visible to you.</td></tr><tr><th><a href="obj/machinery/fax.html#proc/fax_name_exist">fax_name_exist</a></th><td>Checks fax names for a match.</td></tr><tr><th><a href="obj/machinery/fax.html#proc/find_overlay_state">find_overlay_state</a></th><td>Returns an appropriate icon state to represent a passed item.
Arguments:</td></tr><tr><th><a href="obj/machinery/fax.html#proc/history_add">history_add</a></th><td>A procedure that makes entries in the history of fax transactions.</td></tr><tr><th><a href="obj/machinery/fax.html#proc/history_clear">history_clear</a></th><td>Clears the history of fax operations.</td></tr><tr><th><a href="obj/machinery/fax.html#proc/is_allowed_type">is_allowed_type</a></th><td>Returns true if an item is of a type which can currently be loaded into this fax machine.
This list expands if you snip a particular wire.</td></tr><tr><th><a href="obj/machinery/fax.html#proc/log_fax">log_fax</a></th><td>Records logs of bureacratic action
Arguments:</td></tr><tr><th><a href="obj/machinery/fax.html#proc/multitool_act">multitool_act</a></th><td>Using the multi-tool with the panel closed causes the fax network name to be renamed.</td></tr><tr><th><a href="obj/machinery/fax.html#proc/receive">receive</a></th><td>Procedure for accepting papers from another fax machine.</td></tr><tr><th><a href="obj/machinery/fax.html#proc/screwdriver_act">screwdriver_act</a></th><td>Open and close the wire panel.</td></tr><tr><th><a href="obj/machinery/fax.html#proc/send">send</a></th><td>The procedure for sending a paper to another fax machine.</td></tr><tr><th><a href="obj/machinery/fax.html#proc/shock">shock</a></th><td>Attempts to shock the passed user, returns true if they are shocked.</td></tr><tr><th><a href="obj/machinery/fax.html#proc/travel_animation_complete">travel_animation_complete</a></th><td>Called when the travel animation should end. Reset animation and overlay states.
Arguments:</td></tr><tr><th><a href="obj/machinery/fax.html#proc/vend_item">vend_item</a></th><td>Actually vends an item out of the fax machine.
Moved into its own proc to allow a delay for the animation.
This will either deposit the item on the fax machine, or throw it if you have hacked a wire.
Arguments:</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/allow_exotic_faxes"><aside class="declaration">var </aside>allow_exotic_faxes <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/paperwork/fax.dm#L32"><img src="git.png" width="16" height="16" title="code/modules/paperwork/fax.dm 32"></a></h3><p>If true you can fax things which strictly speaking are not paper.</p><h3 id="var/allowed_types"><aside class="declaration">var </aside>allowed_types <aside>– /static/list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/paperwork/fax.dm#L36"><img src="git.png" width="16" height="16" title="code/modules/paperwork/fax.dm 36"></a></h3><p>List of types which should always be allowed to be faxed</p><h3 id="var/exotic_types"><aside class="declaration">var </aside>exotic_types <aside>– /static/list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/paperwork/fax.dm#L43"><img src="git.png" width="16" height="16" title="code/modules/paperwork/fax.dm 43"></a></h3><p>List of types which should be allowed to be faxed if hacked</p><h3 id="var/fax_history"><aside class="declaration">var </aside>fax_history <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/paperwork/fax.dm#L34"><img src="git.png" width="16" height="16" title="code/modules/paperwork/fax.dm 34"></a></h3><p>This is where the dispatch and reception history for each fax is stored.</p><h3 id="var/fax_id"><aside class="declaration">var </aside>fax_id <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/paperwork/fax.dm#L16"><img src="git.png" width="16" height="16" title="code/modules/paperwork/fax.dm 16"></a></h3><p>The unique ID by which the fax will build a list of existing faxes.</p><h3 id="var/fax_name"><aside class="declaration">var </aside>fax_name <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/paperwork/fax.dm#L18"><img src="git.png" width="16" height="16" title="code/modules/paperwork/fax.dm 18"></a></h3><p>The name of the fax displayed in the list. Not necessarily unique to some EMAG jokes.</p><h3 id="var/hurl_contents"><aside class="declaration">var </aside>hurl_contents <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/paperwork/fax.dm#L30"><img src="git.png" width="16" height="16" title="code/modules/paperwork/fax.dm 30"></a></h3><p>If true we will eject faxes at speed rather than sedately place them into a tray.</p><h3 id="var/jammed"><aside class="declaration">var </aside>jammed <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/paperwork/fax.dm#L24"><img src="git.png" width="16" height="16" title="code/modules/paperwork/fax.dm 24"></a></h3><p>If true, the fax machine is jammed and needs cleaning</p><h3 id="var/loaded_item_ref"><aside class="declaration">var </aside>loaded_item_ref <aside>– /<a href="datum.html">datum</a>/<a href="datum/weakref.html">weakref</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/paperwork/fax.dm#L20"><img src="git.png" width="16" height="16" title="code/modules/paperwork/fax.dm 20"></a></h3><p>A weak reference to an inserted object.</p><h3 id="var/seconds_electrified"><aside class="declaration">var </aside>seconds_electrified <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/paperwork/fax.dm#L22"><img src="git.png" width="16" height="16" title="code/modules/paperwork/fax.dm 22"></a></h3><p>World ticks the machine is electified for.</p><h3 id="var/special_networks"><aside class="declaration">var </aside>special_networks <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/paperwork/fax.dm#L59"><img src="git.png" width="16" height="16" title="code/modules/paperwork/fax.dm 59"></a></h3><p>List with a fake-networks(not a fax actually), for request manager.</p><h3 id="var/syndicate_network"><aside class="declaration">var </aside>syndicate_network <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/paperwork/fax.dm#L26"><img src="git.png" width="16" height="16" title="code/modules/paperwork/fax.dm 26"></a></h3><p>Necessary to hide syndicate faxes from the general list. Doesn't mean he's EMAGGED!</p><h3 id="var/visible_to_network"><aside class="declaration">var </aside>visible_to_network <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/paperwork/fax.dm#L28"><img src="git.png" width="16" height="16" title="code/modules/paperwork/fax.dm 28"></a></h3><p>True if the fax machine should be visible to other fax machines in general.</p><h2 id="proc">Proc Details</h2><h3 id="proc/animate_object_travel"><aside class="declaration">proc </aside>animate_object_travel<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/item, animation_state, overlay_state)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/paperwork/fax.dm#L415"><img src="git.png" width="16" height="16" title="code/modules/paperwork/fax.dm 415"></a></aside></h3><p>Procedure for animating an object entering or leaving the fax machine.
Arguments:</p>
<ul>
<li>item - The object which is travelling.</li>
<li>animation_state - An icon state to apply to the fax machine.</li>
<li>overlay_state - An icon state to apply as an overlay to the fax machine.</li>
</ul><h3 id="proc/can_load_item"><aside class="declaration">proc </aside>can_load_item<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/item)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/paperwork/fax.dm#L231"><img src="git.png" width="16" height="16" title="code/modules/paperwork/fax.dm 231"></a></aside></h3><p>Returns true if an item can be loaded into the fax machine.</p><h3 id="proc/clear_jam"><aside class="declaration">proc </aside>clear_jam<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/item, /<a href="mob.html">mob</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/paperwork/fax.dm#L206"><img src="git.png" width="16" height="16" title="code/modules/paperwork/fax.dm 206"></a></aside></h3><p>Attempts to clean out a jammed machine using a passed item.
Returns true if successful.</p><h3 id="proc/emag_act"><aside class="parent"><a title="/atom" href="atom.html#proc/emag_act">↑</a></aside>emag_act<aside>(/<a href="mob.html">mob</a>/user, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/card.html">card</a>/emag/emag_card)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/paperwork/fax.dm#L142"><img src="git.png" width="16" height="16" title="code/modules/paperwork/fax.dm 142"></a></aside></h3><p>Emag the device if the panel is open.
Emag does not bring you into the syndicate network, but makes it visible to you.</p><h3 id="proc/fax_name_exist"><aside class="declaration">proc </aside>fax_name_exist<aside>(new_fax_name)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/paperwork/fax.dm#L497"><img src="git.png" width="16" height="16" title="code/modules/paperwork/fax.dm 497"></a></aside></h3><p>Checks fax names for a match.</p>
<p>Called to check the new fax name against the names of other faxes to prevent the use of identical names.
Arguments:</p>
<ul>
<li>new_fax_name - The text of the name to be checked for a match.</li>
</ul><h3 id="proc/find_overlay_state"><aside class="declaration">proc </aside>find_overlay_state<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/item, state_prefix)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/paperwork/fax.dm#L436"><img src="git.png" width="16" height="16" title="code/modules/paperwork/fax.dm 436"></a></aside></h3><p>Returns an appropriate icon state to represent a passed item.
Arguments:</p>
<ul>
<li>item - Item to interrogate.</li>
<li>state_prefix - Icon state action prefix to mutate.</li>
</ul><h3 id="proc/history_add"><aside class="declaration">proc </aside>history_add<aside>(history_type, history_fax_name)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/paperwork/fax.dm#L479"><img src="git.png" width="16" height="16" title="code/modules/paperwork/fax.dm 479"></a></aside></h3><p>A procedure that makes entries in the history of fax transactions.</p>
<p>Called to record the operation in the fax history list.
Records the type of operation, the name of the fax machine with which the operation was performed, and the station time.
Arguments:</p>
<ul>
<li>history_type - Type of operation. By default, &quot;Send&quot; and &quot;Receive&quot; should be used.</li>
<li>history_fax_name - The name of the fax machine that performed the operation.</li>
</ul><h3 id="proc/history_clear"><aside class="declaration">proc </aside>history_clear<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/paperwork/fax.dm#L487"><img src="git.png" width="16" height="16" title="code/modules/paperwork/fax.dm 487"></a></aside></h3><p>Clears the history of fax operations.</p><h3 id="proc/is_allowed_type"><aside class="declaration">proc </aside>is_allowed_type<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/item)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/paperwork/fax.dm#L243"><img src="git.png" width="16" height="16" title="code/modules/paperwork/fax.dm 243"></a></aside></h3><p>Returns true if an item is of a type which can currently be loaded into this fax machine.
This list expands if you snip a particular wire.</p><h3 id="proc/log_fax"><aside class="declaration">proc </aside>log_fax<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/sent, destination_id, name)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/paperwork/fax.dm#L360"><img src="git.png" width="16" height="16" title="code/modules/paperwork/fax.dm 360"></a></aside></h3><p>Records logs of bureacratic action
Arguments:</p>
<ul>
<li>sent - The object being sent</li>
<li>destination_id - The unique ID of the fax machine</li>
<li>name - The friendly name of the fax machine, but these can be spoofed so the ID is also required</li>
</ul><h3 id="proc/multitool_act"><aside class="parent"><a title="/atom" href="atom.html#proc/multitool_act">↑</a></aside>multitool_act<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/I)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/paperwork/fax.dm#L171"><img src="git.png" width="16" height="16" title="code/modules/paperwork/fax.dm 171"></a></aside></h3><p>Using the multi-tool with the panel closed causes the fax network name to be renamed.</p><h3 id="proc/receive"><aside class="declaration">proc </aside>receive<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/loaded, sender_name)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/paperwork/fax.dm#L401"><img src="git.png" width="16" height="16" title="code/modules/paperwork/fax.dm 401"></a></aside></h3><p>Procedure for accepting papers from another fax machine.</p>
<p>The procedure is called in proc/send() of the other fax. It receives a paper-like object and &quot;prints&quot; it.
Arguments:</p>
<ul>
<li>loaded - The object to be printed.</li>
<li>sender_name - The sender's name, which will be displayed in the message and recorded in the history of operations.</li>
</ul><h3 id="proc/screwdriver_act"><aside class="parent"><a title="/atom" href="atom.html#proc/screwdriver_act">↑</a></aside>screwdriver_act<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/screwdriver)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/paperwork/fax.dm#L162"><img src="git.png" width="16" height="16" title="code/modules/paperwork/fax.dm 162"></a></aside></h3><p>Open and close the wire panel.</p><h3 id="proc/send"><aside class="declaration">proc </aside>send<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/loaded, id)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/paperwork/fax.dm#L377"><img src="git.png" width="16" height="16" title="code/modules/paperwork/fax.dm 377"></a></aside></h3><p>The procedure for sending a paper to another fax machine.</p>
<p>The object is called inside /obj/machinery/fax to send the thing to another fax machine.
The procedure searches among all faxes for the desired fax ID and calls proc/receive() on that fax.
If the item is sent successfully, it returns TRUE.
Arguments:</p>
<ul>
<li>loaded - The object to be sent.</li>
<li>id - The network ID of the fax machine you want to send the item to.</li>
</ul><h3 id="proc/shock"><aside class="declaration">proc </aside>shock<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user, chance)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/paperwork/fax.dm#L510"><img src="git.png" width="16" height="16" title="code/modules/paperwork/fax.dm 510"></a></aside></h3><p>Attempts to shock the passed user, returns true if they are shocked.</p>
<p>Arguments:</p>
<ul>
<li>user - the user to shock</li>
<li>chance - probability the shock happens</li>
</ul><h3 id="proc/travel_animation_complete"><aside class="declaration">proc </aside>travel_animation_complete<aside>(/mutable_appearance/remove_overlay)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/paperwork/fax.dm#L426"><img src="git.png" width="16" height="16" title="code/modules/paperwork/fax.dm 426"></a></aside></h3><p>Called when the travel animation should end. Reset animation and overlay states.
Arguments:</p>
<ul>
<li>remove_overlay - Overlay to remove.</li>
</ul><h3 id="proc/vend_item"><aside class="declaration">proc </aside>vend_item<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/vend)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/paperwork/fax.dm#L462"><img src="git.png" width="16" height="16" title="code/modules/paperwork/fax.dm 462"></a></aside></h3><p>Actually vends an item out of the fax machine.
Moved into its own proc to allow a delay for the animation.
This will either deposit the item on the fax machine, or throw it if you have hacked a wire.
Arguments:</p>
<ul>
<li>vend - Item to vend from the fax machine.</li>
</ul></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/c41b333c9bc46606d2c5d5b517f7836d5953fbfd">c41b333</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>