<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/machinery/atmospherics/components - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/machinery/atmospherics/components.html#var">Var Details</a> - <a href="obj/machinery/atmospherics/components.html#proc">Proc Details</a></header><main><h1>components <aside>/<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/atmospherics.html">atmospherics</a>/<a href="obj/machinery/atmospherics/components.html">components</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/components_base.dm#L4"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/components_base.dm 4"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/machinery/atmospherics/components.html#var/airs">airs</a></th><td>Stores the gasmix for each node, used in components</td></tr><tr><th><a href="obj/machinery/atmospherics/components.html#var/custom_reconcilation">custom_reconcilation</a></th><td>Handles whether the custom reconcilation handling should be used</td></tr><tr><th><a href="obj/machinery/atmospherics/components.html#var/parents">parents</a></th><td>Stores the parent pipeline, used in components</td></tr><tr><th><a href="obj/machinery/atmospherics/components.html#var/shift_underlay_only">shift_underlay_only</a></th><td>When the component is on a non default layer should we shift everything? Or just the underlay pipe</td></tr><tr><th><a href="obj/machinery/atmospherics/components.html#var/underfloor_state">underfloor_state</a></th><td>Current underfloor_accessibility state, determines if the component should show the pipe underneath it and what plane it renders on.</td></tr><tr><th><a href="obj/machinery/atmospherics/components.html#var/update_parents_after_rebuild">update_parents_after_rebuild</a></th><td>If this is queued for a rebuild this var signifies whether parents should be updated after it's done</td></tr><tr><th><a href="obj/machinery/atmospherics/components.html#var/welded">welded</a></th><td>Is the component welded?</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/machinery/atmospherics/components.html#proc/change_nodes_connection">change_nodes_connection</a></th><td>Easy way to toggle nodes connection and disconnection.</td></tr><tr><th><a href="obj/machinery/atmospherics/components.html#proc/connect_nodes">connect_nodes</a></th><td>Connects all nodes to ourselves, add us to the node's nodes.
Calls atmos_init() on the node and on us.</td></tr><tr><th><a href="obj/machinery/atmospherics/components.html#proc/crowbar_deconstruction_act">crowbar_deconstruction_act</a></th><td>Handles machinery deconstruction and unsafe pressure release</td></tr><tr><th><a href="obj/machinery/atmospherics/components.html#proc/disconnect_nodes">disconnect_nodes</a></th><td>Disconnects all nodes from ourselves, remove us from the node's nodes.
Nullify our parent pipenet</td></tr><tr><th><a href="obj/machinery/atmospherics/components.html#proc/hide_pipe">hide_pipe</a></th><td>Called in on_hide(), set the underfloor_state var to true or false depending on the situation, calls update_icon()</td></tr><tr><th><a href="obj/machinery/atmospherics/components.html#proc/nullify_pipenet">nullify_pipenet</a></th><td>Called by nullify_node(), used to remove the pipeline the component is attached to
Arguments:</td></tr><tr><th><a href="obj/machinery/atmospherics/components.html#proc/relocate_airs">relocate_airs</a></th><td>Handles air relocation to the pipenet/environment</td></tr><tr><th><a href="obj/machinery/atmospherics/components.html#proc/return_airs_for_reconcilation">return_airs_for_reconcilation</a></th><td>When this machine is in a pipenet that is reconciling airs, this proc can add airs to the calculation.
Can be either a list of airs or a single air mix.</td></tr><tr><th><a href="obj/machinery/atmospherics/components.html#proc/return_pipenets_for_reconcilation">return_pipenets_for_reconcilation</a></th><td>When this machine is in a pipenet that is reconciling airs, this proc can add pipelines to the calculation.
Can be either a list of pipenets or a single pipenet.</td></tr><tr><th><a href="obj/machinery/atmospherics/components.html#proc/update_icon_nopipes">update_icon_nopipes</a></th><td>Called by update_icon(), used individually by each component to determine the icon state without the pipe in consideration</td></tr><tr><th><a href="obj/machinery/atmospherics/components.html#proc/update_parents">update_parents</a></th><td>Called in most atmos processes and gas handling situations, update the parents pipelines of the devices connected to the source component
This way gases won't get stuck</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/airs"><aside class="declaration">var </aside>airs <aside>– /list/<a href="datum.html">datum</a>/<a href="datum/gas_mixture.html">gas_mixture</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/components_base.dm#L18"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/components_base.dm 18"></a></h3><p>Stores the gasmix for each node, used in components</p><h3 id="var/custom_reconcilation"><aside class="declaration">var </aside>custom_reconcilation <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/components_base.dm#L20"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/components_base.dm 20"></a></h3><p>Handles whether the custom reconcilation handling should be used</p><h3 id="var/parents"><aside class="declaration">var </aside>parents <aside>– /list/<a href="datum.html">datum</a>/<a href="datum/pipeline.html">pipeline</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/components_base.dm#L14"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/components_base.dm 14"></a></h3><p>Stores the parent pipeline, used in components</p><h3 id="var/shift_underlay_only"><aside class="declaration">var </aside>shift_underlay_only <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/components_base.dm#L12"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/components_base.dm 12"></a></h3><p>When the component is on a non default layer should we shift everything? Or just the underlay pipe</p><h3 id="var/underfloor_state"><aside class="declaration">var </aside>underfloor_state <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/components_base.dm#L10"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/components_base.dm 10"></a></h3><p>Current underfloor_accessibility state, determines if the component should show the pipe underneath it and what plane it renders on.</p><h3 id="var/update_parents_after_rebuild"><aside class="declaration">var </aside>update_parents_after_rebuild <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/components_base.dm#L16"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/components_base.dm 16"></a></h3><p>If this is queued for a rebuild this var signifies whether parents should be updated after it's done</p><h3 id="var/welded"><aside class="declaration">var </aside>welded <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/components_base.dm#L8"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/components_base.dm 8"></a></h3><p>Is the component welded?</p><h2 id="proc">Proc Details</h2><h3 id="proc/change_nodes_connection"><aside class="declaration">proc </aside>change_nodes_connection<aside>(disconnect)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/components_base.dm#L350"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/components_base.dm 350"></a></aside></h3><p>Easy way to toggle nodes connection and disconnection.</p>
<p>Arguments:</p>
<ul>
<li>disconnect - if TRUE, disconnects all nodes. If FALSE, connects all nodes.</li>
</ul><h3 id="proc/connect_nodes"><aside class="declaration">proc </aside>connect_nodes<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/components_base.dm#L335"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/components_base.dm 335"></a></aside></h3><p>Connects all nodes to ourselves, add us to the node's nodes.
Calls atmos_init() on the node and on us.</p><h3 id="proc/crowbar_deconstruction_act"><aside class="declaration">proc </aside>crowbar_deconstruction_act<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/tool, internal_pressure)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/components_base.dm#L254"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/components_base.dm 254"></a></aside></h3><p>Handles machinery deconstruction and unsafe pressure release</p><h3 id="proc/disconnect_nodes"><aside class="declaration">proc </aside>disconnect_nodes<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/components_base.dm#L321"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/components_base.dm 321"></a></aside></h3><p>Disconnects all nodes from ourselves, remove us from the node's nodes.
Nullify our parent pipenet</p><h3 id="proc/hide_pipe"><aside class="declaration">proc </aside>hide_pipe<aside>(underfloor_accessibility)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/components_base.dm#L60"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/components_base.dm 60"></a></aside></h3><p>Called in on_hide(), set the underfloor_state var to true or false depending on the situation, calls update_icon()</p><h3 id="proc/nullify_pipenet"><aside class="declaration">proc </aside>nullify_pipenet<aside>(/<a href="datum.html">datum</a>/<a href="datum/pipeline.html">pipeline</a>/reference)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/components_base.dm#L155"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/components_base.dm 155"></a></aside></h3><p>Called by nullify_node(), used to remove the pipeline the component is attached to
Arguments:</p>
<ul>
<li>-reference: the pipeline the component is attached to</li>
</ul><h3 id="proc/relocate_airs"><aside class="declaration">proc </aside>relocate_airs<aside>(/<a href="datum.html">datum</a>/<a href="datum/gas_mixture.html">gas_mixture</a>/to_release)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/components_base.dm#L371"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/components_base.dm 371"></a></aside></h3><p>Handles air relocation to the pipenet/environment</p><h3 id="proc/return_airs_for_reconcilation"><aside class="declaration">proc </aside>return_airs_for_reconcilation<aside>(/<a href="datum.html">datum</a>/<a href="datum/pipeline.html">pipeline</a>/requester)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/components_base.dm#L235"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/components_base.dm 235"></a></aside></h3><p>When this machine is in a pipenet that is reconciling airs, this proc can add airs to the calculation.
Can be either a list of airs or a single air mix.</p><h3 id="proc/return_pipenets_for_reconcilation"><aside class="declaration">proc </aside>return_pipenets_for_reconcilation<aside>(/<a href="datum.html">datum</a>/<a href="datum/pipeline.html">pipeline</a>/requester)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/components_base.dm#L230"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/components_base.dm 230"></a></aside></h3><p>When this machine is in a pipenet that is reconciling airs, this proc can add pipelines to the calculation.
Can be either a list of pipenets or a single pipenet.</p><h3 id="proc/update_icon_nopipes"><aside class="declaration">proc </aside>update_icon_nopipes<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/components_base.dm#L50"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/components_base.dm 50"></a></aside></h3><p>Called by update_icon(), used individually by each component to determine the icon state without the pipe in consideration</p><h3 id="proc/update_parents"><aside class="declaration">proc </aside>update_parents<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/components_base.dm#L209"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/components_base.dm 209"></a></aside></h3><p>Called in most atmos processes and gas handling situations, update the parents pipelines of the devices connected to the source component
This way gases won't get stuck</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>