<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../../../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/machinery/atmospherics/components/unary/hypertorus/core - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var">Var Details</a> - <a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#proc">Proc Details</a></header><main><h1>core <aside>/<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/atmospherics.html">atmospherics</a>/<a href="obj/machinery/atmospherics/components.html">components</a>/<a href="obj/machinery/atmospherics/components/unary.html">unary</a>/<a href="obj/machinery/atmospherics/components/unary/hypertorus.html">hypertorus</a>/<a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html">core</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L4"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 4"></a></h1><p>This section contain the hfr core with all the variables and the Initialize() and Destroy() procs</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/common_channel">common_channel</a></th><td>The common channel</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/conduction">conduction</a></th><td>Energy from the reaction lost from the molecule colliding between themselves.</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/core_temperature">core_temperature</a></th><td>Temperature of the center of the fusion reaction</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/corners">corners</a></th><td>Stores the information of the corners of the machine</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/critical_threshold_proximity">critical_threshold_proximity</a></th><td>Integrity of the machine, if reaches 900 the machine will explode</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/critical_threshold_proximity_archived">critical_threshold_proximity_archived</a></th><td>Store the integrity for calculations</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/current_damper">current_damper</a></th><td>User controlled variable to control the flow of the fusion by changing the instability of the reaction</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/delta_temperature">delta_temperature</a></th><td>Difference between the gases temperature and the internal temperature of the reaction</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/efficiency">efficiency</a></th><td>Efficiency of the reaction, it increases with the amount of plasma</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/emergency_alert">emergency_alert</a></th><td>The alert we send when we've reached emergency_point</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/emergency_point">emergency_point</a></th><td>The point at which we start sending messages to the common channel</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/energy">energy</a></th><td>Fusion vars
E=mc^2 with some addition to allow it gameplaywise</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/engineering_channel">engineering_channel</a></th><td>The engineering channel</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/final_countdown">final_countdown</a></th><td>Var used in the meltdown phase</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/fuel_injection_rate">fuel_injection_rate</a></th><td>User controlled variable to control the flow of the fusion by changing the amount of fuel injected</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/fusion_temperature_archived">fusion_temperature_archived</a></th><td>These vars store the temperatures to be used in the GUI</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/has_reached_emergency">has_reached_emergency</a></th><td>Boolean used for logging if we've passed the emergency point</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/heat_limiter_modifier">heat_limiter_modifier</a></th><td>Hotter air is easier to heat up and cool down</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/heat_output">heat_output</a></th><td>The amount of heat that is finally emitted, based on the power output. Min and max are variables that depends of the modifier</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/heat_output_max">heat_output_max</a></th><td>How much the reaction can cool itself</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/heat_output_min">heat_output_min</a></th><td>How much the reaction can heat itself</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/heating_conductor">heating_conductor</a></th><td>User controlled variable to control the flow of the fusion by changing the contact of the material</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/icon_state_open">icon_state_open</a></th><td>Vars for the state of the icon of the object (open, off, active)</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/instability">instability</a></th><td>Instability effects how chaotic the behavior of the reaction is</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/internal_fusion">internal_fusion</a></th><td>Stores the information of the fusion gasmix</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/internal_power">internal_power</a></th><td>*Power emitted from the center of the fusion reaction: Internal power = densityH2 * densityTrit(Pi * (2 * rH2 * rTrit)**2) * Energy
* density is calculated with moles/volume, rH2 and rTrit are values calculated with moles/(radius of the gas)
both of the density can be varied by the power_modifier</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/iron_content">iron_content</a></th><td>Stores the iron content produced by the fusion</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/last_accent_sound">last_accent_sound</a></th><td>cooldown tracker for accent sounds</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/lastwarning">lastwarning</a></th><td>Time in 1/10th of seconds since the last sent warning</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/linked_input">linked_input</a></th><td>Stores the information of the fuel input</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/linked_interface">linked_interface</a></th><td>Hypertorus internal objects and gasmixes
Stores the informations of the interface machine</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/linked_moderator">linked_moderator</a></th><td>Stores the information of the moderator input</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/linked_output">linked_output</a></th><td>Stores the information of the waste output</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/machine_parts">machine_parts</a></th><td>Stores the three inputs/outputs of the HFR, needed for cracking the parts</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/magnetic_constrictor">magnetic_constrictor</a></th><td>User controlled variable to control the flow of the fusion by changing the volume of the gasmix by controlling the power of the magnetic fields</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/melting_point">melting_point</a></th><td>The point at which we melt</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/moderator_filtering_rate">moderator_filtering_rate</a></th><td>Set the amount of moles per tick should be removed from the moderator by filtering</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/moderator_injection_rate">moderator_injection_rate</a></th><td>User controlled variable to control the flow of the fusion by changing the amount of moderators injected</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/moderator_internal">moderator_internal</a></th><td>Stores the information of the moderators gasmix</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/moderator_scrubbing">moderator_scrubbing</a></th><td>Set the filtering list of the waste remove</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/power_level">power_level</a></th><td>Stores the current fusion mix power level</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/power_output">power_output</a></th><td>*The effective power transmission of the fusion reaction, power_output = efficiency * (internal_power - conduction - radiation)
* Conduction is the heat value that is transmitted by the molecular interactions and it gets removed from the internal_power lowering the effective output
* Radiation is the irradiation released by the fusion reaction, it comprehends all wavelenghts in the spectrum, it lowers the effective output of the reaction</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/radiation">radiation</a></th><td>The remaining wavelength that actually can do damage to mobs.</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/radio">radio</a></th><td>Our internal radio</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/radio_key">radio_key</a></th><td>The key our internal radio uses</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/safe_alert">safe_alert</a></th><td>Our &quot;Shit is no longer fucked&quot; message. We send it when critical_threshold_proximity is less then critical_threshold_proximity_archived</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/selected_fuel">selected_fuel</a></th><td>Stores the current fuel mix that the user has selected</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/soundloop">soundloop</a></th><td>Our soundloop</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/start_cooling">start_cooling</a></th><td>Checks for the cooling to start</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/start_fuel">start_fuel</a></th><td>Checks for the fuel to be injected</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/start_moderator">start_moderator</a></th><td>Checks for the moderators to be injected</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/start_power">start_power</a></th><td>Processing checks
Checks if the user has started the machine</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/temperature_period">temperature_period</a></th><td>Time between current and _archived temperatures</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/warning_alert">warning_alert</a></th><td>The alert we send when we've reached warning_point</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/warning_damage_flags">warning_damage_flags</a></th><td>Flags used in the alert proc to select what messages to show when the HFR is delaminating (HYPERTORUS_FLAG_HIGH_POWER_DAMAGE | HYPERTORUS_FLAG_HIGH_FUEL_MIX_MOLE | HYPERTORUS_FLAG_IRON_CONTENT_DAMAGE | HYPERTORUS_FLAG_IRON_CONTENT_INCREASE | HYPERTORUS_FLAG_EMPED)</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/warning_point">warning_point</a></th><td>The point at which we should start sending messeges about the critical_threshold_proximity to the engi channels.</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#var/waste_remove">waste_remove</a></th><td>Check if the user want to remove the waste gases</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#proc/activate">activate</a></th><td>Called by multitool_act() in hfr_parts.dm
It sets the pieces to active, allowing the player to start the main reaction
Arguments:</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#proc/alarm">alarm</a></th><td>Called by check_alert() in this file
Play a sound from the machine, the type depends on the status of the hfr</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#proc/check_alert">check_alert</a></th><td>Called by process_atmos() in hfr_main_processes.dm
Called after checking the damage of the machine, calls alarm() and countdown()
Broadcast messages into engi and common radio</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#proc/check_cracked_parts">check_cracked_parts</a></th><td>Checks for any hypertorus part that is cracked and returns it if found, otherwise returns null.</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#proc/check_fuel">check_fuel</a></th><td>Called by the main fusion processes in hfr_main_processes.dm
Getter for fusion fuel moles</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#proc/check_gas_requirements">check_gas_requirements</a></th><td>Checks if the gases in the input are the ones needed by the recipe</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#proc/check_part_connectivity">check_part_connectivity</a></th><td>This section contain all procs that helps building, destroy and control the hfr</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#proc/check_power_use">check_power_use</a></th><td>Called by the main fusion processes in hfr_main_processes.dm
Check the power use of the machine, return TRUE if there is enough power in the powernet</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#proc/countdown">countdown</a></th><td>Called by check_alert() in this file
Called when the damage has reached critical levels, start the countdown before the destruction, calls meltdown()</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#proc/create_crack">create_crack</a></th><td>Causes a random hypertorus part in machine_parts to become cracked and update their appearance.
Returns the hypertorus part.</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#proc/deactivate">deactivate</a></th><td>Called by unregister_signals() in this file, called when the main fusion processes check_part_connectivity() returns false
Deactivate the various machines by setting the active var to false, updates the machines icon and set the linked machine vars to null</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#proc/dump_gases">dump_gases</a></th><td>Removes the gases from the internal gasmix when the recipe is changed</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#proc/fusion_process">fusion_process</a></th><td>Called by process()
Contains the main fusion calculations and checks, for more informations check the comments along the code.</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#proc/get_area_cell_percent">get_area_cell_percent</a></th><td>Get how charged the area's APC is</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#proc/get_integrity_percent">get_integrity_percent</a></th><td>Getter for the machine integrity</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#proc/get_status">get_status</a></th><td>Called by alarm() in this file
Check the integrity level and returns the status of the machine</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#proc/meltdown">meltdown</a></th><td>Called by countdown() in this file
Create the explosion + the gas emission before deleting the machine core.</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#proc/moderator_common_process">moderator_common_process</a></th><td>Perform common fusion actions:</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#proc/moderator_fuel_process">moderator_fuel_process</a></th><td>Perform recipe specific actions. Fuel consumption and recipe based gas production happens here.</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#proc/play_ambience">play_ambience</a></th><td>Infrequently plays accent sounds, and adjusts main loop parameters</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#proc/process_atmos">process_atmos</a></th><td>Main Fusion processes
process() Organizes all other calls, and is the best starting point for top-level logic.
fusion_process() handles all the main fusion reaction logic and consequences (lightning, radiation, particles) from an active fusion reaction.</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#proc/process_moderator_overflow">process_moderator_overflow</a></th><td>Processes leaking from moderator hypercriticality.</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#proc/send_radio_explanation">send_radio_explanation</a></th><td>Called by check_alert() in this file
Called to explain in radio what the issues are with the HFR</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#proc/spill_gases">spill_gases</a></th><td>Takes a ratio portion of target_mix and moves it to the origin's location's air.</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#proc/unregister_signals">unregister_signals</a></th><td>Called when a part gets deleted around the hfr, called on Destroy() of the hfr core in hfr_core.dm
Unregister the signals attached to the core from the various machines, if only_signals is false it will also call deactivate()
Arguments:</td></tr><tr><th><a href="obj/machinery/atmospherics/components/unary/hypertorus/core.html#proc/update_pipenets">update_pipenets</a></th><td>Updates all related pipenets from all connected components</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/common_channel"><aside class="declaration">var </aside>common_channel <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L141"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 141"></a></h3><p>The common channel</p><h3 id="var/conduction"><aside class="declaration">var </aside>conduction <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L82"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 82"></a></h3><p>Energy from the reaction lost from the molecule colliding between themselves.</p><h3 id="var/core_temperature"><aside class="declaration">var </aside>core_temperature <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L66"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 66"></a></h3><p>Temperature of the center of the fusion reaction</p><h3 id="var/corners"><aside class="declaration">var </aside>corners <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L43"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 43"></a></h3><p>Stores the information of the corners of the machine</p><h3 id="var/critical_threshold_proximity"><aside class="declaration">var </aside>critical_threshold_proximity <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L114"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 114"></a></h3><p>Integrity of the machine, if reaches 900 the machine will explode</p><h3 id="var/critical_threshold_proximity_archived"><aside class="declaration">var </aside>critical_threshold_proximity_archived <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L116"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 116"></a></h3><p>Store the integrity for calculations</p><h3 id="var/current_damper"><aside class="declaration">var </aside>current_damper <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L103"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 103"></a></h3><p>User controlled variable to control the flow of the fusion by changing the instability of the reaction</p><h3 id="var/delta_temperature"><aside class="declaration">var </aside>delta_temperature <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L80"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 80"></a></h3><p>Difference between the gases temperature and the internal temperature of the reaction</p><h3 id="var/efficiency"><aside class="declaration">var </aside>efficiency <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L86"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 86"></a></h3><p>Efficiency of the reaction, it increases with the amount of plasma</p><h3 id="var/emergency_alert"><aside class="declaration">var </aside>emergency_alert <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L126"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 126"></a></h3><p>The alert we send when we've reached emergency_point</p><h3 id="var/emergency_point"><aside class="declaration">var </aside>emergency_point <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L124"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 124"></a></h3><p>The point at which we start sending messages to the common channel</p><h3 id="var/energy"><aside class="declaration">var </aside>energy <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L64"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 64"></a></h3><p>Fusion vars
E=mc^2 with some addition to allow it gameplaywise</p><h3 id="var/engineering_channel"><aside class="declaration">var </aside>engineering_channel <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L139"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 139"></a></h3><p>The engineering channel</p><h3 id="var/final_countdown"><aside class="declaration">var </aside>final_countdown <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L160"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 160"></a></h3><p>Var used in the meltdown phase</p><h3 id="var/fuel_injection_rate"><aside class="declaration">var </aside>fuel_injection_rate <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L109"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 109"></a></h3><p>User controlled variable to control the flow of the fusion by changing the amount of fuel injected</p><h3 id="var/fusion_temperature_archived"><aside class="declaration">var </aside>fusion_temperature_archived <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L149"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 149"></a></h3><p>These vars store the temperatures to be used in the GUI</p><h3 id="var/has_reached_emergency"><aside class="declaration">var </aside>has_reached_emergency <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L130"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 130"></a></h3><p>Boolean used for logging if we've passed the emergency point</p><h3 id="var/heat_limiter_modifier"><aside class="declaration">var </aside>heat_limiter_modifier <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L88"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 88"></a></h3><p>Hotter air is easier to heat up and cool down</p><h3 id="var/heat_output"><aside class="declaration">var </aside>heat_output <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L94"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 94"></a></h3><p>The amount of heat that is finally emitted, based on the power output. Min and max are variables that depends of the modifier</p><h3 id="var/heat_output_max"><aside class="declaration">var </aside>heat_output_max <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L90"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 90"></a></h3><p>How much the reaction can cool itself</p><h3 id="var/heat_output_min"><aside class="declaration">var </aside>heat_output_min <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L92"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 92"></a></h3><p>How much the reaction can heat itself</p><h3 id="var/heating_conductor"><aside class="declaration">var </aside>heating_conductor <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L99"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 99"></a></h3><p>User controlled variable to control the flow of the fusion by changing the contact of the material</p><h3 id="var/icon_state_open"><aside class="parent"><a title="/obj/machinery/atmospherics/components/unary/hypertorus" href="obj/machinery/atmospherics/components/unary/hypertorus.html#var/icon_state_open">↑</a></aside>icon_state_open <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L13"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 13"></a></h3><p>Vars for the state of the icon of the object (open, off, active)</p><h3 id="var/instability"><aside class="declaration">var </aside>instability <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L78"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 78"></a></h3><p>Instability effects how chaotic the behavior of the reaction is</p><h3 id="var/internal_fusion"><aside class="declaration">var </aside>internal_fusion <aside>– /<a href="datum.html">datum</a>/<a href="datum/gas_mixture.html">gas_mixture</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L47"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 47"></a></h3><p>Stores the information of the fusion gasmix</p><h3 id="var/internal_power"><aside class="declaration">var </aside>internal_power <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L71"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 71"></a></h3><p>*Power emitted from the center of the fusion reaction: Internal power = densityH2 * densityTrit(Pi * (2 * rH2 * rTrit)**2) * Energy
* density is calculated with moles/volume, rH2 and rTrit are values calculated with moles/(radius of the gas)
both of the density can be varied by the power_modifier</p><h3 id="var/iron_content"><aside class="declaration">var </aside>iron_content <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L107"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 107"></a></h3><p>Stores the iron content produced by the fusion</p><h3 id="var/last_accent_sound"><aside class="declaration">var </aside>last_accent_sound <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L146"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 146"></a></h3><p>cooldown tracker for accent sounds</p><h3 id="var/lastwarning"><aside class="declaration">var </aside>lastwarning <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L132"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 132"></a></h3><p>Time in 1/10th of seconds since the last sent warning</p><h3 id="var/linked_input"><aside class="declaration">var </aside>linked_input <aside>– /<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/atmospherics.html">atmospherics</a>/<a href="obj/machinery/atmospherics/components.html">components</a>/<a href="obj/machinery/atmospherics/components/unary.html">unary</a>/<a href="obj/machinery/atmospherics/components/unary/hypertorus.html">hypertorus</a>/fuel_input</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L39"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 39"></a></h3><p>Stores the information of the fuel input</p><h3 id="var/linked_interface"><aside class="declaration">var </aside>linked_interface <aside>– /<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/hypertorus/interface.html">hypertorus/interface</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L35"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 35"></a></h3><p>Hypertorus internal objects and gasmixes
Stores the informations of the interface machine</p><h3 id="var/linked_moderator"><aside class="declaration">var </aside>linked_moderator <aside>– /<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/atmospherics.html">atmospherics</a>/<a href="obj/machinery/atmospherics/components.html">components</a>/<a href="obj/machinery/atmospherics/components/unary.html">unary</a>/<a href="obj/machinery/atmospherics/components/unary/hypertorus.html">hypertorus</a>/moderator_input</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L37"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 37"></a></h3><p>Stores the information of the moderator input</p><h3 id="var/linked_output"><aside class="declaration">var </aside>linked_output <aside>– /<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/atmospherics.html">atmospherics</a>/<a href="obj/machinery/atmospherics/components.html">components</a>/<a href="obj/machinery/atmospherics/components/unary.html">unary</a>/<a href="obj/machinery/atmospherics/components/unary/hypertorus.html">hypertorus</a>/waste_output</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L41"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 41"></a></h3><p>Stores the information of the waste output</p><h3 id="var/machine_parts"><aside class="declaration">var </aside>machine_parts <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L45"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 45"></a></h3><p>Stores the three inputs/outputs of the HFR, needed for cracking the parts</p><h3 id="var/magnetic_constrictor"><aside class="declaration">var </aside>magnetic_constrictor <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L101"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 101"></a></h3><p>User controlled variable to control the flow of the fusion by changing the volume of the gasmix by controlling the power of the magnetic fields</p><h3 id="var/melting_point"><aside class="declaration">var </aside>melting_point <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L128"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 128"></a></h3><p>The point at which we melt</p><h3 id="var/moderator_filtering_rate"><aside class="declaration">var </aside>moderator_filtering_rate <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L55"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 55"></a></h3><p>Set the amount of moles per tick should be removed from the moderator by filtering</p><h3 id="var/moderator_injection_rate"><aside class="declaration">var </aside>moderator_injection_rate <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L111"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 111"></a></h3><p>User controlled variable to control the flow of the fusion by changing the amount of moderators injected</p><h3 id="var/moderator_internal"><aside class="declaration">var </aside>moderator_internal <aside>– /<a href="datum.html">datum</a>/<a href="datum/gas_mixture.html">gas_mixture</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L49"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 49"></a></h3><p>Stores the information of the moderators gasmix</p><h3 id="var/moderator_scrubbing"><aside class="declaration">var </aside>moderator_scrubbing <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L51"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 51"></a></h3><p>Set the filtering list of the waste remove</p><h3 id="var/power_level"><aside class="declaration">var </aside>power_level <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L105"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 105"></a></h3><p>Stores the current fusion mix power level</p><h3 id="var/power_output"><aside class="declaration">var </aside>power_output <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L76"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 76"></a></h3><p>*The effective power transmission of the fusion reaction, power_output = efficiency * (internal_power - conduction - radiation)
* Conduction is the heat value that is transmitted by the molecular interactions and it gets removed from the internal_power lowering the effective output
* Radiation is the irradiation released by the fusion reaction, it comprehends all wavelenghts in the spectrum, it lowers the effective output of the reaction</p><h3 id="var/radiation"><aside class="declaration">var </aside>radiation <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L84"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 84"></a></h3><p>The remaining wavelength that actually can do damage to mobs.</p><h3 id="var/radio"><aside class="declaration">var </aside>radio <aside>– /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/radio.html">radio</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L135"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 135"></a></h3><p>Our internal radio</p><h3 id="var/radio_key"><aside class="declaration">var </aside>radio_key <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L137"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 137"></a></h3><p>The key our internal radio uses</p><h3 id="var/safe_alert"><aside class="declaration">var </aside>safe_alert <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L118"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 118"></a></h3><p>Our &quot;Shit is no longer fucked&quot; message. We send it when critical_threshold_proximity is less then critical_threshold_proximity_archived</p><h3 id="var/selected_fuel"><aside class="declaration">var </aside>selected_fuel <aside>– /<a href="datum.html">datum</a>/<a href="datum/hfr_fuel.html">hfr_fuel</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L57"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 57"></a></h3><p>Stores the current fuel mix that the user has selected</p><h3 id="var/soundloop"><aside class="declaration">var </aside>soundloop <aside>– /<a href="datum.html">datum</a>/<a href="datum/looping_sound.html">looping_sound</a>/hypertorus</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L144"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 144"></a></h3><p>Our soundloop</p><h3 id="var/start_cooling"><aside class="declaration">var </aside>start_cooling <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L24"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 24"></a></h3><p>Checks for the cooling to start</p><h3 id="var/start_fuel"><aside class="declaration">var </aside>start_fuel <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L26"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 26"></a></h3><p>Checks for the fuel to be injected</p><h3 id="var/start_moderator"><aside class="declaration">var </aside>start_moderator <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L28"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 28"></a></h3><p>Checks for the moderators to be injected</p><h3 id="var/start_power"><aside class="declaration">var </aside>start_power <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L22"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 22"></a></h3><p>Processing checks
Checks if the user has started the machine</p><h3 id="var/temperature_period"><aside class="declaration">var </aside>temperature_period <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L158"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 158"></a></h3><p>Time between current and _archived temperatures</p><h3 id="var/warning_alert"><aside class="declaration">var </aside>warning_alert <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L122"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 122"></a></h3><p>The alert we send when we've reached warning_point</p><h3 id="var/warning_damage_flags"><aside class="declaration">var </aside>warning_damage_flags <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L163"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 163"></a></h3><p>Flags used in the alert proc to select what messages to show when the HFR is delaminating (HYPERTORUS_FLAG_HIGH_POWER_DAMAGE | HYPERTORUS_FLAG_HIGH_FUEL_MIX_MOLE | HYPERTORUS_FLAG_IRON_CONTENT_DAMAGE | HYPERTORUS_FLAG_IRON_CONTENT_INCREASE | HYPERTORUS_FLAG_EMPED)</p><h3 id="var/warning_point"><aside class="declaration">var </aside>warning_point <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L120"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 120"></a></h3><p>The point at which we should start sending messeges about the critical_threshold_proximity to the engi channels.</p><h3 id="var/waste_remove"><aside class="declaration">var </aside>waste_remove <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_core.dm#L97"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_core.dm 97"></a></h3><p>Check if the user want to remove the waste gases</p><h2 id="proc">Proc Details</h2><h3 id="proc/activate"><aside class="declaration">proc </aside>activate<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm#L86"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm 86"></a></aside></h3><p>Called by multitool_act() in hfr_parts.dm
It sets the pieces to active, allowing the player to start the main reaction
Arguments:</p>
<ul>
<li>-user: the player doing the action</li>
</ul><h3 id="proc/alarm"><aside class="declaration">proc </aside>alarm<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm#L301"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm 301"></a></aside></h3><p>Called by check_alert() in this file
Play a sound from the machine, the type depends on the status of the hfr</p><h3 id="proc/check_alert"><aside class="declaration">proc </aside>check_alert<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm#L343"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm 343"></a></aside></h3><p>Called by process_atmos() in hfr_main_processes.dm
Called after checking the damage of the machine, calls alarm() and countdown()
Broadcast messages into engi and common radio</p><h3 id="proc/check_cracked_parts"><aside class="declaration">proc </aside>check_cracked_parts<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm#L575"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm 575"></a></aside></h3><p>Checks for any hypertorus part that is cracked and returns it if found, otherwise returns null.</p><h3 id="proc/check_fuel"><aside class="declaration">proc </aside>check_fuel<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm#L237"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm 237"></a></aside></h3><p>Called by the main fusion processes in hfr_main_processes.dm
Getter for fusion fuel moles</p><h3 id="proc/check_gas_requirements"><aside class="declaration">proc </aside>check_gas_requirements<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm#L261"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm 261"></a></aside></h3><p>Checks if the gases in the input are the ones needed by the recipe</p><h3 id="proc/check_part_connectivity"><aside class="declaration">proc </aside>check_part_connectivity<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm#L9"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm 9"></a></aside></h3><p>This section contain all procs that helps building, destroy and control the hfr</p>
<p>Called by multitool_act() in hfr_parts.dm, by atmos_process() in hfr_main_processes.dm and by fusion_process() in the same file
This proc checks the surrounding of the core to ensure that the machine has been build correctly, returns false if there is a missing piece/wrong placed one</p><h3 id="proc/check_power_use"><aside class="declaration">proc </aside>check_power_use<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm#L252"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm 252"></a></aside></h3><p>Called by the main fusion processes in hfr_main_processes.dm
Check the power use of the machine, return TRUE if there is enough power in the powernet</p><h3 id="proc/countdown"><aside class="declaration">proc </aside>countdown<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm#L406"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm 406"></a></aside></h3><p>Called by check_alert() in this file
Called when the damage has reached critical levels, start the countdown before the destruction, calls meltdown()</p><h3 id="proc/create_crack"><aside class="declaration">proc </aside>create_crack<aside>() <span class="as"> as </span>/<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/atmospherics.html">atmospherics</a>/<a href="obj/machinery/atmospherics/components.html">components</a>/<a href="obj/machinery/atmospherics/components/unary.html">unary</a>/<a href="obj/machinery/atmospherics/components/unary/hypertorus.html">hypertorus</a> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm#L584"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm 584"></a></aside></h3><p>Causes a random hypertorus part in machine_parts to become cracked and update their appearance.
Returns the hypertorus part.</p><h3 id="proc/deactivate"><aside class="declaration">proc </aside>deactivate<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm#L137"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm 137"></a></aside></h3><p>Called by unregister_signals() in this file, called when the main fusion processes check_part_connectivity() returns false
Deactivate the various machines by setting the active var to false, updates the machines icon and set the linked machine vars to null</p><h3 id="proc/dump_gases"><aside class="declaration">proc </aside>dump_gases<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm#L269"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm 269"></a></aside></h3><p>Removes the gases from the internal gasmix when the recipe is changed</p><h3 id="proc/fusion_process"><aside class="declaration">proc </aside>fusion_process<aside>(seconds_per_tick)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_main_processes.dm#L45"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_main_processes.dm 45"></a></aside></h3><p>Called by process()
Contains the main fusion calculations and checks, for more informations check the comments along the code.</p><h3 id="proc/get_area_cell_percent"><aside class="declaration">proc </aside>get_area_cell_percent<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm#L324"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm 324"></a></aside></h3><p>Get how charged the area's APC is</p><h3 id="proc/get_integrity_percent"><aside class="declaration">proc </aside>get_integrity_percent<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm#L315"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm 315"></a></aside></h3><p>Getter for the machine integrity</p><h3 id="proc/get_status"><aside class="declaration">proc </aside>get_status<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm#L279"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm 279"></a></aside></h3><p>Called by alarm() in this file
Check the integrity level and returns the status of the machine</p><h3 id="proc/meltdown"><aside class="declaration">proc </aside>meltdown<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm#L451"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm 451"></a></aside></h3><p>Called by countdown() in this file
Create the explosion + the gas emission before deleting the machine core.</p><h3 id="proc/moderator_common_process"><aside class="declaration">proc </aside>moderator_common_process<aside>(seconds_per_tick, scaled_production, /<a href="datum.html">datum</a>/<a href="datum/gas_mixture.html">gas_mixture</a>/internal_output, moderator_list, dirty_production_rate, heat_output, radiation_modifier)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_main_processes.dm#L292"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_main_processes.dm 292"></a></aside></h3><p>Perform common fusion actions:</p>
<ul>
<li>Gases that get produced irrespective of recipe</li>
<li>Temperature modifiers, radiation modifiers, and the application of each</li>
<li>Committing staged output, performing filtering, and making !FUN! emissions</li>
</ul><h3 id="proc/moderator_fuel_process"><aside class="declaration">proc </aside>moderator_fuel_process<aside>(seconds_per_tick, production_amount, consumption_amount, /<a href="datum.html">datum</a>/<a href="datum/gas_mixture.html">gas_mixture</a>/internal_output, moderator_list, /<a href="datum.html">datum</a>/<a href="datum/hfr_fuel.html">hfr_fuel</a>/fuel, fuel_list)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_main_processes.dm#L247"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_main_processes.dm 247"></a></aside></h3><p>Perform recipe specific actions. Fuel consumption and recipe based gas production happens here.</p><h3 id="proc/play_ambience"><aside class="declaration">proc </aside>play_ambience<aside>(seconds_per_tick)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm#L217"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm 217"></a></aside></h3><p>Infrequently plays accent sounds, and adjusts main loop parameters</p><h3 id="proc/process_atmos"><aside class="parent"><a title="/obj/machinery" href="obj/machinery.html#proc/process_atmos">↑</a></aside>process_atmos<aside>(seconds_per_tick)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_main_processes.dm#L7"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_main_processes.dm 7"></a></aside></h3><p>Main Fusion processes
process() Organizes all other calls, and is the best starting point for top-level logic.
fusion_process() handles all the main fusion reaction logic and consequences (lightning, radiation, particles) from an active fusion reaction.</p><h3 id="proc/process_moderator_overflow"><aside class="declaration">proc </aside>process_moderator_overflow<aside>(seconds_per_tick)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm#L603"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm 603"></a></aside></h3><p>Processes leaking from moderator hypercriticality.</p><h3 id="proc/send_radio_explanation"><aside class="declaration">proc </aside>send_radio_explanation<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm#L380"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm 380"></a></aside></h3><p>Called by check_alert() in this file
Called to explain in radio what the issues are with the HFR</p><h3 id="proc/spill_gases"><aside class="declaration">proc </aside>spill_gases<aside>(/<a href="obj.html">obj</a>/origin, /<a href="datum.html">datum</a>/<a href="datum/gas_mixture.html">gas_mixture</a>/target_mix, ratio)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm#L593"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm 593"></a></aside></h3><p>Takes a ratio portion of target_mix and moves it to the origin's location's air.</p><h3 id="proc/unregister_signals"><aside class="declaration">proc </aside>unregister_signals<aside>(only_signals)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm#L118"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm 118"></a></aside></h3><p>Called when a part gets deleted around the hfr, called on Destroy() of the hfr core in hfr_core.dm
Unregister the signals attached to the core from the various machines, if only_signals is false it will also call deactivate()
Arguments:</p>
<ul>
<li>only_signals: default FALSE, if true the proc will not call the deactivate() proc</li>
</ul><h3 id="proc/update_pipenets"><aside class="declaration">proc </aside>update_pipenets<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm#L180"><img src="git.png" width="16" height="16" title="code/modules/atmospherics/machinery/components/fusion/hfr_procs.dm 180"></a></aside></h3><p>Updates all related pipenets from all connected components</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>