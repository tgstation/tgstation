<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/machinery/porta_turret - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/machinery/porta_turret.html#var">Var Details</a> - <a href="obj/machinery/porta_turret.html#proc">Proc Details</a></header><main><h1>porta_turret <aside>/<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/porta_turret.html">porta_turret</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L27"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 27"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/machinery/porta_turret.html#var/always_up">always_up</a></th><td>Will stay active</td></tr><tr><th><a href="obj/machinery/porta_turret.html#var/base">base</a></th><td>For turrets inside other objects</td></tr><tr><th><a href="obj/machinery/porta_turret.html#var/controllock">controllock</a></th><td>If the turret responds to control panels</td></tr><tr><th><a href="obj/machinery/porta_turret.html#var/cover">cover</a></th><td>The cover that is covering this turret</td></tr><tr><th><a href="obj/machinery/porta_turret.html#var/disabled_time">disabled_time</a></th><td>While the cooldown is still going on, it cannot be re-enabled.</td></tr><tr><th><a href="obj/machinery/porta_turret.html#var/gun_charge">gun_charge</a></th><td>The charge of the gun when retrieved from wreckage</td></tr><tr><th><a href="obj/machinery/porta_turret.html#var/has_cover">has_cover</a></th><td>Hides the cover</td></tr><tr><th><a href="obj/machinery/porta_turret.html#var/ignore_faction">ignore_faction</a></th><td>Determines if our projectiles hit our faction</td></tr><tr><th><a href="obj/machinery/porta_turret.html#var/installation">installation</a></th><td>The type of weapon installed by default</td></tr><tr><th><a href="obj/machinery/porta_turret.html#var/last_fired">last_fired</a></th><td>World.time the turret last fired</td></tr><tr><th><a href="obj/machinery/porta_turret.html#var/lethal_projectile">lethal_projectile</a></th><td>Lethal mode projectile type</td></tr><tr><th><a href="obj/machinery/porta_turret.html#var/lethal_projectile_sound">lethal_projectile_sound</a></th><td>Sound of lethal projectile</td></tr><tr><th><a href="obj/machinery/porta_turret.html#var/locked">locked</a></th><td>If the turret's behaviour control access is locked</td></tr><tr><th><a href="obj/machinery/porta_turret.html#var/manual_control">manual_control</a></th><td>If the turret is manually controlled</td></tr><tr><th><a href="obj/machinery/porta_turret.html#var/mode">mode</a></th><td>In which mode is turret in, stun or lethal</td></tr><tr><th><a href="obj/machinery/porta_turret.html#var/on">on</a></th><td>Determines if the turret is on</td></tr><tr><th><a href="obj/machinery/porta_turret.html#var/power_channel">power_channel</a></th><td>Only people with Security access</td></tr><tr><th><a href="obj/machinery/porta_turret.html#var/quit_action">quit_action</a></th><td>Action button holder for quitting manual control</td></tr><tr><th><a href="obj/machinery/porta_turret.html#var/raised">raised</a></th><td>If the turret cover is &quot;open&quot; and the turret is raised</td></tr><tr><th><a href="obj/machinery/porta_turret.html#var/raising">raising</a></th><td>If the turret is currently opening or closing its cover</td></tr><tr><th><a href="obj/machinery/porta_turret.html#var/remote_controller">remote_controller</a></th><td>Mob that is remotely controlling the turret</td></tr><tr><th><a href="obj/machinery/porta_turret.html#var/reqpower">reqpower</a></th><td>Power needed per shot</td></tr><tr><th><a href="obj/machinery/porta_turret.html#var/scan_range">scan_range</a></th><td>Scan range of the turret for locating targets</td></tr><tr><th><a href="obj/machinery/porta_turret.html#var/shot_delay">shot_delay</a></th><td>Ticks until next shot (1.5 ?)</td></tr><tr><th><a href="obj/machinery/porta_turret.html#var/spark_system">spark_system</a></th><td>The spark system, used for generating... sparks?</td></tr><tr><th><a href="obj/machinery/porta_turret.html#var/stored_gun">stored_gun</a></th><td>What stored gun is in the turret</td></tr><tr><th><a href="obj/machinery/porta_turret.html#var/stun_projectile">stun_projectile</a></th><td>Stun mode projectile type</td></tr><tr><th><a href="obj/machinery/porta_turret.html#var/stun_projectile_sound">stun_projectile_sound</a></th><td>Sound of stun projectile</td></tr><tr><th><a href="obj/machinery/porta_turret.html#var/toggle_action">toggle_action</a></th><td>Action button holder for switching between turret modes when manually controlling</td></tr><tr><th><a href="obj/machinery/porta_turret.html#var/tracker">tracker</a></th><td>Proximity tracker used to activate/deactivate the turret's processing.</td></tr><tr><th><a href="obj/machinery/porta_turret.html#var/turret_flags">turret_flags</a></th><td>Turret flags about who is turret allowed to shoot</td></tr><tr><th><a href="obj/machinery/porta_turret.html#var/uses_stored">uses_stored</a></th><td>if TRUE this will cause the turret to stop working if the stored_gun var is null in process()</td></tr><tr><th><a href="obj/machinery/porta_turret.html#var/wall_turret_direction">wall_turret_direction</a></th><td>The turret will try to shoot from a turf in that direction when in a wall</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/machinery/porta_turret.html#proc/check_should_process">check_should_process</a></th><td>Checks to see if this should be processing, and starts/stops processing if so.
Returns TRUE if processing began, FALSE if processing ended, or null if the processing state was not changed.</td></tr><tr><th><a href="obj/machinery/porta_turret.html#proc/null_gun">null_gun</a></th><td>destroys reference to stored_gun to prevent hard deletions</td></tr><tr><th><a href="obj/machinery/porta_turret.html#proc/set_disabled">set_disabled</a></th><td>Prevents turned from being turned on for a duration, then restarts them after that if the second ard is true.</td></tr><tr><th><a href="obj/machinery/porta_turret.html#proc/toggle_on">toggle_on</a></th><td>Toggles the turret on or off depending on the value of the turn_on arg.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/always_up"><aside class="declaration">var </aside>always_up <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L81"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 81"></a></h3><p>Will stay active</p><h3 id="var/base"><aside class="declaration">var </aside>base <aside>– /<a href="atom.html">atom</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L53"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 53"></a></h3><p>For turrets inside other objects</p><h3 id="var/controllock"><aside class="declaration">var </aside>controllock <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L61"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 61"></a></h3><p>If the turret responds to control panels</p><h3 id="var/cover"><aside class="declaration">var </aside>cover <aside>– /<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/porta_turret_cover</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L85"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 85"></a></h3><p>The cover that is covering this turret</p><h3 id="var/disabled_time"><aside class="declaration">var </aside>disabled_time <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L111"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 111"></a></h3><p>While the cooldown is still going on, it cannot be re-enabled.</p><h3 id="var/gun_charge"><aside class="declaration">var </aside>gun_charge <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L67"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 67"></a></h3><p>The charge of the gun when retrieved from wreckage</p><h3 id="var/has_cover"><aside class="declaration">var </aside>has_cover <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L83"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 83"></a></h3><p>Hides the cover</p><h3 id="var/ignore_faction"><aside class="declaration">var </aside>ignore_faction <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L95"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 95"></a></h3><p>Determines if our projectiles hit our faction</p><h3 id="var/installation"><aside class="declaration">var </aside>installation <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L63"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 63"></a></h3><p>The type of weapon installed by default</p><h3 id="var/last_fired"><aside class="declaration">var </aside>last_fired <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L87"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 87"></a></h3><p>World.time the turret last fired</p><h3 id="var/lethal_projectile"><aside class="declaration">var </aside>lethal_projectile <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L75"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 75"></a></h3><p>Lethal mode projectile type</p><h3 id="var/lethal_projectile_sound"><aside class="declaration">var </aside>lethal_projectile_sound <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L77"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 77"></a></h3><p>Sound of lethal projectile</p><h3 id="var/locked"><aside class="declaration">var </aside>locked <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L59"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 59"></a></h3><p>If the turret's behaviour control access is locked</p><h3 id="var/manual_control"><aside class="declaration">var </aside>manual_control <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L101"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 101"></a></h3><p>If the turret is manually controlled</p><h3 id="var/mode"><aside class="declaration">var </aside>mode <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L69"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 69"></a></h3><p>In which mode is turret in, stun or lethal</p><h3 id="var/on"><aside class="declaration">var </aside>on <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L93"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 93"></a></h3><p>Determines if the turret is on</p><h3 id="var/power_channel">power_channel <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L36"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 36"></a></h3><p>Only people with Security access</p><h3 id="var/quit_action"><aside class="declaration">var </aside>quit_action <aside>– /<a href="datum.html">datum</a>/<a href="datum/action.html">action</a>/turret_quit</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L103"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 103"></a></h3><p>Action button holder for quitting manual control</p><h3 id="var/raised"><aside class="declaration">var </aside>raised <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L55"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 55"></a></h3><p>If the turret cover is &quot;open&quot; and the turret is raised</p><h3 id="var/raising"><aside class="declaration">var </aside>raising <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L57"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 57"></a></h3><p>If the turret is currently opening or closing its cover</p><h3 id="var/remote_controller"><aside class="declaration">var </aside>remote_controller <aside>– /<a href="mob.html">mob</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L107"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 107"></a></h3><p>Mob that is remotely controlling the turret</p><h3 id="var/reqpower"><aside class="declaration">var </aside>reqpower <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L79"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 79"></a></h3><p>Power needed per shot</p><h3 id="var/scan_range"><aside class="declaration">var </aside>scan_range <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L51"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 51"></a></h3><p>Scan range of the turret for locating targets</p><h3 id="var/shot_delay"><aside class="declaration">var </aside>shot_delay <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L89"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 89"></a></h3><p>Ticks until next shot (1.5 ?)</p><h3 id="var/spark_system"><aside class="declaration">var </aside>spark_system <aside>– /<a href="datum.html">datum</a>/<a href="datum/effect_system.html">effect_system</a>/<a href="datum/effect_system/basic.html">basic</a>/spark_spread</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L97"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 97"></a></h3><p>The spark system, used for generating... sparks?</p><h3 id="var/stored_gun"><aside class="declaration">var </aside>stored_gun <aside>– /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/gun.html">gun</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L65"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 65"></a></h3><p>What stored gun is in the turret</p><h3 id="var/stun_projectile"><aside class="declaration">var </aside>stun_projectile <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L71"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 71"></a></h3><p>Stun mode projectile type</p><h3 id="var/stun_projectile_sound"><aside class="declaration">var </aside>stun_projectile_sound <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L73"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 73"></a></h3><p>Sound of stun projectile</p><h3 id="var/toggle_action"><aside class="declaration">var </aside>toggle_action <aside>– /<a href="datum.html">datum</a>/<a href="datum/action.html">action</a>/turret_toggle</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L105"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 105"></a></h3><p>Action button holder for switching between turret modes when manually controlling</p><h3 id="var/tracker"><aside class="declaration">var </aside>tracker <aside>– /<a href="datum.html">datum</a>/<a href="datum/proximity_monitor.html">proximity_monitor</a>/<a href="datum/proximity_monitor/advanced.html">advanced</a>/<a href="datum/proximity_monitor/advanced/turret_tracking.html">turret_tracking</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L109"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 109"></a></h3><p>Proximity tracker used to activate/deactivate the turret's processing.</p><h3 id="var/turret_flags"><aside class="declaration">var </aside>turret_flags <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L91"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 91"></a></h3><p>Turret flags about who is turret allowed to shoot</p><h3 id="var/uses_stored"><aside class="declaration">var </aside>uses_stored <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L49"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 49"></a></h3><p>if TRUE this will cause the turret to stop working if the stored_gun var is null in process()</p><h3 id="var/wall_turret_direction"><aside class="declaration">var </aside>wall_turret_direction <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L99"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 99"></a></h3><p>The turret will try to shoot from a turf in that direction when in a wall</p><h2 id="proc">Proc Details</h2><h3 id="proc/check_should_process"><aside class="declaration">proc </aside>check_should_process<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L179"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 179"></a></aside></h3><p>Checks to see if this should be processing, and starts/stops processing if so.
Returns TRUE if processing began, FALSE if processing ended, or null if the processing state was not changed.</p><h3 id="proc/null_gun"><aside class="declaration">proc </aside>null_gun<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L241"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 241"></a></aside></h3><p>destroys reference to stored_gun to prevent hard deletions</p><h3 id="proc/set_disabled"><aside class="declaration">proc </aside>set_disabled<aside>(duration, will_restart)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L166"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 166"></a></aside></h3><p>Prevents turned from being turned on for a duration, then restarts them after that if the second ard is true.</p><h3 id="proc/toggle_on"><aside class="declaration">proc </aside>toggle_on<aside>(turn_on)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/machinery/porta_turret/portable_turret.dm#L155"><img src="git.png" width="16" height="16" title="code/game/machinery/porta_turret/portable_turret.dm 155"></a></aside></h3><p>Toggles the turret on or off depending on the value of the turn_on arg.</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>