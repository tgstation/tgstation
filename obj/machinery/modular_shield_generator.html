<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/machinery/modular_shield_generator - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/machinery/modular_shield_generator.html#var">Var Details</a> - <a href="obj/machinery/modular_shield_generator.html#proc">Proc Details</a></header><main><h1>modular_shield_generator <aside>/<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/modular_shield_generator.html">modular_shield_generator</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/modular_shield.dm#L1"><img src="git.png" width="16" height="16" title="code/game/machinery/modular_shield.dm 1"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/machinery/modular_shield_generator.html#var/active">active</a></th><td>Doesn't actually control it, just tells us if its running or not, you can control by calling procs activate_shields and deactivate_shields</td></tr><tr><th><a href="obj/machinery/modular_shield_generator.html#var/connected_modules">connected_modules</a></th><td>The lazy list of machines that are connected to and boosting us</td></tr><tr><th><a href="obj/machinery/modular_shield_generator.html#var/current_regeneration">current_regeneration</a></th><td>The regeneration that the shield can support</td></tr><tr><th><a href="obj/machinery/modular_shield_generator.html#var/deployed_shields">deployed_shields</a></th><td>The lazy list of shields that are ours</td></tr><tr><th><a href="obj/machinery/modular_shield_generator.html#var/display_name">display_name</a></th><td>The name modular shield console tgui's see us as</td></tr><tr><th><a href="obj/machinery/modular_shield_generator.html#var/exterior_only">exterior_only</a></th><td>Determines if we only generate a shield on space turfs or not</td></tr><tr><th><a href="obj/machinery/modular_shield_generator.html#var/icon_type">icon_type</a></th><td>What machine we are for the purpose of updating icon state</td></tr><tr><th><a href="obj/machinery/modular_shield_generator.html#var/initiating">initiating</a></th><td>If the generator is currently spawning the forcefield in</td></tr><tr><th><a href="obj/machinery/modular_shield_generator.html#var/innate_radius">innate_radius</a></th><td>Max radius gained from our own parts</td></tr><tr><th><a href="obj/machinery/modular_shield_generator.html#var/innate_regen">innate_regen</a></th><td>Regeneration gained from our own parts</td></tr><tr><th><a href="obj/machinery/modular_shield_generator.html#var/innate_strength">innate_strength</a></th><td>Max strength gained from our own parts</td></tr><tr><th><a href="obj/machinery/modular_shield_generator.html#var/inside_shield">inside_shield</a></th><td>The lazy list of turfs that are within the shield</td></tr><tr><th><a href="obj/machinery/modular_shield_generator.html#var/internal_penalty">internal_penalty</a></th><td>This decides if we get nerfed by projecting on internal turfs with floors and stuff</td></tr><tr><th><a href="obj/machinery/modular_shield_generator.html#var/list_of_turfs">list_of_turfs</a></th><td>This is the lazy list of perimeter turfs that we grab when making large shields of 10 or more radius</td></tr><tr><th><a href="obj/machinery/modular_shield_generator.html#var/max_radius">max_radius</a></th><td>Determines the max radius the shield can support</td></tr><tr><th><a href="obj/machinery/modular_shield_generator.html#var/max_regeneration">max_regeneration</a></th><td>Shield Regeneration when at 100% efficiency</td></tr><tr><th><a href="obj/machinery/modular_shield_generator.html#var/max_strength">max_strength</a></th><td>Determines max health of the shield</td></tr><tr><th><a href="obj/machinery/modular_shield_generator.html#var/max_strength_boost">max_strength_boost</a></th><td>Max Strength gained from machines connected to us</td></tr><tr><th><a href="obj/machinery/modular_shield_generator.html#var/radius">radius</a></th><td>Current radius the shield is set to, minimum 3</td></tr><tr><th><a href="obj/machinery/modular_shield_generator.html#var/radius_boost">radius_boost</a></th><td>Max Radius gained from machines connected to us</td></tr><tr><th><a href="obj/machinery/modular_shield_generator.html#var/recovering">recovering</a></th><td>Determines if we can turn it on or not, no longer recovering when back to max strength</td></tr><tr><th><a href="obj/machinery/modular_shield_generator.html#var/regen_boost">regen_boost</a></th><td>Regeneration gained from machines connected to us</td></tr><tr><th><a href="obj/machinery/modular_shield_generator.html#var/stored_strength">stored_strength</a></th><td>Current health of shield</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/machinery/modular_shield_generator.html#proc/activate_shields">activate_shields</a></th><td>generates the forcefield based on the given radius and calls calculate_regen to update the regen value accordingly</td></tr><tr><th><a href="obj/machinery/modular_shield_generator.html#proc/calculate_boost">calculate_boost</a></th><td>calculations for the stats supplied by the network of machines that boost us</td></tr><tr><th><a href="obj/machinery/modular_shield_generator.html#proc/calculate_max_strength">calculate_max_strength</a></th><td>Calculates the max strength or health of the forcefield, modifiers go here</td></tr><tr><th><a href="obj/machinery/modular_shield_generator.html#proc/calculate_radius">calculate_radius</a></th><td>Calculates the max radius the shield generator can support, modifiers go here</td></tr><tr><th><a href="obj/machinery/modular_shield_generator.html#proc/calculate_regeneration">calculate_regeneration</a></th><td>Calculates the regeneration based on the status of the generator and boosts from network, modifiers go here</td></tr><tr><th><a href="obj/machinery/modular_shield_generator.html#proc/deactivate_shields">deactivate_shields</a></th><td>qdels the forcefield and calls calculate regen to update the regen value accordingly</td></tr><tr><th><a href="obj/machinery/modular_shield_generator.html#proc/finish_field">finish_field</a></th><td>After giving people a grace period to react to we up the alpha value and make the forcefield dense</td></tr><tr><th><a href="obj/machinery/modular_shield_generator.html#proc/shield_drain">shield_drain</a></th><td>Reduces the strength of the shield based on the given integer</td></tr><tr><th><a href="obj/machinery/modular_shield_generator.html#proc/toggle_shields">toggle_shields</a></th><td>toggles the forcefield on and off</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/active"><aside class="declaration">var </aside>active <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/modular_shield.dm#L11"><img src="git.png" width="16" height="16" title="code/game/machinery/modular_shield.dm 11"></a></h3><p>Doesn't actually control it, just tells us if its running or not, you can control by calling procs activate_shields and deactivate_shields</p><h3 id="var/connected_modules"><aside class="declaration">var </aside>connected_modules <aside>– /list/<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/modular_shield/module.html">modular_shield/module</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/modular_shield.dm#L47"><img src="git.png" width="16" height="16" title="code/game/machinery/modular_shield.dm 47"></a></h3><p>The lazy list of machines that are connected to and boosting us</p><h3 id="var/current_regeneration"><aside class="declaration">var </aside>current_regeneration <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/modular_shield.dm#L29"><img src="git.png" width="16" height="16" title="code/game/machinery/modular_shield.dm 29"></a></h3><p>The regeneration that the shield can support</p><h3 id="var/deployed_shields"><aside class="declaration">var </aside>deployed_shields <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/modular_shield.dm#L41"><img src="git.png" width="16" height="16" title="code/game/machinery/modular_shield.dm 41"></a></h3><p>The lazy list of shields that are ours</p><h3 id="var/display_name"><aside class="declaration">var </aside>display_name <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/modular_shield.dm#L77"><img src="git.png" width="16" height="16" title="code/game/machinery/modular_shield.dm 77"></a></h3><p>The name modular shield console tgui's see us as</p><h3 id="var/exterior_only"><aside class="declaration">var </aside>exterior_only <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/modular_shield.dm#L38"><img src="git.png" width="16" height="16" title="code/game/machinery/modular_shield.dm 38"></a></h3><p>Determines if we only generate a shield on space turfs or not</p><h3 id="var/icon_type"><aside class="declaration">var </aside>icon_type <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/modular_shield.dm#L74"><img src="git.png" width="16" height="16" title="code/game/machinery/modular_shield.dm 74"></a></h3><p>What machine we are for the purpose of updating icon state</p><h3 id="var/initiating"><aside class="declaration">var </aside>initiating <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/modular_shield.dm#L14"><img src="git.png" width="16" height="16" title="code/game/machinery/modular_shield.dm 14"></a></h3><p>If the generator is currently spawning the forcefield in</p><h3 id="var/innate_radius"><aside class="declaration">var </aside>innate_radius <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/modular_shield.dm#L62"><img src="git.png" width="16" height="16" title="code/game/machinery/modular_shield.dm 62"></a></h3><p>Max radius gained from our own parts</p><h3 id="var/innate_regen"><aside class="declaration">var </aside>innate_regen <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/modular_shield.dm#L59"><img src="git.png" width="16" height="16" title="code/game/machinery/modular_shield.dm 59"></a></h3><p>Regeneration gained from our own parts</p><h3 id="var/innate_strength"><aside class="declaration">var </aside>innate_strength <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/modular_shield.dm#L65"><img src="git.png" width="16" height="16" title="code/game/machinery/modular_shield.dm 65"></a></h3><p>Max strength gained from our own parts</p><h3 id="var/inside_shield"><aside class="declaration">var </aside>inside_shield <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/modular_shield.dm#L44"><img src="git.png" width="16" height="16" title="code/game/machinery/modular_shield.dm 44"></a></h3><p>The lazy list of turfs that are within the shield</p><h3 id="var/internal_penalty"><aside class="declaration">var </aside>internal_penalty <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/modular_shield.dm#L71"><img src="git.png" width="16" height="16" title="code/game/machinery/modular_shield.dm 71"></a></h3><p>This decides if we get nerfed by projecting on internal turfs with floors and stuff</p><h3 id="var/list_of_turfs"><aside class="declaration">var </aside>list_of_turfs <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/modular_shield.dm#L68"><img src="git.png" width="16" height="16" title="code/game/machinery/modular_shield.dm 68"></a></h3><p>This is the lazy list of perimeter turfs that we grab when making large shields of 10 or more radius</p><h3 id="var/max_radius"><aside class="declaration">var </aside>max_radius <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/modular_shield.dm#L32"><img src="git.png" width="16" height="16" title="code/game/machinery/modular_shield.dm 32"></a></h3><p>Determines the max radius the shield can support</p><h3 id="var/max_regeneration"><aside class="declaration">var </aside>max_regeneration <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/modular_shield.dm#L26"><img src="git.png" width="16" height="16" title="code/game/machinery/modular_shield.dm 26"></a></h3><p>Shield Regeneration when at 100% efficiency</p><h3 id="var/max_strength"><aside class="declaration">var </aside>max_strength <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/modular_shield.dm#L20"><img src="git.png" width="16" height="16" title="code/game/machinery/modular_shield.dm 20"></a></h3><p>Determines max health of the shield</p><h3 id="var/max_strength_boost"><aside class="declaration">var </aside>max_strength_boost <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/modular_shield.dm#L56"><img src="git.png" width="16" height="16" title="code/game/machinery/modular_shield.dm 56"></a></h3><p>Max Strength gained from machines connected to us</p><h3 id="var/radius"><aside class="declaration">var </aside>radius <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/modular_shield.dm#L35"><img src="git.png" width="16" height="16" title="code/game/machinery/modular_shield.dm 35"></a></h3><p>Current radius the shield is set to, minimum 3</p><h3 id="var/radius_boost"><aside class="declaration">var </aside>radius_boost <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/modular_shield.dm#L53"><img src="git.png" width="16" height="16" title="code/game/machinery/modular_shield.dm 53"></a></h3><p>Max Radius gained from machines connected to us</p><h3 id="var/recovering"><aside class="declaration">var </aside>recovering <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/modular_shield.dm#L17"><img src="git.png" width="16" height="16" title="code/game/machinery/modular_shield.dm 17"></a></h3><p>Determines if we can turn it on or not, no longer recovering when back to max strength</p><h3 id="var/regen_boost"><aside class="declaration">var </aside>regen_boost <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/modular_shield.dm#L50"><img src="git.png" width="16" height="16" title="code/game/machinery/modular_shield.dm 50"></a></h3><p>Regeneration gained from machines connected to us</p><h3 id="var/stored_strength"><aside class="declaration">var </aside>stored_strength <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/modular_shield.dm#L23"><img src="git.png" width="16" height="16" title="code/game/machinery/modular_shield.dm 23"></a></h3><p>Current health of shield</p><h2 id="proc">Proc Details</h2><h3 id="proc/activate_shields"><aside class="declaration">proc </aside>activate_shields<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/modular_shield.dm#L184"><img src="git.png" width="16" height="16" title="code/game/machinery/modular_shield.dm 184"></a></aside></h3><p>generates the forcefield based on the given radius and calls calculate_regen to update the regen value accordingly</p><h3 id="proc/calculate_boost"><aside class="declaration">proc </aside>calculate_boost<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/modular_shield.dm#L319"><img src="git.png" width="16" height="16" title="code/game/machinery/modular_shield.dm 319"></a></aside></h3><p>calculations for the stats supplied by the network of machines that boost us</p><h3 id="proc/calculate_max_strength"><aside class="declaration">proc </aside>calculate_max_strength<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/modular_shield.dm#L353"><img src="git.png" width="16" height="16" title="code/game/machinery/modular_shield.dm 353"></a></aside></h3><p>Calculates the max strength or health of the forcefield, modifiers go here</p><h3 id="proc/calculate_radius"><aside class="declaration">proc </aside>calculate_radius<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/modular_shield.dm#L340"><img src="git.png" width="16" height="16" title="code/game/machinery/modular_shield.dm 340"></a></aside></h3><p>Calculates the max radius the shield generator can support, modifiers go here</p><h3 id="proc/calculate_regeneration"><aside class="declaration">proc </aside>calculate_regeneration<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/modular_shield.dm#L359"><img src="git.png" width="16" height="16" title="code/game/machinery/modular_shield.dm 359"></a></aside></h3><p>Calculates the regeneration based on the status of the generator and boosts from network, modifiers go here</p><h3 id="proc/deactivate_shields"><aside class="declaration">proc </aside>deactivate_shields<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/modular_shield.dm#L133"><img src="git.png" width="16" height="16" title="code/game/machinery/modular_shield.dm 133"></a></aside></h3><p>qdels the forcefield and calls calculate regen to update the regen value accordingly</p><h3 id="proc/finish_field"><aside class="declaration">proc </aside>finish_field<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/modular_shield.dm#L255"><img src="git.png" width="16" height="16" title="code/game/machinery/modular_shield.dm 255"></a></aside></h3><p>After giving people a grace period to react to we up the alpha value and make the forcefield dense</p><h3 id="proc/shield_drain"><aside class="declaration">proc </aside>shield_drain<aside>(damage_amount)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/modular_shield.dm#L379"><img src="git.png" width="16" height="16" title="code/game/machinery/modular_shield.dm 379"></a></aside></h3><p>Reduces the strength of the shield based on the given integer</p><h3 id="proc/toggle_shields"><aside class="declaration">proc </aside>toggle_shields<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/modular_shield.dm#L168"><img src="git.png" width="16" height="16" title="code/game/machinery/modular_shield.dm 168"></a></aside></h3><p>toggles the forcefield on and off</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/c41b333c9bc46606d2c5d5b517f7836d5953fbfd">c41b333</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>