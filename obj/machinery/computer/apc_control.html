<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/machinery/computer/apc_control - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/machinery/computer/apc_control.html#var">Var Details</a> - <a href="obj/machinery/computer/apc_control.html#proc">Proc Details</a></header><main><h1>apc_control <aside>/<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/computer.html">computer</a>/<a href="obj/machinery/computer/apc_control.html">apc_control</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/computer/apc_control.dm#L1"><img src="git.png" width="16" height="16" title="code/game/machinery/computer/apc_control.dm 1"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/machinery/computer/apc_control.html#var/active_apc">active_apc</a></th><td>The APC we're remotely connected to right now</td></tr><tr><th><a href="obj/machinery/computer/apc_control.html#var/auth_id">auth_id</a></th><td>Tracks the current logged-in user's ID card's name and assignment</td></tr><tr><th><a href="obj/machinery/computer/apc_control.html#var/is_on_station">is_on_station</a></th><td>Whether the computer is on a station-level; set in Initialize() for use in checking APCs</td></tr><tr><th><a href="obj/machinery/computer/apc_control.html#var/logs">logs</a></th><td>List of logs containing events like logins/logoffs, APC access and manipulation, checking the APC/logs tabs and restoring logging after an emag</td></tr><tr><th><a href="obj/machinery/computer/apc_control.html#var/restoring">restoring</a></th><td>Whether the console is currently being restored from an emagged state</td></tr><tr><th><a href="obj/machinery/computer/apc_control.html#var/should_log">should_log</a></th><td>Whether actions are being logged to the console's logs or not</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/machinery/computer/apc_control.html#proc/check_apc">check_apc</a></th><td>Checks for whether the APC provided is eligible for access and being listed in the APC list.
The APC has to:</td></tr><tr><th><a href="obj/machinery/computer/apc_control.html#proc/connect_apc">connect_apc</a></th><td>Initiates remote access to the APC</td></tr><tr><th><a href="obj/machinery/computer/apc_control.html#proc/disconnect_apc">disconnect_apc</a></th><td>Disconnect from the APC we're currently in remote access with
arguments:
mute - whether the APC should announce the disconnection locally, passed into apc's disconnect_remote_access()</td></tr><tr><th><a href="obj/machinery/computer/apc_control.html#proc/log_activity">log_activity</a></th><td>Creates a log entry in the console with a timestamp, current login ID data and the text provided in log_text</td></tr><tr><th><a href="obj/machinery/computer/apc_control.html#proc/on_apc_destroyed">on_apc_destroyed</a></th><td>Disconnects the computer from the accessed APC upon its destruction</td></tr><tr><th><a href="obj/machinery/computer/apc_control.html#proc/restore_comp">restore_comp</a></th><td>Resets the console's emagged state and re-enables logging of activity</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/active_apc"><aside class="declaration">var </aside>active_apc <aside>– /<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/power.html">power</a>/<a href="obj/machinery/power/apc.html">apc</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/computer/apc_control.dm#L10"><img src="git.png" width="16" height="16" title="code/game/machinery/computer/apc_control.dm 10"></a></h3><p>The APC we're remotely connected to right now</p><h3 id="var/auth_id"><aside class="declaration">var </aside>auth_id <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/computer/apc_control.dm#L18"><img src="git.png" width="16" height="16" title="code/game/machinery/computer/apc_control.dm 18"></a></h3><p>Tracks the current logged-in user's ID card's name and assignment</p><h3 id="var/is_on_station"><aside class="declaration">var </aside>is_on_station <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/computer/apc_control.dm#L20"><img src="git.png" width="16" height="16" title="code/game/machinery/computer/apc_control.dm 20"></a></h3><p>Whether the computer is on a station-level; set in Initialize() for use in checking APCs</p><h3 id="var/logs"><aside class="declaration">var </aside>logs <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/computer/apc_control.dm#L16"><img src="git.png" width="16" height="16" title="code/game/machinery/computer/apc_control.dm 16"></a></h3><p>List of logs containing events like logins/logoffs, APC access and manipulation, checking the APC/logs tabs and restoring logging after an emag</p><h3 id="var/restoring"><aside class="declaration">var </aside>restoring <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/computer/apc_control.dm#L14"><img src="git.png" width="16" height="16" title="code/game/machinery/computer/apc_control.dm 14"></a></h3><p>Whether the console is currently being restored from an emagged state</p><h3 id="var/should_log"><aside class="declaration">var </aside>should_log <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/computer/apc_control.dm#L12"><img src="git.png" width="16" height="16" title="code/game/machinery/computer/apc_control.dm 12"></a></h3><p>Whether actions are being logged to the console's logs or not</p><h2 id="proc">Proc Details</h2><h3 id="proc/check_apc"><aside class="declaration">proc </aside>check_apc<aside>(/<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/power.html">power</a>/<a href="obj/machinery/power/apc.html">apc</a>/checked_apc)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/computer/apc_control.dm#L104"><img src="git.png" width="16" height="16" title="code/game/machinery/computer/apc_control.dm 104"></a></aside></h3><p>Checks for whether the APC provided is eligible for access and being listed in the APC list.
The APC has to:</p>
<ul>
<li>be on a station z-level if the computer is station-side or be on the same z-level as the computer if otherwise (away subtype, charlie station)</li>
<li>be not hacked by a malf AI</li>
<li>have AI control enabled</li>
<li>be not emagged</li>
<li>be working</li>
<li>not be an AI monitored area (AI sat areas and AI upload)</li>
</ul><h3 id="proc/connect_apc"><aside class="declaration">proc </aside>connect_apc<aside>(/<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/power.html">power</a>/<a href="obj/machinery/power/apc.html">apc</a>/apc, /<a href="mob.html">mob</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/computer/apc_control.dm#L62"><img src="git.png" width="16" height="16" title="code/game/machinery/computer/apc_control.dm 62"></a></aside></h3><p>Initiates remote access to the APC</p><h3 id="proc/disconnect_apc"><aside class="declaration">proc </aside>disconnect_apc<aside>(mute)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/computer/apc_control.dm#L87"><img src="git.png" width="16" height="16" title="code/game/machinery/computer/apc_control.dm 87"></a></aside></h3><p>Disconnect from the APC we're currently in remote access with
arguments:
mute - whether the APC should announce the disconnection locally, passed into apc's disconnect_remote_access()</p><h3 id="proc/log_activity"><aside class="declaration">proc </aside>log_activity<aside>(log_text)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/computer/apc_control.dm#L48"><img src="git.png" width="16" height="16" title="code/game/machinery/computer/apc_control.dm 48"></a></aside></h3><p>Creates a log entry in the console with a timestamp, current login ID data and the text provided in log_text</p><h3 id="proc/on_apc_destroyed"><aside class="declaration">proc </aside>on_apc_destroyed<aside>(/<a href="datum.html">datum</a>/source)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/computer/apc_control.dm#L78"><img src="git.png" width="16" height="16" title="code/game/machinery/computer/apc_control.dm 78"></a></aside></h3><p>Disconnects the computer from the accessed APC upon its destruction</p><h3 id="proc/restore_comp"><aside class="declaration">proc </aside>restore_comp<aside>(/<a href="mob.html">mob</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/game/machinery/computer/apc_control.dm#L54"><img src="git.png" width="16" height="16" title="code/game/machinery/computer/apc_control.dm 54"></a></aside></h3><p>Resets the console's emagged state and re-enables logging of activity</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/c41b333c9bc46606d2c5d5b517f7836d5953fbfd">c41b333</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>