<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/machinery/computer/libraryconsole - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/machinery/computer/libraryconsole.html#var">Var Details</a> - <a href="obj/machinery/computer/libraryconsole.html#proc">Proc Details</a></header><main><h1>libraryconsole <aside>/<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/computer.html">computer</a>/<a href="obj/machinery/computer/libraryconsole.html">libraryconsole</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/library/lib_machines.dm#L21"><img src="git.png" width="16" height="16" title="code/modules/library/lib_machines.dm 21"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/machinery/computer/libraryconsole.html#var/author">author</a></th><td>The author we're searching for</td></tr><tr><th><a href="obj/machinery/computer/libraryconsole.html#var/book_id">book_id</a></th><td>The current book id we're searching for</td></tr><tr><th><a href="obj/machinery/computer/libraryconsole.html#var/can_connect">can_connect</a></th><td>Can we connect to the db?</td></tr><tr><th><a href="obj/machinery/computer/libraryconsole.html#var/category">category</a></th><td>The category we're searching for</td></tr><tr><th><a href="obj/machinery/computer/libraryconsole.html#var/db_request_cooldown">db_request_cooldown</a></th><td>Prevents spamming requests, acts as a second layer of protection against spam</td></tr><tr><th><a href="obj/machinery/computer/libraryconsole.html#var/interface_type">interface_type</a></th><td>Interface name for the ui_interact call for different subtypes.</td></tr><tr><th><a href="obj/machinery/computer/libraryconsole.html#var/last_search_hash">last_search_hash</a></th><td>A hash of the last search we did, prevents spam in a different way then the cooldown</td></tr><tr><th><a href="obj/machinery/computer/libraryconsole.html#var/page_content">page_content</a></th><td>The results of our last query</td></tr><tr><th><a href="obj/machinery/computer/libraryconsole.html#var/page_count">page_count</a></th><td>The the total pages last we checked</td></tr><tr><th><a href="obj/machinery/computer/libraryconsole.html#var/params_changed">params_changed</a></th><td>Have the search params changed at all since the last search?</td></tr><tr><th><a href="obj/machinery/computer/libraryconsole.html#var/search_page">search_page</a></th><td>The page of our current query</td></tr><tr><th><a href="obj/machinery/computer/libraryconsole.html#var/sending_request">sending_request</a></th><td>Are we currently sending a db request for books?</td></tr><tr><th><a href="obj/machinery/computer/libraryconsole.html#var/title">title</a></th><td>The current title we're searching for</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/machinery/computer/libraryconsole.html#proc/convert_ambiguous_input">convert_ambiguous_input</a></th><td>Takes input that could either be a number, or a string that represents a number and returns a number</td></tr><tr><th><a href="obj/machinery/computer/libraryconsole.html#proc/prevent_db_spam">prevent_db_spam</a></th><td>Checks if the machine is alloweed to make another db request yet. TRUE if so, FALSE otherwise</td></tr><tr><th><a href="obj/machinery/computer/libraryconsole.html#proc/sanitize_page_input">sanitize_page_input</a></th><td>Returns a santized page input, so converted from num/text to num, and properly maxed</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/author"><aside class="declaration">var </aside>author <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/library/lib_machines.dm#L36"><img src="git.png" width="16" height="16" title="code/modules/library/lib_machines.dm 36"></a></h3><p>The author we're searching for</p><h3 id="var/book_id"><aside class="declaration">var </aside>book_id <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/library/lib_machines.dm#L30"><img src="git.png" width="16" height="16" title="code/modules/library/lib_machines.dm 30"></a></h3><p>The current book id we're searching for</p><h3 id="var/can_connect"><aside class="declaration">var </aside>can_connect <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/library/lib_machines.dm#L44"><img src="git.png" width="16" height="16" title="code/modules/library/lib_machines.dm 44"></a></h3><p>Can we connect to the db?</p><h3 id="var/category"><aside class="declaration">var </aside>category <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/library/lib_machines.dm#L34"><img src="git.png" width="16" height="16" title="code/modules/library/lib_machines.dm 34"></a></h3><p>The category we're searching for</p><h3 id="var/db_request_cooldown"><aside class="declaration">var </aside>db_request_cooldown <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/library/lib_machines.dm#L52"><img src="git.png" width="16" height="16" title="code/modules/library/lib_machines.dm 52"></a></h3><p>Prevents spamming requests, acts as a second layer of protection against spam</p><h3 id="var/interface_type"><aside class="declaration">var </aside>interface_type <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/library/lib_machines.dm#L54"><img src="git.png" width="16" height="16" title="code/modules/library/lib_machines.dm 54"></a></h3><p>Interface name for the ui_interact call for different subtypes.</p><h3 id="var/last_search_hash"><aside class="declaration">var </aside>last_search_hash <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/library/lib_machines.dm#L46"><img src="git.png" width="16" height="16" title="code/modules/library/lib_machines.dm 46"></a></h3><p>A hash of the last search we did, prevents spam in a different way then the cooldown</p><h3 id="var/page_content"><aside class="declaration">var </aside>page_content <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/library/lib_machines.dm#L38"><img src="git.png" width="16" height="16" title="code/modules/library/lib_machines.dm 38"></a></h3><p>The results of our last query</p><h3 id="var/page_count"><aside class="declaration">var </aside>page_count <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/library/lib_machines.dm#L40"><img src="git.png" width="16" height="16" title="code/modules/library/lib_machines.dm 40"></a></h3><p>The the total pages last we checked</p><h3 id="var/params_changed"><aside class="declaration">var </aside>params_changed <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/library/lib_machines.dm#L48"><img src="git.png" width="16" height="16" title="code/modules/library/lib_machines.dm 48"></a></h3><p>Have the search params changed at all since the last search?</p><h3 id="var/search_page"><aside class="declaration">var </aside>search_page <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/library/lib_machines.dm#L42"><img src="git.png" width="16" height="16" title="code/modules/library/lib_machines.dm 42"></a></h3><p>The page of our current query</p><h3 id="var/sending_request"><aside class="declaration">var </aside>sending_request <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/library/lib_machines.dm#L50"><img src="git.png" width="16" height="16" title="code/modules/library/lib_machines.dm 50"></a></h3><p>Are we currently sending a db request for books?</p><h3 id="var/title"><aside class="declaration">var </aside>title <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/library/lib_machines.dm#L32"><img src="git.png" width="16" height="16" title="code/modules/library/lib_machines.dm 32"></a></h3><p>The current title we're searching for</p><h2 id="proc">Proc Details</h2><h3 id="proc/convert_ambiguous_input"><aside class="declaration">proc </aside>convert_ambiguous_input<aside>(input, default)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/library/lib_machines.dm#L160"><img src="git.png" width="16" height="16" title="code/modules/library/lib_machines.dm 160"></a></aside></h3><p>Takes input that could either be a number, or a string that represents a number and returns a number</p><h3 id="proc/prevent_db_spam"><aside class="declaration">proc </aside>prevent_db_spam<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/library/lib_machines.dm#L139"><img src="git.png" width="16" height="16" title="code/modules/library/lib_machines.dm 139"></a></aside></h3><p>Checks if the machine is alloweed to make another db request yet. TRUE if so, FALSE otherwise</p><h3 id="proc/sanitize_page_input"><aside class="declaration">proc </aside>sanitize_page_input<aside>(input, default, max)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/library/lib_machines.dm#L154"><img src="git.png" width="16" height="16" title="code/modules/library/lib_machines.dm 154"></a></aside></h3><p>Returns a santized page input, so converted from num/text to num, and properly maxed</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>