<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/projectile/bullet/coin - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/projectile/bullet/coin.html#var">Var Details</a> - <a href="obj/projectile/bullet/coin.html#proc">Proc Details</a></header><main><h1>coin <aside>/<a href="obj.html">obj</a>/<a href="obj/projectile.html">projectile</a>/<a href="obj/projectile/bullet/coin.html">bullet/coin</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/projectiles/projectile/bullets/special.dm#L80"><img src="git.png" width="16" height="16" title="code/modules/projectiles/projectile/bullets/special.dm 80"></a></h1><p>Marksman Coin</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/projectile/bullet/coin.html#var/crosshair_indicator">crosshair_indicator</a></th><td>The crosshair icon put on the targeted turf for the user- so we can remove it from their images when done</td></tr><tr><th><a href="obj/projectile/bullet/coin.html#var/num_of_splitshots">num_of_splitshots</a></th><td>When this coin is targeted with a valid splitshot, it creates this many child splitshots</td></tr><tr><th><a href="obj/projectile/bullet/coin.html#var/original_firer">original_firer</a></th><td>The mob who originally flipped this coin, as a matter of convenience, may be able tto be removed</td></tr><tr><th><a href="obj/projectile/bullet/coin.html#var/target_turf">target_turf</a></th><td>Save the turf we're aiming for for future use</td></tr><tr><th><a href="obj/projectile/bullet/coin.html#var/used">used</a></th><td>When a coin has been activated, is is marked as used, so that it is taken out of consideration for any further ricochets</td></tr><tr><th><a href="obj/projectile/bullet/coin.html#var/valid">valid</a></th><td>Coins are valid while within a tile of their target tile, and can only be directly ricoshot during this time.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/projectile/bullet/coin.html#proc/check_splitshot">check_splitshot</a></th><td>We've been shot by a marksman revolver shot, or the ricochet off another coin, check if we can actually ricochet. The forced var being TRUE means it's a ricochet from another coin</td></tr><tr><th><a href="obj/projectile/bullet/coin.html#proc/find_next_target">find_next_target</a></th><td>Find what the splitshots will want to target next, with the order roughly based off the UK coin</td></tr><tr><th><a href="obj/projectile/bullet/coin.html#proc/fire_splitshot">fire_splitshot</a></th><td>Shoot an individual splitshot at a new target</td></tr><tr><th><a href="obj/projectile/bullet/coin.html#proc/iterate_splitshots">iterate_splitshots</a></th><td>Now we actually create all the splitshots, loop through however many splits we'll create and fire them</td></tr><tr><th><a href="obj/projectile/bullet/coin.html#proc/remove_crosshair_indicator">remove_crosshair_indicator</a></th><td>Remove the crosshair indicator from the original firer if it exists</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/crosshair_indicator"><aside class="declaration">var </aside>crosshair_indicator <aside>– /<a href="image.html">image</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/projectiles/projectile/bullets/special.dm#L96"><img src="git.png" width="16" height="16" title="code/modules/projectiles/projectile/bullets/special.dm 96"></a></h3><p>The crosshair icon put on the targeted turf for the user- so we can remove it from their images when done</p><h3 id="var/num_of_splitshots"><aside class="declaration">var </aside>num_of_splitshots <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/projectiles/projectile/bullets/special.dm#L94"><img src="git.png" width="16" height="16" title="code/modules/projectiles/projectile/bullets/special.dm 94"></a></h3><p>When this coin is targeted with a valid splitshot, it creates this many child splitshots</p><h3 id="var/original_firer"><aside class="declaration">var </aside>original_firer <aside>– /<a href="mob.html">mob</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/projectiles/projectile/bullets/special.dm#L98"><img src="git.png" width="16" height="16" title="code/modules/projectiles/projectile/bullets/special.dm 98"></a></h3><p>The mob who originally flipped this coin, as a matter of convenience, may be able tto be removed</p><h3 id="var/target_turf"><aside class="declaration">var </aside>target_turf <aside>– /<a href="turf.html">turf</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/projectiles/projectile/bullets/special.dm#L88"><img src="git.png" width="16" height="16" title="code/modules/projectiles/projectile/bullets/special.dm 88"></a></h3><p>Save the turf we're aiming for for future use</p><h3 id="var/used"><aside class="declaration">var </aside>used <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/projectiles/projectile/bullets/special.dm#L92"><img src="git.png" width="16" height="16" title="code/modules/projectiles/projectile/bullets/special.dm 92"></a></h3><p>When a coin has been activated, is is marked as used, so that it is taken out of consideration for any further ricochets</p><h3 id="var/valid"><aside class="declaration">var </aside>valid <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/projectiles/projectile/bullets/special.dm#L90"><img src="git.png" width="16" height="16" title="code/modules/projectiles/projectile/bullets/special.dm 90"></a></h3><p>Coins are valid while within a tile of their target tile, and can only be directly ricoshot during this time.</p><h2 id="proc">Proc Details</h2><h3 id="proc/check_splitshot"><aside class="declaration">proc </aside>check_splitshot<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/shooter, /<a href="obj.html">obj</a>/<a href="obj/projectile.html">projectile</a>/<a href="obj/projectile/bullet/marksman.html">bullet/marksman</a>/incoming_shot, forced)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/projectiles/projectile/bullets/special.dm#L135"><img src="git.png" width="16" height="16" title="code/modules/projectiles/projectile/bullets/special.dm 135"></a></aside></h3><p>We've been shot by a marksman revolver shot, or the ricochet off another coin, check if we can actually ricochet. The forced var being TRUE means it's a ricochet from another coin</p><h3 id="proc/find_next_target"><aside class="declaration">proc </aside>find_next_target<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/projectiles/projectile/bullets/special.dm#L178"><img src="git.png" width="16" height="16" title="code/modules/projectiles/projectile/bullets/special.dm 178"></a></aside></h3><p>Find what the splitshots will want to target next, with the order roughly based off the UK coin</p><h3 id="proc/fire_splitshot"><aside class="declaration">proc </aside>fire_splitshot<aside>(/<a href="obj.html">obj</a>/<a href="obj/projectile.html">projectile</a>/<a href="obj/projectile/bullet/marksman.html">bullet/marksman</a>/incoming_shot)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/projectiles/projectile/bullets/special.dm#L151"><img src="git.png" width="16" height="16" title="code/modules/projectiles/projectile/bullets/special.dm 151"></a></aside></h3><p>Shoot an individual splitshot at a new target</p><h3 id="proc/iterate_splitshots"><aside class="declaration">proc </aside>iterate_splitshots<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/shooter, /<a href="obj.html">obj</a>/<a href="obj/projectile.html">projectile</a>/incoming_shot)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/projectiles/projectile/bullets/special.dm#L146"><img src="git.png" width="16" height="16" title="code/modules/projectiles/projectile/bullets/special.dm 146"></a></aside></h3><p>Now we actually create all the splitshots, loop through however many splits we'll create and fire them</p><h3 id="proc/remove_crosshair_indicator"><aside class="declaration">proc </aside>remove_crosshair_indicator<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/projectiles/projectile/bullets/special.dm#L129"><img src="git.png" width="16" height="16" title="code/modules/projectiles/projectile/bullets/special.dm 129"></a></aside></h3><p>Remove the crosshair indicator from the original firer if it exists</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>