<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/durand_shield - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/durand_shield.html#var">Var Details</a> - <a href="obj/durand_shield.html#proc">Proc Details</a></header><main><h1>durand_shield <aside>/<a href="obj.html">obj</a>/<a href="obj/durand_shield.html">durand_shield</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/vehicles/mecha/combat/durand.dm#L160"><img src="git.png" width="16" height="16" title="code/modules/vehicles/mecha/combat/durand.dm 160"></a></h1><p>Shield processing
*An object to take the hit for us when using the Durand's defense mode.
It is spawned in during the durand's initilization, and always stays on the same tile.
Normally invisible, until defense mode is actvated. When the durand detects an attack that should be blocked, the
attack is passed to the shield. The shield takes the damage, uses it to calculate charge cost, and then sets its
own integrity back to max. Shield is automatically dropped if we run out of power or the user gets out.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/durand_shield.html#var/chassis">chassis</a></th><td>Our link back to the durand</td></tr><tr><th><a href="obj/durand_shield.html#var/switching">switching</a></th><td>To keep track of things during the animation</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/durand_shield.html#proc/activate">activate</a></th><td>Handles activating and deactivating the shield.</td></tr><tr><th><a href="obj/durand_shield.html#proc/make_invisible">make_invisible</a></th><td>Sets invisibility to INVISIBILITY_MAXIMUM if defense mode is disabled</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/chassis"><aside class="declaration">var </aside>chassis <aside>– /<a href="obj.html">obj</a>/<a href="obj/vehicle.html">vehicle</a>/<a href="obj/vehicle/sealed.html">sealed</a>/<a href="obj/vehicle/sealed/mecha.html">mecha</a>/<a href="obj/vehicle/sealed/mecha/durand.html">durand</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/vehicles/mecha/combat/durand.dm#L175"><img src="git.png" width="16" height="16" title="code/modules/vehicles/mecha/combat/durand.dm 175"></a></h3><p>Our link back to the durand</p><h3 id="var/switching"><aside class="declaration">var </aside>switching <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/vehicles/mecha/combat/durand.dm#L177"><img src="git.png" width="16" height="16" title="code/modules/vehicles/mecha/combat/durand.dm 177"></a></h3><p>To keep track of things during the animation</p><h2 id="proc">Proc Details</h2><h3 id="proc/activate"><aside class="declaration">proc </aside>activate<aside>(/<a href="datum.html">datum</a>/source, /<a href="mob.html">mob</a>/owner, /list/signal_args)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/vehicles/mecha/combat/durand.dm#L213"><img src="git.png" width="16" height="16" title="code/modules/vehicles/mecha/combat/durand.dm 213"></a></aside></h3><p>Handles activating and deactivating the shield.</p>
<p>This proc is called by a signal sent from the mech's action button and
relayed by the mech itself. The &quot;forced&quot; variable, <code>signal_args[1]</code>, will
skip the to-pilot text and is meant for when the shield is disabled by
means other than the action button (like running out of power).</p>
<p>Arguments:</p>
<ul>
<li>source: the shield</li>
<li>owner: mob that activated the shield</li>
<li>signal_args: whether it's forced</li>
</ul><h3 id="proc/make_invisible"><aside class="declaration">proc </aside>make_invisible<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/modules/vehicles/mecha/combat/durand.dm#L258"><img src="git.png" width="16" height="16" title="code/modules/vehicles/mecha/combat/durand.dm 258"></a></aside></h3><p>Sets invisibility to INVISIBILITY_MAXIMUM if defense mode is disabled</p>
<p>We need invisibility set to higher than 25 for the shield to not appear
in the right-click context menu, but if we do it too early, we miss the
deactivate animation. Hense, timer and this proc.</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>