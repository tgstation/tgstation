<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/structure/mounted_gun - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/structure/mounted_gun.html#var">Var Details</a> - <a href="obj/structure/mounted_gun.html#proc">Proc Details</a></header><main><h1>mounted_gun <aside>/<a href="obj.html">obj</a>/<a href="obj/structure.html">structure</a>/<a href="obj/structure/mounted_gun.html">mounted_gun</a></aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm#L4"><img src="git.png" width="16" height="16" title="code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm 4"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/structure/mounted_gun.html#var/accepted_ammo_types">accepted_ammo_types</a></th><td>Things you can load into the gun</td></tr><tr><th><a href="obj/structure/mounted_gun.html#var/anchorable_gun">anchorable_gun</a></th><td>whether the cannon can be unwrenched from the ground. Anchorable_cannon equivalent.</td></tr><tr><th><a href="obj/structure/mounted_gun.html#var/debris">debris</a></th><td>What items to spawn when destroyed</td></tr><tr><th><a href="obj/structure/mounted_gun.html#var/fire_delay">fire_delay</a></th><td>Delay in firing the gun after lighting</td></tr><tr><th><a href="obj/structure/mounted_gun.html#var/fire_sound">fire_sound</a></th><td>Sound of firing for all but last shot</td></tr><tr><th><a href="obj/structure/mounted_gun.html#var/fire_suffix">fire_suffix</a></th><td>Suffix added to base icon state when firing</td></tr><tr><th><a href="obj/structure/mounted_gun.html#var/firing_shakes_camera">firing_shakes_camera</a></th><td>If the gun shakes the camera when firing</td></tr><tr><th><a href="obj/structure/mounted_gun.html#var/is_firing">is_firing</a></th><td>So you can't reload it mid-firing</td></tr><tr><th><a href="obj/structure/mounted_gun.html#var/last_fire_sound">last_fire_sound</a></th><td>Sound of firing for last shot</td></tr><tr><th><a href="obj/structure/mounted_gun.html#var/load_delay">load_delay</a></th><td>Delay it takes to load the gun. Set to 0 if none.</td></tr><tr><th><a href="obj/structure/mounted_gun.html#var/loading_message">loading_message</a></th><td>Message displayed when loading gun</td></tr><tr><th><a href="obj/structure/mounted_gun.html#var/max_shots_per_fire">max_shots_per_fire</a></th><td>Max shots per firing of the gun.</td></tr><tr><th><a href="obj/structure/mounted_gun.html#var/projectile_type">projectile_type</a></th><td>Projectile to fire</td></tr><tr><th><a href="obj/structure/mounted_gun.html#var/shot_delay">shot_delay</a></th><td>Delay between shots</td></tr><tr><th><a href="obj/structure/mounted_gun.html#var/shots_in_gun">shots_in_gun</a></th><td>Shots currently loaded. Should never be more than max_shots_per_fire.</td></tr><tr><th><a href="obj/structure/mounted_gun.html#var/shots_per_load">shots_per_load</a></th><td>Shots added to gun, per piece of ammo loaded.</td></tr><tr><th><a href="obj/structure/mounted_gun.html#var/unanchored_variance">unanchored_variance</a></th><td>How many degrees to vary fire angle if the gun is not anchored</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/structure/mounted_gun.html#proc/finish_firing">finish_firing</a></th><td>Called when we run out of bullets</td></tr><tr><th><a href="obj/structure/mounted_gun.html#proc/fire_gun">fire_gun</a></th><td>Actually finally shoot the thing</td></tr><tr><th><a href="obj/structure/mounted_gun.html#proc/fire_loop">fire_loop</a></th><td>Perform the contents of the loop, return the amount of time until the next shot</td></tr><tr><th><a href="obj/structure/mounted_gun.html#proc/fire_sequence">fire_sequence</a></th><td>Loop firing until we are done</td></tr><tr><th><a href="obj/structure/mounted_gun.html#proc/get_fired_projectile">get_fired_projectile</a></th><td>What kind of ammo are we shooting</td></tr><tr><th><a href="obj/structure/mounted_gun.html#proc/item_interaction">item_interaction</a></th><td>Covers Reloading and lighting of the gun</td></tr><tr><th><a href="obj/structure/mounted_gun.html#proc/time_until_next_shot">time_until_next_shot</a></th><td>Return</td></tr><tr><th><a href="obj/structure/mounted_gun.html#proc/try_firing">try_firing</a></th><td>Start firing the weapon on interaction</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/accepted_ammo_types"><aside class="declaration">var </aside>accepted_ammo_types <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm#L28"><img src="git.png" width="16" height="16" title="code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm 28"></a></h3><p>Things you can load into the gun</p><h3 id="var/anchorable_gun"><aside class="declaration">var </aside>anchorable_gun <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm#L16"><img src="git.png" width="16" height="16" title="code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm 16"></a></h3><p>whether the cannon can be unwrenched from the ground. Anchorable_cannon equivalent.</p><h3 id="var/debris"><aside class="declaration">var </aside>debris <aside>– /list</aside> <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm#L46"><img src="git.png" width="16" height="16" title="code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm 46"></a></h3><p>What items to spawn when destroyed</p><h3 id="var/fire_delay"><aside class="declaration">var </aside>fire_delay <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm#L32"><img src="git.png" width="16" height="16" title="code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm 32"></a></h3><p>Delay in firing the gun after lighting</p><h3 id="var/fire_sound"><aside class="declaration">var </aside>fire_sound <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm#L38"><img src="git.png" width="16" height="16" title="code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm 38"></a></h3><p>Sound of firing for all but last shot</p><h3 id="var/fire_suffix"><aside class="declaration">var </aside>fire_suffix <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm#L14"><img src="git.png" width="16" height="16" title="code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm 14"></a></h3><p>Suffix added to base icon state when firing</p><h3 id="var/firing_shakes_camera"><aside class="declaration">var </aside>firing_shakes_camera <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm#L36"><img src="git.png" width="16" height="16" title="code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm 36"></a></h3><p>If the gun shakes the camera when firing</p><h3 id="var/is_firing"><aside class="declaration">var </aside>is_firing <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm#L42"><img src="git.png" width="16" height="16" title="code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm 42"></a></h3><p>So you can't reload it mid-firing</p><h3 id="var/last_fire_sound"><aside class="declaration">var </aside>last_fire_sound <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm#L40"><img src="git.png" width="16" height="16" title="code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm 40"></a></h3><p>Sound of firing for last shot</p><h3 id="var/load_delay"><aside class="declaration">var </aside>load_delay <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm#L20"><img src="git.png" width="16" height="16" title="code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm 20"></a></h3><p>Delay it takes to load the gun. Set to 0 if none.</p><h3 id="var/loading_message"><aside class="declaration">var </aside>loading_message <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm#L22"><img src="git.png" width="16" height="16" title="code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm 22"></a></h3><p>Message displayed when loading gun</p><h3 id="var/max_shots_per_fire"><aside class="declaration">var </aside>max_shots_per_fire <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm#L18"><img src="git.png" width="16" height="16" title="code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm 18"></a></h3><p>Max shots per firing of the gun.</p><h3 id="var/projectile_type"><aside class="declaration">var </aside>projectile_type <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm#L30"><img src="git.png" width="16" height="16" title="code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm 30"></a></h3><p>Projectile to fire</p><h3 id="var/shot_delay"><aside class="declaration">var </aside>shot_delay <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm#L34"><img src="git.png" width="16" height="16" title="code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm 34"></a></h3><p>Delay between shots</p><h3 id="var/shots_in_gun"><aside class="declaration">var </aside>shots_in_gun <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm#L24"><img src="git.png" width="16" height="16" title="code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm 24"></a></h3><p>Shots currently loaded. Should never be more than max_shots_per_fire.</p><h3 id="var/shots_per_load"><aside class="declaration">var </aside>shots_per_load <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm#L26"><img src="git.png" width="16" height="16" title="code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm 26"></a></h3><p>Shots added to gun, per piece of ammo loaded.</p><h3 id="var/unanchored_variance"><aside class="declaration">var </aside>unanchored_variance <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm#L44"><img src="git.png" width="16" height="16" title="code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm 44"></a></h3><p>How many degrees to vary fire angle if the gun is not anchored</p><h2 id="proc">Proc Details</h2><h3 id="proc/finish_firing"><aside class="declaration">proc </aside>finish_firing<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm#L140"><img src="git.png" width="16" height="16" title="code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm 140"></a></aside></h3><p>Called when we run out of bullets</p><h3 id="proc/fire_gun"><aside class="declaration">proc </aside>fire_gun<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm#L171"><img src="git.png" width="16" height="16" title="code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm 171"></a></aside></h3><p>Actually finally shoot the thing</p><h3 id="proc/fire_loop"><aside class="declaration">proc </aside>fire_loop<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm#L163"><img src="git.png" width="16" height="16" title="code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm 163"></a></aside></h3><p>Perform the contents of the loop, return the amount of time until the next shot</p><h3 id="proc/fire_sequence"><aside class="declaration">proc </aside>fire_sequence<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm#L122"><img src="git.png" width="16" height="16" title="code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm 122"></a></aside></h3><p>Loop firing until we are done</p><h3 id="proc/get_fired_projectile"><aside class="declaration">proc </aside>get_fired_projectile<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm#L180"><img src="git.png" width="16" height="16" title="code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm 180"></a></aside></h3><p>What kind of ammo are we shooting</p><h3 id="proc/item_interaction"><aside class="parent"><a title="/atom" href="atom.html#proc/item_interaction">↑</a></aside>item_interaction<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/tool, /list/modifiers)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm#L84"><img src="git.png" width="16" height="16" title="code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm 84"></a></aside></h3><p>Covers Reloading and lighting of the gun</p><h3 id="proc/time_until_next_shot"><aside class="declaration">proc </aside>time_until_next_shot<aside>()  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm#L145"><img src="git.png" width="16" height="16" title="code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm 145"></a></aside></h3><p>Return</p><h3 id="proc/try_firing"><aside class="declaration">proc </aside>try_firing<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f/code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm#L117"><img src="git.png" width="16" height="16" title="code/game/objects/structures/cannons/mounted_guns/mounted_gun.dm 117"></a></aside></h3><p>Start firing the weapon on interaction</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/cd8d3cfc6452876b3929e640c2fd6fdbfee7f93f">cd8d3cf</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>