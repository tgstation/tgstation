<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/structure/disposalholder - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/structure/disposalholder.html#var">Var Details</a> - <a href="obj/structure/disposalholder.html#proc">Proc Details</a></header><main><h1>disposalholder <aside>/<a href="obj.html">obj</a>/<a href="obj/structure.html">structure</a>/<a href="obj/structure/disposalholder.html">disposalholder</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/recycling/disposal/holder.dm#L6"><img src="git.png" width="16" height="16" title="code/modules/recycling/disposal/holder.dm 6"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/structure/disposalholder.html#var/active">active</a></th><td>True if the holder is moving, otherwise inactive</td></tr><tr><th><a href="obj/structure/disposalholder.html#var/count">count</a></th><td>Can travel 1000 steps before going inactive (in case of loops)</td></tr><tr><th><a href="obj/structure/disposalholder.html#var/destinationTag">destinationTag</a></th><td>Changes if contains a delivery container</td></tr><tr><th><a href="obj/structure/disposalholder.html#var/gas">gas</a></th><td>Gas used to flush, will appear at exit point</td></tr><tr><th><a href="obj/structure/disposalholder.html#var/hasmob">hasmob</a></th><td>Contains a mob?</td></tr><tr><th><a href="obj/structure/disposalholder.html#var/tomail">tomail</a></th><td>Contains wrapped package?</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/structure/disposalholder.html#proc/findpipe">findpipe</a></th><td>Finds a matching pipe on a turf</td></tr><tr><th><a href="obj/structure/disposalholder.html#proc/init">init</a></th><td>Initializes a holder from the contents of a disposal unit</td></tr><tr><th><a href="obj/structure/disposalholder.html#proc/merge">merge</a></th><td>Merge two holder objects, used when a holder meets a stuck holder</td></tr><tr><th><a href="obj/structure/disposalholder.html#proc/movement_stop">movement_stop</a></th><td>Handles what happens to the contents when the qdel signal triggers</td></tr><tr><th><a href="obj/structure/disposalholder.html#proc/nextloc">nextloc</a></th><td>Finds the turf which should contain the next pipe</td></tr><tr><th><a href="obj/structure/disposalholder.html#proc/pre_move">pre_move</a></th><td>Handles the preprocess check signal, sets the current pipe as the last pipe</td></tr><tr><th><a href="obj/structure/disposalholder.html#proc/start">start</a></th><td>Starts the movement process, argument is the disposal unit the holder started in</td></tr><tr><th><a href="obj/structure/disposalholder.html#proc/start_moving">start_moving</a></th><td>Starts the movement process, persists while the holder is moving through pipes</td></tr><tr><th><a href="obj/structure/disposalholder.html#proc/struggle_free">struggle_free</a></th><td>Completes the struggle code</td></tr><tr><th><a href="obj/structure/disposalholder.html#proc/struggle_prep">struggle_prep</a></th><td>Starts the struggle code</td></tr><tr><th><a href="obj/structure/disposalholder.html#proc/try_expel">try_expel</a></th><td>Handles the postprocess check signal, tries to leave the pipe</td></tr><tr><th><a href="obj/structure/disposalholder.html#proc/vent_gas">vent_gas</a></th><td>Called to vent all gas in holder to a location</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/active"><aside class="declaration">var </aside>active <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/recycling/disposal/holder.dm#L15"><img src="git.png" width="16" height="16" title="code/modules/recycling/disposal/holder.dm 15"></a></h3><p>True if the holder is moving, otherwise inactive</p><h3 id="var/count"><aside class="declaration">var </aside>count <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/recycling/disposal/holder.dm#L17"><img src="git.png" width="16" height="16" title="code/modules/recycling/disposal/holder.dm 17"></a></h3><p>Can travel 1000 steps before going inactive (in case of loops)</p><h3 id="var/destinationTag"><aside class="declaration">var </aside>destinationTag <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/recycling/disposal/holder.dm#L19"><img src="git.png" width="16" height="16" title="code/modules/recycling/disposal/holder.dm 19"></a></h3><p>Changes if contains a delivery container</p><h3 id="var/gas"><aside class="declaration">var </aside>gas <aside>– /<a href="datum.html">datum</a>/<a href="datum/gas_mixture.html">gas_mixture</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/recycling/disposal/holder.dm#L13"><img src="git.png" width="16" height="16" title="code/modules/recycling/disposal/holder.dm 13"></a></h3><p>Gas used to flush, will appear at exit point</p><h3 id="var/hasmob"><aside class="declaration">var </aside>hasmob <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/recycling/disposal/holder.dm#L23"><img src="git.png" width="16" height="16" title="code/modules/recycling/disposal/holder.dm 23"></a></h3><p>Contains a mob?</p><h3 id="var/tomail"><aside class="declaration">var </aside>tomail <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/recycling/disposal/holder.dm#L21"><img src="git.png" width="16" height="16" title="code/modules/recycling/disposal/holder.dm 21"></a></h3><p>Contains wrapped package?</p><h2 id="proc">Proc Details</h2><h3 id="proc/findpipe"><aside class="declaration">proc </aside>findpipe<aside>(/<a href="turf.html">turf</a>/T)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/recycling/disposal/holder.dm#L167"><img src="git.png" width="16" height="16" title="code/modules/recycling/disposal/holder.dm 167"></a></aside></h3><p>Finds a matching pipe on a turf</p><h3 id="proc/init"><aside class="declaration">proc </aside>init<aside>(/<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/disposal.html">disposal</a>/D)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/recycling/disposal/holder.dm#L36"><img src="git.png" width="16" height="16" title="code/modules/recycling/disposal/holder.dm 36"></a></aside></h3><p>Initializes a holder from the contents of a disposal unit</p><h3 id="proc/merge"><aside class="declaration">proc </aside>merge<aside>(/<a href="obj.html">obj</a>/<a href="obj/structure.html">structure</a>/<a href="obj/structure/disposalholder.html">disposalholder</a>/other)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/recycling/disposal/holder.dm#L181"><img src="git.png" width="16" height="16" title="code/modules/recycling/disposal/holder.dm 181"></a></aside></h3><p>Merge two holder objects, used when a holder meets a stuck holder</p><h3 id="proc/movement_stop"><aside class="declaration">proc </aside>movement_stop<aside>(/<a href="datum.html">datum</a>/source)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/recycling/disposal/holder.dm#L101"><img src="git.png" width="16" height="16" title="code/modules/recycling/disposal/holder.dm 101"></a></aside></h3><p>Handles what happens to the contents when the qdel signal triggers</p><h3 id="proc/nextloc"><aside class="declaration">proc </aside>nextloc<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/recycling/disposal/holder.dm#L163"><img src="git.png" width="16" height="16" title="code/modules/recycling/disposal/holder.dm 163"></a></aside></h3><p>Finds the turf which should contain the next pipe</p><h3 id="proc/pre_move"><aside class="declaration">proc </aside>pre_move<aside>(/<a href="datum.html">datum</a>/<a href="datum/move_loop.html">move_loop</a>/source)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/recycling/disposal/holder.dm#L89"><img src="git.png" width="16" height="16" title="code/modules/recycling/disposal/holder.dm 89"></a></aside></h3><p>Handles the preprocess check signal, sets the current pipe as the last pipe</p><h3 id="proc/start"><aside class="declaration">proc </aside>start<aside>(/<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/disposal.html">disposal</a>/D)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/recycling/disposal/holder.dm#L69"><img src="git.png" width="16" height="16" title="code/modules/recycling/disposal/holder.dm 69"></a></aside></h3><p>Starts the movement process, argument is the disposal unit the holder started in</p><h3 id="proc/start_moving"><aside class="declaration">proc </aside>start_moving<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/recycling/disposal/holder.dm#L79"><img src="git.png" width="16" height="16" title="code/modules/recycling/disposal/holder.dm 79"></a></aside></h3><p>Starts the movement process, persists while the holder is moving through pipes</p><h3 id="proc/struggle_free"><aside class="declaration">proc </aside>struggle_free<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/escapee)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/recycling/disposal/holder.dm#L128"><img src="git.png" width="16" height="16" title="code/modules/recycling/disposal/holder.dm 128"></a></aside></h3><p>Completes the struggle code</p>
<p>The linter gets upsetti spaghetti if this is part of the above proc
because the do_after is a sleep.</p><h3 id="proc/struggle_prep"><aside class="declaration">proc </aside>struggle_prep<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/escapee)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/recycling/disposal/holder.dm#L115"><img src="git.png" width="16" height="16" title="code/modules/recycling/disposal/holder.dm 115"></a></aside></h3><p>Starts the struggle code</p>
<p>Called by resist verb (or hotkey) via signal. Makes a sanity
check and then calls part 2.</p><h3 id="proc/try_expel"><aside class="declaration">proc </aside>try_expel<aside>(/<a href="datum.html">datum</a>/<a href="datum/move_loop.html">move_loop</a>/source, result, visual_delay)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/recycling/disposal/holder.dm#L94"><img src="git.png" width="16" height="16" title="code/modules/recycling/disposal/holder.dm 94"></a></aside></h3><p>Handles the postprocess check signal, tries to leave the pipe</p><h3 id="proc/vent_gas"><aside class="declaration">proc </aside>vent_gas<aside>(/<a href="turf.html">turf</a>/T)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/recycling/disposal/holder.dm#L205"><img src="git.png" width="16" height="16" title="code/modules/recycling/disposal/holder.dm 205"></a></aside></h3><p>Called to vent all gas in holder to a location</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/c41b333c9bc46606d2c5d5b517f7836d5953fbfd">c41b333</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>