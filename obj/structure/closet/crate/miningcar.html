<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/structure/closet/crate/miningcar - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/structure/closet/crate/miningcar.html#var">Var Details</a> - <a href="obj/structure/closet/crate/miningcar.html#proc">Proc Details</a></header><main><h1>miningcar <aside>/<a href="obj.html">obj</a>/<a href="obj/structure.html">structure</a>/<a href="obj/structure/closet.html">closet</a>/<a href="obj/structure/closet/crate.html">crate</a>/<a href="obj/structure/closet/crate/miningcar.html">miningcar</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/mining/mine_items.dm#L157"><img src="git.png" width="16" height="16" title="code/modules/mining/mine_items.dm 157"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/structure/closet/crate/miningcar.html#var/momentum">momentum</a></th><td>How many turfs we are travelling, also functions as speed (more momentum = faster)</td></tr><tr><th><a href="obj/structure/closet/crate/miningcar.html#var/on_rails">on_rails</a></th><td>Whether we're on a set of rails or just on the ground</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/structure/closet/crate/miningcar.html#proc/calculate_delay">calculate_delay</a></th><td>Calculates how fast the cart is going</td></tr><tr><th><a href="obj/structure/closet/crate/miningcar.html#proc/can_travel_on_turf">can_travel_on_turf</a></th><td>Checks if we can travel on the passed turf</td></tr><tr><th><a href="obj/structure/closet/crate/miningcar.html#proc/shove_off">shove_off</a></th><td>Starts the cart moving automatically.</td></tr><tr><th><a href="obj/structure/closet/crate/miningcar.html#proc/smack">smack</a></th><td>Called when the minecart smacks into someone.</td></tr><tr><th><a href="obj/structure/closet/crate/miningcar.html#proc/throw_contents">throw_contents</a></th><td>Throws all the contents of the cart out ahead</td></tr><tr><th><a href="obj/structure/closet/crate/miningcar.html#proc/try_put_on_rails">try_put_on_rails</a></th><td>Attempt to put the cart on rails</td></tr><tr><th><a href="obj/structure/closet/crate/miningcar.html#proc/try_take_off_rails">try_take_off_rails</a></th><td>Attempt to remove the cart from rails</td></tr><tr><th><a href="obj/structure/closet/crate/miningcar.html#proc/update_rail_state">update_rail_state</a></th><td>Updates the state of the minecart to be on or off rails.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/momentum"><aside class="declaration">var </aside>momentum <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/mining/mine_items.dm#L172"><img src="git.png" width="16" height="16" title="code/modules/mining/mine_items.dm 172"></a></h3><p>How many turfs we are travelling, also functions as speed (more momentum = faster)</p><h3 id="var/on_rails"><aside class="declaration">var </aside>on_rails <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/mining/mine_items.dm#L170"><img src="git.png" width="16" height="16" title="code/modules/mining/mine_items.dm 170"></a></h3><p>Whether we're on a set of rails or just on the ground</p><h2 id="proc">Proc Details</h2><h3 id="proc/calculate_delay"><aside class="declaration">proc </aside>calculate_delay<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/mining/mine_items.dm#L490"><img src="git.png" width="16" height="16" title="code/modules/mining/mine_items.dm 490"></a></aside></h3><p>Calculates how fast the cart is going</p><h3 id="proc/can_travel_on_turf"><aside class="declaration">proc </aside>can_travel_on_turf<aside>(/<a href="turf.html">turf</a>/next_turf, dir_to_check)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/mining/mine_items.dm#L494"><img src="git.png" width="16" height="16" title="code/modules/mining/mine_items.dm 494"></a></aside></h3><p>Checks if we can travel on the passed turf</p><h3 id="proc/shove_off"><aside class="declaration">proc </aside>shove_off<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/bumped_atom)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/mining/mine_items.dm#L374"><img src="git.png" width="16" height="16" title="code/modules/mining/mine_items.dm 374"></a></aside></h3><p>Starts the cart moving automatically.</p><h3 id="proc/smack"><aside class="declaration">proc </aside>smack<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/smacked, damage_mod, momentum_mod)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/mining/mine_items.dm#L245"><img src="git.png" width="16" height="16" title="code/modules/mining/mine_items.dm 245"></a></aside></h3><p>Called when the minecart smacks into someone.</p>
<ul>
<li>smacked - The mob that was smacked.</li>
<li>damage_mod - How much to multiply the momentum by to get the damage.</li>
<li>momentum_mod - How much to divide the momentum by after the smack.</li>
</ul><h3 id="proc/throw_contents"><aside class="declaration">proc </aside>throw_contents<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/mining/mine_items.dm#L502"><img src="git.png" width="16" height="16" title="code/modules/mining/mine_items.dm 502"></a></aside></h3><p>Throws all the contents of the cart out ahead</p><h3 id="proc/try_put_on_rails"><aside class="declaration">proc </aside>try_put_on_rails<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user, /<a href="turf.html">turf</a>/<a href="turf/open.html">open</a>/new_destination)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/mining/mine_items.dm#L342"><img src="git.png" width="16" height="16" title="code/modules/mining/mine_items.dm 342"></a></aside></h3><p>Attempt to put the cart on rails</p>
<ul>
<li>user - The user attempting to put the cart on the rails.</li>
<li>new_destination - The turf the cart will be moved to.</li>
</ul><h3 id="proc/try_take_off_rails"><aside class="declaration">proc </aside>try_take_off_rails<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user, /<a href="turf.html">turf</a>/<a href="turf/open.html">open</a>/new_destination)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/mining/mine_items.dm#L326"><img src="git.png" width="16" height="16" title="code/modules/mining/mine_items.dm 326"></a></aside></h3><p>Attempt to remove the cart from rails</p>
<ul>
<li>user - The user attempting to remove the cart from the rails.</li>
<li>new_destination - The turf the cart will be moved to.</li>
</ul><h3 id="proc/update_rail_state"><aside class="declaration">proc </aside>update_rail_state<aside>(new_state)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/mining/mine_items.dm#L283"><img src="git.png" width="16" height="16" title="code/modules/mining/mine_items.dm 283"></a></aside></h3><p>Updates the state of the minecart to be on or off rails.</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/c41b333c9bc46606d2c5d5b517f7836d5953fbfd">c41b333</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>