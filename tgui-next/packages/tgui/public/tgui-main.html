<!DOCTYPE html>
<html>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta charset="utf-8">

<!-- Early setup -->
<script id="data" type="application/json" data-ref="[ref]">{}</script>
<script type="text/javascript">
// Mark the beginning of initialization
window.__inception__ = new Date().getTime();
// Make window ref global
window.__ref__ = document.getElementById('data').getAttribute('data-ref');
// Early global error handling
window.onerror = function (msg, url, line, col, error) {
  var logString = msg + ' (' + url + ' line ' + line + ')'
    + '\nUser Agent: ' + navigator.userAgent;
  // IE8: Print to the page
  document.write(logString);
  // Send to the backend
  location.href = 'byond://?src=' + window.__ref__
    + '&action=tgui:log&error=true'
    + '&log=' + encodeURIComponent(logString);
};
// Early initialization
window.__updateQueue__ = [];
window.update = window.initialize = function (stateJson) {
  window.__updateQueue__.push(stateJson);
};
location.href = 'byond://?src=' + window.__ref__
  + '&action=tgui:initialize';
</script>

<!-- Styles -->
<link rel="stylesheet" type="text/css" href="tgui.bundle.css">

<!-- This is processed in byond, so interfaces can override the
  html head if needed, for custom sheets of style etc. -->
<!--customheadhtml-->

<!-- Scripts -->
<script type="text/javascript" defer src="shim-html5shiv.js"></script>
<script type="text/javascript" defer src="shim-ie8.js"></script>
<script type="text/javascript" defer src="shim-dom4.js"></script>
<script type="text/javascript" defer src="shim-css-om.js"></script>
<script type="text/javascript" defer src="tgui.bundle.js"></script>

</head>
<body class="theme-[style]">

<!-- New TGUI container -->
<div id="react-root"></div>

<!-- Old TGUI container -->
<div id="container" class="container"></div>

<noscript>
  <div class="NoticeBox">
    <div>Javascript is required in order to use this interface.</div>
    <div>Please enable Javascript and restart the game.</div>
  </div>
</noscript>

</body>
</html>
