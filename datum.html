<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><link rel="stylesheet" href="dmdoc.css"><title>/datum - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> â€” <a href="datum.html#var">Var Details</a> - <a href="datum.html#proc">Proc Details</a></header><main><h1>datum <aside>/<a href="datum.html">datum</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datum.dm#L11"><img src="git.png" width="16" height="16" title="code/datums/datum.dm 11"></a></h1><p>The absolute base class for everything</p>
<p>A datum instantiated has no physical world presence, use an atom if you want something
that actually lives in the world</p>
<p>Be very mindful about adding variables to this class, they are inherited by every single
thing in the entire game, and so you can easily cause memory usage to rise a lot with careless
use of variables at this level</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum.html#var/_active_timers">_active_timers</a></th><td>Active timers with this datum as the target</td></tr><tr><th><a href="datum.html#var/_datum_components">_datum_components</a></th><td>Components attached to this datum</td></tr><tr><th><a href="datum.html#var/_listen_lookup">_listen_lookup</a></th><td>Any datum registered to receive signals from this datum is in this list</td></tr><tr><th><a href="datum.html#var/_signal_procs">_signal_procs</a></th><td>Lazy associated list in the structure of <code>target -&gt; list(signal -&gt; proctype)</code> that are run when the datum receives that signal</td></tr><tr><th><a href="datum.html#var/_status_traits">_status_traits</a></th><td>Status traits attached to this datum. associative list of the form: list(trait name (string) = list(source1, source2, source3,...))</td></tr><tr><th><a href="datum.html#var/abstract_type">abstract_type</a></th><td>Parent types.</td></tr><tr><th><a href="datum.html#var/datum_flags">datum_flags</a></th><td>Datum level flags</td></tr><tr><th><a href="datum.html#var/filter_cache">filter_cache</a></th><td>An accursed beast of a list that contains our filters. Why? Because var/list/filters on atoms/images isn't actually a list
but a snowflaked skinwalker pretending to be one, which doesn't support half the list procs/operations and the other half behaves weirdly
so we cut down on filter creation and appearance update costs by editing <em>this</em> list, and then assigning ours to it</td></tr><tr><th><a href="datum.html#var/filter_data">filter_data</a></th><td>List for handling persistent filters.</td></tr><tr><th><a href="datum.html#var/gc_destroyed">gc_destroyed</a></th><td>Tick count time when this object was destroyed.</td></tr><tr><th><a href="datum.html#var/layout_prefs_used">layout_prefs_used</a></th><td>The layout pref we take from the player looking at this datum's UI to know what layout to give.</td></tr><tr><th><a href="datum.html#var/open_uis">open_uis</a></th><td>Open uis owned by this datum
Lazy, since this case is semi rare</td></tr><tr><th><a href="datum.html#var/tgui_shared_states">tgui_shared_states</a></th><td>global</td></tr><tr><th><a href="datum.html#var/weak_reference">weak_reference</a></th><td>A weak reference to another datum</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum.html#proc/AddElementTrait">AddElementTrait</a></th><td>Used to manage (typically non_bespoke) elements with multiple sources through traits
so we don't have to make them a components again.
The element will be later removed once all trait sources are gone, there's no need of a
&quot;RemoveElementTrait&quot; counterpart.</td></tr><tr><th><a href="datum.html#proc/Destroy">Destroy</a></th><td>Default implementation of clean-up code.</td></tr><tr><th><a href="datum.html#proc/GenerateTag">GenerateTag</a></th><td>Generate a tag for this /datum, if it implements one
Should be called as early as possible, best would be in New, to avoid weakref mistargets
Really just don't use this, you don't need it, global lists will do just fine MOST of the time
We really only use it for mobs to make id'ing people easier</td></tr><tr><th><a href="datum.html#proc/GetComponent">GetComponent</a></th><td>Return any component assigned to this datum of the given type</td></tr><tr><th><a href="datum.html#proc/GetComponents">GetComponents</a></th><td>Get all components of a given type that are attached to this datum</td></tr><tr><th><a href="datum.html#proc/GetExactComponent">GetExactComponent</a></th><td>Return any component assigned to this datum of the exact given type</td></tr><tr><th><a href="datum.html#proc/REPLACE_PRONOUNS">REPLACE_PRONOUNS</a></th><td>A proc to replace pronouns in a string with the appropriate pronouns for a target atom.
Uses associative list access from a __DEFINE list, since associative access is slightly
faster</td></tr><tr><th><a href="datum.html#proc/RegisterSignal">RegisterSignal</a></th><td>Register to listen for a signal from the passed in target</td></tr><tr><th><a href="datum.html#proc/RegisterSignals">RegisterSignals</a></th><td>Registers multiple signals to the same proc.</td></tr><tr><th><a href="datum.html#proc/RemoveComponentSource">RemoveComponentSource</a></th><td>Removes a component source from this datum</td></tr><tr><th><a href="datum.html#proc/TakeComponent">TakeComponent</a></th><td>Transfer this component to another parent</td></tr><tr><th><a href="datum.html#proc/Topic">Topic</a></th><td>Called when a href for this datum is clicked</td></tr><tr><th><a href="datum.html#proc/TransferComponents">TransferComponents</a></th><td>Transfer all components to target</td></tr><tr><th><a href="datum.html#proc/UnregisterSignal">UnregisterSignal</a></th><td>Stop listening to a given signal from target</td></tr><tr><th><a href="datum.html#proc/_AddComponent">_AddComponent</a></th><td>Creates an instance of <code>new_type</code> in the datum and attaches to it as parent</td></tr><tr><th><a href="datum.html#proc/_AddElement">_AddElement</a></th><td>Finds the singleton for the element type given and attaches it to src</td></tr><tr><th><a href="datum.html#proc/_LoadComponent">_LoadComponent</a></th><td>Get existing component of type, or create it and return a reference to it</td></tr><tr><th><a href="datum.html#proc/_RemoveElement">_RemoveElement</a></th><td>Finds the singleton for the element type given and detaches it from src
You only need additional arguments beyond the type if you're using <a href="code/__DEFINES/dcs/declarations.html#define/ELEMENT_BESPOKE" title="ELEMENT_BESPOKE">ELEMENT_BESPOKE</a></td></tr><tr><th><a href="datum.html#proc/_SendSignal">_SendSignal</a></th><td>Internal proc to handle most all of the signaling procedure</td></tr><tr><th><a href="datum.html#proc/_clear_signal_refs">_clear_signal_refs</a></th><td>Only override this if you know what you're doing. You do not know what you're doing
This is a threat</td></tr><tr><th><a href="datum.html#proc/add_filter">add_filter</a></th><td></td></tr><tr><th><a href="datum.html#proc/add_filters">add_filters</a></th><td>A version of add_filter that takes a list of filters to add rather than being individual, to limit appearance updates</td></tr><tr><th><a href="datum.html#proc/add_traits">add_traits</a></th><td>Proc that handles adding multiple traits to a target via a list. Must have a common source and target.</td></tr><tr><th><a href="datum.html#proc/change_filter_priority">change_filter_priority</a></th><td>Updates the priority of the passed filter key</td></tr><tr><th><a href="datum.html#proc/deserialize_json">deserialize_json</a></th><td>Deserializes from JSON. Does not parse type.</td></tr><tr><th><a href="datum.html#proc/deserialize_list">deserialize_list</a></th><td>Accepts a LIST from deserialize_datum. Should return whether or not the deserialization was successful.</td></tr><tr><th><a href="datum.html#proc/dump_harddel_info">dump_harddel_info</a></th><td>Return text from this proc to provide extra context to hard deletes that happen to it
Optional, you should use this for cases where replication is difficult and extra context is required
Can be called more then once per object, use harddel_deets_dumped to avoid duplicate calls (I am so sorry)</td></tr><tr><th><a href="datum.html#proc/get_filter">get_filter</a></th><td>Returns the filter associated with the passed key</td></tr><tr><th><a href="datum.html#proc/get_filter_data">get_filter_data</a></th><td>Returns filter data associated with the passed key</td></tr><tr><th><a href="datum.html#proc/jatum_new_arglist">jatum_new_arglist</a></th><td>Gets the flat list that can be passed in a <code>new /type(argslist(retval))</code> expression to recreate the datum. Must only return a list containing values that can be JATUM serialized</td></tr><tr><th><a href="datum.html#proc/modify_filter">modify_filter</a></th><td></td></tr><tr><th><a href="datum.html#proc/process">process</a></th><td>This proc is called on a datum on every &quot;cycle&quot; if it is being processed by a subsystem. The time between each cycle is determined by the subsystem's &quot;wait&quot; setting.
You can start and stop processing a datum using the START_PROCESSING and STOP_PROCESSING defines.</td></tr><tr><th><a href="datum.html#proc/ref_search_details">ref_search_details</a></th><td>Return info about us for reference searching purposes
Will be logged as a representation of this datum if it's a part of a search chain</td></tr><tr><th><a href="datum.html#proc/remove_filter">remove_filter</a></th><td>Removes the passed filter, or multiple filters, if supplied with a list.</td></tr><tr><th><a href="datum.html#proc/remove_traits">remove_traits</a></th><td>Proc that handles removing multiple traits from a target via a list. Must have a common source and target.</td></tr><tr><th><a href="datum.html#proc/selfdelete">selfdelete</a></th><td>Calls qdel on itself, because signals dont allow callbacks</td></tr><tr><th><a href="datum.html#proc/serialize_json">serialize_json</a></th><td>Serializes into JSON. Does not encode type.</td></tr><tr><th><a href="datum.html#proc/serialize_list">serialize_list</a></th><td>Return a list of data which can be used to investigate the datum, also ensure that you set the semver in the options list</td></tr><tr><th><a href="datum.html#proc/string_assoc_list">string_assoc_list</a></th><td>Caches associative lists with non-numeric stringify-able index keys and stringify-able values (text/typepath -&gt; text/path/number).</td></tr><tr><th><a href="datum.html#proc/string_assoc_nested_list">string_assoc_nested_list</a></th><td>Caches associative nested lists with non-numeric stringify-able index keys and stringify-able values (text/typepath -&gt; text/path/number).</td></tr><tr><th><a href="datum.html#proc/string_numbers_list">string_numbers_list</a></th><td>Caches lists of numeric values.</td></tr><tr><th><a href="datum.html#proc/transition_filter">transition_filter</a></th><td></td></tr><tr><th><a href="datum.html#proc/transition_filter_chain">transition_filter_chain</a></th><td></td></tr><tr><th><a href="datum.html#proc/ui_act">ui_act</a></th><td>public</td></tr><tr><th><a href="datum.html#proc/ui_assets">ui_assets</a></th><td>public</td></tr><tr><th><a href="datum.html#proc/ui_close">ui_close</a></th><td>public</td></tr><tr><th><a href="datum.html#proc/ui_data">ui_data</a></th><td>public</td></tr><tr><th><a href="datum.html#proc/ui_host">ui_host</a></th><td>private</td></tr><tr><th><a href="datum.html#proc/ui_interact">ui_interact</a></th><td>public</td></tr><tr><th><a href="datum.html#proc/ui_state">ui_state</a></th><td>private</td></tr><tr><th><a href="datum.html#proc/ui_static_data">ui_static_data</a></th><td>public</td></tr><tr><th><a href="datum.html#proc/ui_status">ui_status</a></th><td>public</td></tr><tr><th><a href="datum.html#proc/update_data_for_all_viewers">update_data_for_all_viewers</a></th><td>public</td></tr><tr><th><a href="datum.html#proc/update_filters">update_filters</a></th><td>Reapplies all the filters. If start_index is passed, only a portion of all filters are reapplied starting from said index</td></tr><tr><th><a href="datum.html#proc/update_static_data">update_static_data</a></th><td>public</td></tr><tr><th><a href="datum.html#proc/update_static_data_for_all_viewers">update_static_data_for_all_viewers</a></th><td>public</td></tr><tr><th><a href="datum.html#proc/vv_do_topic">vv_do_topic</a></th><td>This proc is only called if everything topic-wise is verified. The only verifications that should happen here is things like permission checks!
href_list is a reference, modifying it in these procs WILL change the rest of the proc in topic.dm of admin/view_variables!
This proc is for &quot;high level&quot; actions like admin heal/set species/etc/etc. The low level debugging things should go in admin/view_variables/topic_basic.dm in case this runtimes.</td></tr><tr><th><a href="datum.html#proc/vv_edit_var">vv_edit_var</a></th><td>Called when a var is edited with the new value to change to</td></tr><tr><th><a href="datum.html#proc/vv_get_dropdown">vv_get_dropdown</a></th><td>Gets all the dropdown options in the vv menu.
When overriding, make sure to call . = ..() first and append to the result, that way parent items are always at the top and child items are further down.
Add separators by doing VV_DROPDOWN_OPTION(&quot;&quot;, &quot;---&quot;)</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/_active_timers"><aside class="declaration">var </aside>_active_timers <aside>â€“ /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datum.dm#L25"><img src="git.png" width="16" height="16" title="code/datums/datum.dm 25"></a></h3><p>Active timers with this datum as the target</p><h3 id="var/_datum_components"><aside class="declaration">var </aside>_datum_components <aside>â€“ /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datum.dm#L34"><img src="git.png" width="16" height="16" title="code/datums/datum.dm 34"></a></h3><p>Components attached to this datum</p>
<p>Lazy associated list in the structure of <code>type -&gt; component/list of components</code></p><h3 id="var/_listen_lookup"><aside class="declaration">var </aside>_listen_lookup <aside>â€“ /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datum.dm#L40"><img src="git.png" width="16" height="16" title="code/datums/datum.dm 40"></a></h3><p>Any datum registered to receive signals from this datum is in this list</p>
<p>Lazy associated list in the structure of <code>signal -&gt; registree/list of registrees</code></p><h3 id="var/_signal_procs"><aside class="declaration">var </aside>_signal_procs <aside>â€“ /list/list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datum.dm#L42"><img src="git.png" width="16" height="16" title="code/datums/datum.dm 42"></a></h3><p>Lazy associated list in the structure of <code>target -&gt; list(signal -&gt; proctype)</code> that are run when the datum receives that signal</p><h3 id="var/_status_traits"><aside class="declaration">var </aside>_status_traits <aside>â€“ /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datum.dm#L27"><img src="git.png" width="16" height="16" title="code/datums/datum.dm 27"></a></h3><p>Status traits attached to this datum. associative list of the form: list(trait name (string) = list(source1, source2, source3,...))</p><h3 id="var/abstract_type"><aside class="declaration">var </aside>abstract_type <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datum.dm#L98"><img src="git.png" width="16" height="16" title="code/datums/datum.dm 98"></a></h3><p>Parent types.</p>
<p>Abstract-ness is a meta-property of a class that is used to indicate
that the class is intended to be used as a base class for others, and
should not (or cannot) be instantiated.
We have no such language concept in DM, and so we provide a datum member
that can be used to hint at abstractness for circumstances where we would
like that to be the case, such as base behavior providers.</p><h3 id="var/datum_flags"><aside class="declaration">var </aside>datum_flags <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datum.dm#L45"><img src="git.png" width="16" height="16" title="code/datums/datum.dm 45"></a></h3><p>Datum level flags</p><h3 id="var/filter_cache"><aside class="declaration">var </aside>filter_cache <aside>â€“ /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datum.dm#L63"><img src="git.png" width="16" height="16" title="code/datums/datum.dm 63"></a></h3><p>An accursed beast of a list that contains our filters. Why? Because var/list/filters on atoms/images isn't actually a list
but a snowflaked skinwalker pretending to be one, which doesn't support half the list procs/operations and the other half behaves weirdly
so we cut down on filter creation and appearance update costs by editing <em>this</em> list, and then assigning ours to it</p><h3 id="var/filter_data"><aside class="declaration">var </aside>filter_data <aside>â€“ /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datum.dm#L59"><img src="git.png" width="16" height="16" title="code/datums/datum.dm 59"></a></h3><p>List for handling persistent filters.</p><h3 id="var/gc_destroyed"><aside class="declaration">var </aside>gc_destroyed <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datum.dm#L18"><img src="git.png" width="16" height="16" title="code/datums/datum.dm 18"></a></h3><p>Tick count time when this object was destroyed.</p>
<p>If this is non zero then the object has been garbage collected and is awaiting either
a hard del by the GC subsystme, or to be autocollected (if it has no references)</p><h3 id="var/layout_prefs_used"><aside class="declaration">var </aside>layout_prefs_used <aside>â€“ /<a href="datum.html">datum</a>/<a href="datum/preference.html">preference</a>/<a href="datum/preference/choiced.html">choiced</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datum.dm#L86"><img src="git.png" width="16" height="16" title="code/datums/datum.dm 86"></a></h3><p>The layout pref we take from the player looking at this datum's UI to know what layout to give.</p><h3 id="var/open_uis"><aside class="declaration">var </aside>open_uis <aside>â€“ /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datum.dm#L22"><img src="git.png" width="16" height="16" title="code/datums/datum.dm 22"></a></h3><p>Open uis owned by this datum
Lazy, since this case is semi rare</p><h3 id="var/tgui_shared_states"><aside class="declaration">var </aside>tgui_shared_states <aside>â€“ /list</aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/tgui/external.dm#L145"><img src="git.png" width="16" height="16" title="code/modules/tgui/external.dm 145"></a></h3><p>global</p>
<p>Associative list of JSON-encoded shared states that were set by
tgui clients.</p><h3 id="var/weak_reference"><aside class="declaration">var </aside>weak_reference <aside>â€“ /<a href="datum.html">datum</a>/<a href="datum/weakref.html">weakref</a></aside> <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datum.dm#L48"><img src="git.png" width="16" height="16" title="code/datums/datum.dm 48"></a></h3><p>A weak reference to another datum</p><h2 id="proc">Proc Details</h2><h3 id="proc/AddElementTrait"><aside class="declaration">proc </aside>AddElementTrait<aside>(trait, source, /<a href="datum.html">datum</a>/<a href="datum/element.html">element</a>/eletype, ...)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/elements/_element.dm#L91"><img src="git.png" width="16" height="16" title="code/datums/elements/_element.dm 91"></a></aside></h3><p>Used to manage (typically non_bespoke) elements with multiple sources through traits
so we don't have to make them a components again.
The element will be later removed once all trait sources are gone, there's no need of a
&quot;RemoveElementTrait&quot; counterpart.</p><h3 id="proc/Destroy"><aside class="declaration">proc </aside>Destroy<aside>(force)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datum.dm#L125"><img src="git.png" width="16" height="16" title="code/datums/datum.dm 125"></a></aside></h3><p>Default implementation of clean-up code.</p>
<p>This should be overridden to remove all references pointing to the object being destroyed, if
you do override it, make sure to call the parent and return its return value by default</p>
<p>Return an appropriate <a href="code/__DEFINES/qdel.html#define/QDEL_HINT_QUEUE" title="QDEL_HINT_QUEUE">QDEL_HINT</a> to modify handling of your deletion;
in most cases this is <a href="code/__DEFINES/qdel.html#define/QDEL_HINT_QUEUE" title="QDEL_HINT_QUEUE">QDEL_HINT_QUEUE</a>.</p>
<p>The base case is responsible for doing the following</p>
<ul>
<li>Erasing timers pointing to this datum</li>
<li>Erasing compenents on this datum</li>
<li>Notifying datums listening to signals from this datum that we are going away</li>
</ul>
<p>Returns <a href="code/__DEFINES/qdel.html#define/QDEL_HINT_QUEUE" title="QDEL_HINT_QUEUE">QDEL_HINT_QUEUE</a></p><h3 id="proc/GenerateTag"><aside class="declaration">proc </aside>GenerateTag<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datum.dm#L320"><img src="git.png" width="16" height="16" title="code/datums/datum.dm 320"></a></aside></h3><p>Generate a tag for this /datum, if it implements one
Should be called as early as possible, best would be in New, to avoid weakref mistargets
Really just don't use this, you don't need it, global lists will do just fine MOST of the time
We really only use it for mobs to make id'ing people easier</p><h3 id="proc/GetComponent"><aside class="declaration">proc </aside>GetComponent<aside>(/<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/c_type)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/_component.dm#L255"><img src="git.png" width="16" height="16" title="code/datums/components/_component.dm 255"></a></aside></h3><p>Return any component assigned to this datum of the given type</p>
<p>This will throw an error if it's possible to have more than one component of that type on the parent</p>
<p>Arguments:</p>
<ul>
<li>datum/component/c_type The typepath of the component you want to get a reference to</li>
</ul><h3 id="proc/GetComponents"><aside class="declaration">proc </aside>GetComponents<aside>(c_type)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/_component.dm#L296"><img src="git.png" width="16" height="16" title="code/datums/components/_component.dm 296"></a></aside></h3><p>Get all components of a given type that are attached to this datum</p>
<p>Arguments:</p>
<ul>
<li>c_type The component type path</li>
</ul><h3 id="proc/GetExactComponent"><aside class="declaration">proc </aside>GetExactComponent<aside>(/<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/c_type)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/_component.dm#L275"><img src="git.png" width="16" height="16" title="code/datums/components/_component.dm 275"></a></aside></h3><p>Return any component assigned to this datum of the exact given type</p>
<p>This will throw an error if it's possible to have more than one component of that type on the parent</p>
<p>Arguments:</p>
<ul>
<li>datum/component/c_type The typepath of the component you want to get a reference to</li>
</ul><h3 id="proc/REPLACE_PRONOUNS"><aside class="declaration">proc </aside>REPLACE_PRONOUNS<aside>(target_string, /<a href="atom.html">atom</a>/targeted_atom, targeted_gender)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__HELPERS/pronouns.dm#L81"><img src="git.png" width="16" height="16" title="code/__HELPERS/pronouns.dm 81"></a></aside></h3><p>A proc to replace pronouns in a string with the appropriate pronouns for a target atom.
Uses associative list access from a __DEFINE list, since associative access is slightly
faster</p><h3 id="proc/RegisterSignal"><aside class="declaration">proc </aside>RegisterSignal<aside>(/<a href="datum.html">datum</a>/target, signal_type, proctype, override)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/signals.dm#L16"><img src="git.png" width="16" height="16" title="code/datums/signals.dm 16"></a></aside></h3><p>Register to listen for a signal from the passed in target</p>
<p>This sets up a listening relationship such that when the target object emits a signal
the source datum this proc is called upon, will receive a callback to the given proctype
Use PROC_REF(procname), TYPE_PROC_REF(type,procname) or GLOBAL_PROC_REF(procname) macros to validate the passed in proc at compile time.
PROC_REF for procs defined on current type or its ancestors, TYPE_PROC_REF for procs defined on unrelated type and GLOBAL_PROC_REF for global procs.
Return values from procs registered must be a bitfield</p>
<p>Arguments:</p>
<ul>
<li>datum/target The target to listen for signals from</li>
<li>signal_type A signal name</li>
<li>proctype The proc to call back when the signal is emitted</li>
<li>override If a previous registration exists you must explicitly set this</li>
</ul><h3 id="proc/RegisterSignals"><aside class="declaration">proc </aside>RegisterSignals<aside>(/<a href="datum.html">datum</a>/target, /list/signal_types, proctype, override)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/signals.dm#L56"><img src="git.png" width="16" height="16" title="code/datums/signals.dm 56"></a></aside></h3><p>Registers multiple signals to the same proc.</p><h3 id="proc/RemoveComponentSource"><aside class="declaration">proc </aside>RemoveComponentSource<aside>(source, /<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/component_type)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/_component.dm#L407"><img src="git.png" width="16" height="16" title="code/datums/components/_component.dm 407"></a></aside></h3><p>Removes a component source from this datum</p><h3 id="proc/TakeComponent"><aside class="declaration">proc </aside>TakeComponent<aside>(/<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/target)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/_component.dm#L449"><img src="git.png" width="16" height="16" title="code/datums/components/_component.dm 449"></a></aside></h3><p>Transfer this component to another parent</p>
<p>Component is taken from source datum</p>
<p>Arguments:</p>
<ul>
<li>datum/component/target Target datum to transfer to</li>
</ul><h3 id="proc/Topic"><aside class="declaration">proc </aside>Topic<aside>(href, /list/href_list)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datum.dm#L105"><img src="git.png" width="16" height="16" title="code/datums/datum.dm 105"></a></aside></h3><p>Called when a href for this datum is clicked</p>
<p>Sends a <a href="code/__DEFINES/dcs/signals/signals_datum.html#define/COMSIG_TOPIC" title="COMSIG_TOPIC">COMSIG_TOPIC</a> signal</p><h3 id="proc/TransferComponents"><aside class="declaration">proc </aside>TransferComponents<aside>(/<a href="datum.html">datum</a>/target)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/_component.dm#L474"><img src="git.png" width="16" height="16" title="code/datums/components/_component.dm 474"></a></aside></h3><p>Transfer all components to target</p>
<p>All components from source datum are taken</p>
<p>Arguments:</p>
<ul>
<li>/datum/target the target to move the components to</li>
</ul><h3 id="proc/UnregisterSignal"><aside class="declaration">proc </aside>UnregisterSignal<aside>(/<a href="datum.html">datum</a>/target, sig_type_or_types)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/signals.dm#L71"><img src="git.png" width="16" height="16" title="code/datums/signals.dm 71"></a></aside></h3><p>Stop listening to a given signal from target</p>
<p>Breaks the relationship between target and source datum, removing the callback when the signal fires</p>
<p>Doesn't care if a registration exists or not</p>
<p>Arguments:</p>
<ul>
<li>datum/target Datum to stop listening to signals from</li>
<li>sig_typeor_types Signal string key or list of signal keys to stop listening to specifically</li>
</ul><h3 id="proc/_AddComponent"><aside class="declaration">proc </aside>_AddComponent<aside>(/list/raw_args, source)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/_component.dm#L313"><img src="git.png" width="16" height="16" title="code/datums/components/_component.dm 313"></a></aside></h3><p>Creates an instance of <code>new_type</code> in the datum and attaches to it as parent</p>
<p>Sends the <a href="code/__DEFINES/dcs/signals/signals_datum.html#define/COMSIG_COMPONENT_ADDED" title="COMSIG_COMPONENT_ADDED">COMSIG_COMPONENT_ADDED</a> signal to the datum</p>
<p>Returns the component that was created. Or the old component in a dupe situation where <a href="code/__DEFINES/dcs/declarations.html#define/COMPONENT_DUPE_UNIQUE" title="COMPONENT_DUPE_UNIQUE">COMPONENT_DUPE_UNIQUE</a> was set</p>
<p>If this tries to add a component to an incompatible type, the component will be deleted and the result will be <code>null</code>. This is very unperformant, try not to do it</p>
<p>Properly handles duplicate situations based on the <code>dupe_mode</code> var</p><h3 id="proc/_AddElement"><aside class="declaration">proc </aside>_AddElement<aside>(/list/arguments)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/elements/_element.dm#L58"><img src="git.png" width="16" height="16" title="code/datums/elements/_element.dm 58"></a></aside></h3><p>Finds the singleton for the element type given and attaches it to src</p><h3 id="proc/_LoadComponent"><aside class="declaration">proc </aside>_LoadComponent<aside>(/list/arguments)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/components/_component.dm#L423"><img src="git.png" width="16" height="16" title="code/datums/components/_component.dm 423"></a></aside></h3><p>Get existing component of type, or create it and return a reference to it</p>
<p>Use this if the item needs to exist at the time of this call, but may not have been created before now</p>
<p>Arguments:</p>
<ul>
<li>component_type The typepath of the component to create or return</li>
<li>... additional arguments to be passed when creating the component if it does not exist</li>
</ul><h3 id="proc/_RemoveElement"><aside class="declaration">proc </aside>_RemoveElement<aside>(/list/arguments)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/elements/_element.dm#L75"><img src="git.png" width="16" height="16" title="code/datums/elements/_element.dm 75"></a></aside></h3><p>Finds the singleton for the element type given and detaches it from src
You only need additional arguments beyond the type if you're using <a href="code/__DEFINES/dcs/declarations.html#define/ELEMENT_BESPOKE" title="ELEMENT_BESPOKE">ELEMENT_BESPOKE</a></p><h3 id="proc/_SendSignal"><aside class="declaration">proc </aside>_SendSignal<aside>(sigtype, /list/arguments)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/signals.dm#L113"><img src="git.png" width="16" height="16" title="code/datums/signals.dm 113"></a></aside></h3><p>Internal proc to handle most all of the signaling procedure</p>
<p>Will runtime if used on datums with an empty lookup list</p>
<p>Use the <a href="code/__DEFINES/dcs/helpers.html#define/SEND_SIGNAL" title="SEND_SIGNAL">SEND_SIGNAL</a> define instead</p><h3 id="proc/_clear_signal_refs"><aside class="declaration">proc </aside>_clear_signal_refs<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datum.dm#L172"><img src="git.png" width="16" height="16" title="code/datums/datum.dm 172"></a></aside></h3><p>Only override this if you know what you're doing. You do not know what you're doing
This is a threat</p><h3 id="proc/add_filter"><aside class="declaration">proc </aside>add_filter<aside>(name, priority, /list/params, update)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datum.dm#L333"><img src="git.png" width="16" height="16" title="code/datums/datum.dm 333"></a></aside></h3><ul>
<li>
<p>Add a filter to the datum.</p>
</li>
<li>
<p>This is on datum level, despite being most commonly / primarily used on atoms, so that filters can be applied to images / mutable appearances.</p>
</li>
<li>
<p>Can also be used to assert a filter's existence. I.E. update a filter regardless if it exists or not.</p>
</li>
<li>
<p>Arguments:</p>
</li>
<li>
<ul>
<li>name - Filter name</li>
</ul>
</li>
<li>
<ul>
<li>priority - Priority used when sorting the filter.</li>
</ul>
</li>
<li>
<ul>
<li>params - Parameters of the filter.</li>
</ul>
</li>
<li>
<ul>
<li>update - If we should update our actual filters list, or wait until something updates it later</li>
</ul>
</li>
</ul><h3 id="proc/add_filters"><aside class="declaration">proc </aside>add_filters<aside>(/list/list/filters, update)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datum.dm#L364"><img src="git.png" width="16" height="16" title="code/datums/datum.dm 364"></a></aside></h3><p>A version of add_filter that takes a list of filters to add rather than being individual, to limit appearance updates</p><h3 id="proc/add_traits"><aside class="declaration">proc </aside>add_traits<aside>(/list/list_of_traits, source)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__HELPERS/traits.dm#L36"><img src="git.png" width="16" height="16" title="code/__HELPERS/traits.dm 36"></a></aside></h3><p>Proc that handles adding multiple traits to a target via a list. Must have a common source and target.</p><h3 id="proc/change_filter_priority"><aside class="declaration">proc </aside>change_filter_priority<aside>(name, new_priority)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datum.dm#L480"><img src="git.png" width="16" height="16" title="code/datums/datum.dm 480"></a></aside></h3><p>Updates the priority of the passed filter key</p><h3 id="proc/deserialize_json"><aside class="declaration">proc </aside>deserialize_json<aside>(/list/input, /list/options)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datum.dm#L239"><img src="git.png" width="16" height="16" title="code/datums/datum.dm 239"></a></aside></h3><p>Deserializes from JSON. Does not parse type.</p><h3 id="proc/deserialize_list"><aside class="declaration">proc </aside>deserialize_list<aside>(json, /list/options)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datum.dm#L226"><img src="git.png" width="16" height="16" title="code/datums/datum.dm 226"></a></aside></h3><p>Accepts a LIST from deserialize_datum. Should return whether or not the deserialization was successful.</p><h3 id="proc/dump_harddel_info"><aside class="declaration">proc </aside>dump_harddel_info<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datum.dm#L537"><img src="git.png" width="16" height="16" title="code/datums/datum.dm 537"></a></aside></h3><p>Return text from this proc to provide extra context to hard deletes that happen to it
Optional, you should use this for cases where replication is difficult and extra context is required
Can be called more then once per object, use harddel_deets_dumped to avoid duplicate calls (I am so sorry)</p><h3 id="proc/get_filter"><aside class="declaration">proc </aside>get_filter<aside>(name)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datum.dm#L490"><img src="git.png" width="16" height="16" title="code/datums/datum.dm 490"></a></aside></h3><p>Returns the filter associated with the passed key</p><h3 id="proc/get_filter_data"><aside class="declaration">proc </aside>get_filter_data<aside>(name)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datum.dm#L496"><img src="git.png" width="16" height="16" title="code/datums/datum.dm 496"></a></aside></h3><p>Returns filter data associated with the passed key</p><h3 id="proc/jatum_new_arglist"><aside class="declaration">proc </aside>jatum_new_arglist<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__HELPERS/jatum.dm#L6"><img src="git.png" width="16" height="16" title="code/__HELPERS/jatum.dm 6"></a></aside></h3><p>Gets the flat list that can be passed in a <code>new /type(argslist(retval))</code> expression to recreate the datum. Must only return a list containing values that can be JATUM serialized</p><h3 id="proc/modify_filter"><aside class="declaration">proc </aside>modify_filter<aside>(name, /list/new_params, overwrite, update)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datum.dm#L405"><img src="git.png" width="16" height="16" title="code/datums/datum.dm 405"></a></aside></h3><ul>
<li>
<p>Update a filter's parameter to the new one. If the filter doesn't exist we won't do anything.</p>
</li>
<li>
<p>Arguments:</p>
</li>
<li>
<ul>
<li>name - Filter name</li>
</ul>
</li>
<li>
<ul>
<li>new_params - New parameters of the filter</li>
</ul>
</li>
<li>
<ul>
<li>overwrite - TRUE means we replace the parameter list completely. FALSE means we only replace the things on new_params.</li>
</ul>
</li>
<li>
<ul>
<li>update - If we should apply our filter cache to our actual filters</li>
</ul>
</li>
</ul><h3 id="proc/process"><aside class="declaration">proc </aside>process<aside>(seconds_per_tick)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/controllers/subsystem/processing/processing.dm#L48"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/processing/processing.dm 48"></a></aside></h3><p>This proc is called on a datum on every &quot;cycle&quot; if it is being processed by a subsystem. The time between each cycle is determined by the subsystem's &quot;wait&quot; setting.
You can start and stop processing a datum using the START_PROCESSING and STOP_PROCESSING defines.</p>
<p>Since the wait setting of a subsystem can be changed at any time, it is important that any rate-of-change that you implement in this proc is multiplied by the seconds_per_tick that is sent as a parameter,
Additionally, any &quot;prob&quot; you use in this proc should instead use the SPT_PROB define to make sure that the final probability per second stays the same even if the subsystem's wait is altered.
Examples where this must be considered:</p>
<ul>
<li>Implementing a cooldown timer, use <code>mytimer -= seconds_per_tick</code>, not <code>mytimer -= 1</code>. This way, <code>mytimer</code> will always have the unit of seconds</li>
<li>Damaging a mob, do <code>L.adjustFireLoss(20 * seconds_per_tick)</code>, not <code>L.adjustFireLoss(20)</code>. This way, the damage per second stays constant even if the wait of the subsystem is changed</li>
<li>Probability of something happening, do <code>if(SPT_PROB(25, seconds_per_tick))</code>, not <code>if(prob(25))</code>. This way, if the subsystem wait is e.g. lowered, there won't be a higher chance of this event happening per second</li>
</ul>
<p>If you override this do not call parent, as it will return PROCESS_KILL. This is done to prevent objects that dont override process() from staying in the processing list</p><h3 id="proc/ref_search_details"><aside class="declaration">proc </aside>ref_search_details<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/admin/view_variables/reference_tracking.dm#L203"><img src="git.png" width="16" height="16" title="code/modules/admin/view_variables/reference_tracking.dm 203"></a></aside></h3><p>Return info about us for reference searching purposes
Will be logged as a representation of this datum if it's a part of a search chain</p><h3 id="proc/remove_filter"><aside class="declaration">proc </aside>remove_filter<aside>(name_or_names, update)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datum.dm#L502"><img src="git.png" width="16" height="16" title="code/datums/datum.dm 502"></a></aside></h3><p>Removes the passed filter, or multiple filters, if supplied with a list.</p><h3 id="proc/remove_traits"><aside class="declaration">proc </aside>remove_traits<aside>(/list/list_of_traits, source)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__HELPERS/traits.dm#L42"><img src="git.png" width="16" height="16" title="code/__HELPERS/traits.dm 42"></a></aside></h3><p>Proc that handles removing multiple traits from a target via a list. Must have a common source and target.</p><h3 id="proc/selfdelete"><aside class="declaration">proc </aside>selfdelete<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datum.dm#L530"><img src="git.png" width="16" height="16" title="code/datums/datum.dm 530"></a></aside></h3><p>Calls qdel on itself, because signals dont allow callbacks</p><h3 id="proc/serialize_json"><aside class="declaration">proc </aside>serialize_json<aside>(/list/options)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datum.dm#L231"><img src="git.png" width="16" height="16" title="code/datums/datum.dm 231"></a></aside></h3><p>Serializes into JSON. Does not encode type.</p><h3 id="proc/serialize_list"><aside class="declaration">proc </aside>serialize_list<aside>(/list/options, /list/semvers)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datum.dm#L216"><img src="git.png" width="16" height="16" title="code/datums/datum.dm 216"></a></aside></h3><p>Return a list of data which can be used to investigate the datum, also ensure that you set the semver in the options list</p><h3 id="proc/string_assoc_list"><aside class="declaration">proc </aside>string_assoc_list<aside>(/list/values)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__HELPERS/string_assoc_lists.dm#L6"><img src="git.png" width="16" height="16" title="code/__HELPERS/string_assoc_lists.dm 6"></a></aside></h3><p>Caches associative lists with non-numeric stringify-able index keys and stringify-able values (text/typepath -&gt; text/path/number).</p><h3 id="proc/string_assoc_nested_list"><aside class="declaration">proc </aside>string_assoc_nested_list<aside>(/list/list)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__HELPERS/string_assoc_nested_lists.dm#L6"><img src="git.png" width="16" height="16" title="code/__HELPERS/string_assoc_nested_lists.dm 6"></a></aside></h3><p>Caches associative nested lists with non-numeric stringify-able index keys and stringify-able values (text/typepath -&gt; text/path/number).</p><h3 id="proc/string_numbers_list"><aside class="declaration">proc </aside>string_numbers_list<aside>(/list/values)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/__HELPERS/string_numbers_lists.dm#L6"><img src="git.png" width="16" height="16" title="code/__HELPERS/string_numbers_lists.dm 6"></a></aside></h3><p>Caches lists of numeric values.</p><h3 id="proc/transition_filter"><aside class="declaration">proc </aside>transition_filter<aside>(name, /list/new_params, time, easing, loop)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datum.dm#L437"><img src="git.png" width="16" height="16" title="code/datums/datum.dm 437"></a></aside></h3><ul>
<li>
<p>Update a filter's parameter and animate this change. If the filter doesn't exist we won't do anything.</p>
</li>
<li>
<p>Basically a <a href="datum.html#proc/modify_filter" title="/datum">datum/proc/modify_filter</a> call but with animations. Unmodified filter parameters are kept.</p>
</li>
<li>
<p>Arguments:</p>
</li>
<li>
<ul>
<li>name - Filter name</li>
</ul>
</li>
<li>
<ul>
<li>new_params - New parameters of the filter</li>
</ul>
</li>
<li>
<ul>
<li>time - time arg of the BYOND animate() proc.</li>
</ul>
</li>
<li>
<ul>
<li>easing - easing arg of the BYOND animate() proc.</li>
</ul>
</li>
<li>
<ul>
<li>loop - loop arg of the BYOND animate() proc.</li>
</ul>
</li>
</ul><h3 id="proc/transition_filter_chain"><aside class="declaration">proc </aside>transition_filter_chain<aside>(name, num_loops, ...)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datum.dm#L468"><img src="git.png" width="16" height="16" title="code/datums/datum.dm 468"></a></aside></h3><ul>
<li>Similar to transition_filter(), except it creates an animation chain that moves between a list of states.</li>
<li>Arguments:</li>
<li>
<ul>
<li>name - Filter name</li>
</ul>
</li>
<li>
<ul>
<li>num_loops - Amount of times the chain loops. INDEFINITE = Infinite</li>
</ul>
</li>
<li>
<ul>
<li>... - a list of each link in the animation chain. Use filter_chain_step(params, duration, easing) for each link</li>
</ul>
</li>
<li>Example use:</li>
<li>
<ul>
<li>add_filter(&quot;blue_pulse&quot;, 1, color_matrix_filter(COLOR_WHITE))</li>
</ul>
</li>
<li>
<ul>
<li>transition_filter_chain(src, &quot;blue_pulse&quot;, INDEFINITE,</li>
</ul>
</li>
<li>
<ul>
<li>filter_chain_step(color_matrix_filter(COLOR_BLUE), 10 SECONDS, CUBIC_EASING),</li>
</ul>
</li>
<li>
<ul>
<li>filter_chain_step(color_matrix_filter(COLOR_WHITE), 10 SECONDS, CUBIC_EASING))</li>
</ul>
</li>
<li>The above code would edit a color_matrix_filter() to slowly turn blue over 10 seconds before returning back to white 10 seconds after, repeating this chain forever.</li>
</ul><h3 id="proc/ui_act"><aside class="declaration">proc </aside>ui_act<aside>(action, /list/params, /<a href="datum.html">datum</a>/<a href="datum/tgui.html">tgui</a>/ui, /<a href="datum.html">datum</a>/<a href="datum/ui_state.html">ui_state</a>/state)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/tgui/external.dm#L98"><img src="git.png" width="16" height="16" title="code/modules/tgui/external.dm 98"></a></aside></h3><p>public</p>
<p>Called on a UI when the UI receieves a href.
Think of this as Topic().</p>
<p>required action string The action/button that has been invoked by the user.
required params list A list of parameters attached to the button.</p>
<p>return bool If the user's input has been handled and the UI should update.</p><h3 id="proc/ui_assets"><aside class="declaration">proc </aside>ui_assets<aside>(/<a href="mob.html">mob</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/tgui/external.dm#L117"><img src="git.png" width="16" height="16" title="code/modules/tgui/external.dm 117"></a></aside></h3><p>public</p>
<p>Called on an object when a tgui object is being created, allowing you to
push various assets to tgui, for examples spritesheets.</p>
<p>return list List of asset datums or file paths.</p><h3 id="proc/ui_close"><aside class="declaration">proc </aside>ui_close<aside>(/<a href="mob.html">mob</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/tgui/external.dm#L174"><img src="git.png" width="16" height="16" title="code/modules/tgui/external.dm 174"></a></aside></h3><p>public</p>
<p>Called on a UI's object when the UI is closed, not to be confused with
client/verb/uiclose(), which closes the ui window</p><h3 id="proc/ui_data"><aside class="declaration">proc </aside>ui_data<aside>(/<a href="mob.html">mob</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/tgui/external.dm#L30"><img src="git.png" width="16" height="16" title="code/modules/tgui/external.dm 30"></a></aside></h3><p>public</p>
<p>Data to be sent to the UI.
This must be implemented for a UI to work.</p>
<p>required user mob The mob interacting with the UI.</p>
<p>return list Data to be sent to the UI.</p><h3 id="proc/ui_host"><aside class="declaration">proc </aside>ui_host<aside>(/<a href="mob.html">mob</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/tgui/external.dm#L127"><img src="git.png" width="16" height="16" title="code/modules/tgui/external.dm 127"></a></aside></h3><p>private</p>
<p>The UI's host object (usually src_object).
This allows modules/datums to have the UI attached to them,
and be a part of another object.</p><h3 id="proc/ui_interact"><aside class="declaration">proc </aside>ui_interact<aside>(/<a href="mob.html">mob</a>/user, /<a href="datum.html">datum</a>/<a href="datum/tgui.html">tgui</a>/ui)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/tgui/external.dm#L17"><img src="git.png" width="16" height="16" title="code/modules/tgui/external.dm 17"></a></aside></h3><p>public</p>
<p>Used to open and update UIs.
If this proc is not implemented properly, the UI will not update correctly.</p>
<p>required user mob The mob who opened/is using the UI.
optional ui datum/tgui The UI to be updated, if it exists.</p><h3 id="proc/ui_state"><aside class="declaration">proc </aside>ui_state<aside>(/<a href="mob.html">mob</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/tgui/external.dm#L136"><img src="git.png" width="16" height="16" title="code/modules/tgui/external.dm 136"></a></aside></h3><p>private</p>
<p>The UI's state controller to be used for created uis
This is a proc over a var for memory reasons</p><h3 id="proc/ui_static_data"><aside class="declaration">proc </aside>ui_static_data<aside>(/<a href="mob.html">mob</a>/user)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/tgui/external.dm#L47"><img src="git.png" width="16" height="16" title="code/modules/tgui/external.dm 47"></a></aside></h3><p>public</p>
<p>Static Data to be sent to the UI.</p>
<p>Static data differs from normal data in that it's large data that should be
sent infrequently. This is implemented optionally for heavy uis that would
be sending a lot of redundant data frequently. Gets squished into one
object on the frontend side, but the static part is cached.</p>
<p>required user mob The mob interacting with the UI.</p>
<p>return list Static Data to be sent to the UI.</p><h3 id="proc/ui_status"><aside class="declaration">proc </aside>ui_status<aside>(/<a href="mob.html">mob</a>/user, /<a href="datum.html">datum</a>/<a href="datum/ui_state.html">ui_state</a>/state)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/tgui/states.dm#L19"><img src="git.png" width="16" height="16" title="code/modules/tgui/states.dm 19"></a></aside></h3><p>public</p>
<p>Checks the UI state for a mob.</p>
<p>required user mob The mob who opened/is using the UI.
required state datum/ui_state The state to check.</p>
<p>return UI_state The state of the UI.</p><h3 id="proc/update_data_for_all_viewers"><aside class="declaration">proc </aside>update_data_for_all_viewers<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/tgui/external.dm#L83"><img src="git.png" width="16" height="16" title="code/modules/tgui/external.dm 83"></a></aside></h3><p>public</p>
<p>Will force an update on non-static data for all viewers.
Use when you are manually controlling UI data updates,
such as when you are not using the auto-update system.</p><h3 id="proc/update_filters"><aside class="declaration">proc </aside>update_filters<aside>(start_index)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datum.dm#L373"><img src="git.png" width="16" height="16" title="code/datums/datum.dm 373"></a></aside></h3><p>Reapplies all the filters. If start_index is passed, only a portion of all filters are reapplied starting from said index</p><h3 id="proc/update_static_data"><aside class="declaration">proc </aside>update_static_data<aside>(/<a href="mob.html">mob</a>/user, /<a href="datum.html">datum</a>/<a href="datum/tgui.html">tgui</a>/ui)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/tgui/external.dm#L59"><img src="git.png" width="16" height="16" title="code/modules/tgui/external.dm 59"></a></aside></h3><p>public</p>
<p>Forces an update on static data. Should be done manually whenever something
happens to change static data.</p>
<p>required user the mob currently interacting with the ui
optional ui ui to be updated</p><h3 id="proc/update_static_data_for_all_viewers"><aside class="declaration">proc </aside>update_static_data_for_all_viewers<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/modules/tgui/external.dm#L72"><img src="git.png" width="16" height="16" title="code/modules/tgui/external.dm 72"></a></aside></h3><p>public</p>
<p>Will force an update on static data for all viewers.
Should be done manually whenever something happens to
change static data.</p><h3 id="proc/vv_do_topic"><aside class="declaration">proc </aside>vv_do_topic<aside>(/list/href_list)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datumvars.dm#L51"><img src="git.png" width="16" height="16" title="code/datums/datumvars.dm 51"></a></aside></h3><p>This proc is only called if everything topic-wise is verified. The only verifications that should happen here is things like permission checks!
href_list is a reference, modifying it in these procs WILL change the rest of the proc in topic.dm of admin/view_variables!
This proc is for &quot;high level&quot; actions like admin heal/set species/etc/etc. The low level debugging things should go in admin/view_variables/topic_basic.dm in case this runtimes.</p><h3 id="proc/vv_edit_var"><aside class="declaration">proc </aside>vv_edit_var<aside>(var_name, var_value)  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datumvars.dm#L10"><img src="git.png" width="16" height="16" title="code/datums/datumvars.dm 10"></a></aside></h3><p>Called when a var is edited with the new value to change to</p><h3 id="proc/vv_get_dropdown"><aside class="declaration">proc </aside>vv_get_dropdown<aside>()  <a href="https://github.com/tgstation/tgstation/blob/c41b333c9bc46606d2c5d5b517f7836d5953fbfd/code/datums/datumvars.dm#L31"><img src="git.png" width="16" height="16" title="code/datums/datumvars.dm 31"></a></aside></h3><p>Gets all the dropdown options in the vv menu.
When overriding, make sure to call . = ..() first and append to the result, that way parent items are always at the top and child items are further down.
Add separators by doing VV_DROPDOWN_OPTION(&quot;&quot;, &quot;---&quot;)</p></main><footer>tgstation.dme <a href="https://github.com/tgstation/tgstation/tree/c41b333c9bc46606d2c5d5b517f7836d5953fbfd">c41b333</a> (master) â€” <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>